(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function rT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function t1(){if(k_)return Wl;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=t,Wl.jsxs=t,Wl}var P_;function n1(){return P_||(P_=1,dm.exports=t1()),dm.exports}var ee=n1(),mm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function r1(){if(V_)return De;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function q(C,$,oe){this.props=C,this.context=$,this.refs=K,this.updater=oe||V}q.prototype.isReactComponent={},q.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function re(){}re.prototype=q.prototype;function Y(C,$,oe){this.props=C,this.context=$,this.refs=K,this.updater=oe||V}var J=Y.prototype=new re;J.constructor=Y,F(J,q.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function k(C,$,oe,ie,ae,be){return oe=be.ref,{$$typeof:r,type:C,key:$,ref:oe!==void 0?oe:null,props:be}}function A(C,$){return k(C.type,$,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function I(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(oe){return $[oe]})}var M=/\/+/g;function x(C,$){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):$.toString(36)}function D(){}function rt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ut(C,$,oe,ie,ae){var be=typeof C;(be==="undefined"||be==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case r:case e:Te=!0;break;case E:return Te=C._init,ut(Te(C._payload),$,oe,ie,ae)}}if(Te)return ae=ae(C),Te=ie===""?"."+x(C,0):ie,ce(ae)?(oe="",Te!=null&&(oe=Te.replace(M,"$&/")+"/"),ut(ae,$,oe,"",function(Ke){return Ke})):ae!=null&&(S(ae)&&(ae=A(ae,oe+(ae.key==null||C&&C.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+Te)),$.push(ae)),1;Te=0;var it=ie===""?".":ie+":";if(ce(C))for(var Oe=0;Oe<C.length;Oe++)ie=C[Oe],be=it+x(ie,Oe),Te+=ut(ie,$,oe,be,ae);else if(Oe=O(C),typeof Oe=="function")for(C=Oe.call(C),Oe=0;!(ie=C.next()).done;)ie=ie.value,be=it+x(ie,Oe++),Te+=ut(ie,$,oe,be,ae);else if(be==="object"){if(typeof C.then=="function")return ut(rt(C),$,oe,ie,ae);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Te}function te(C,$,oe){if(C==null)return C;var ie=[],ae=0;return ut(C,ie,"","",function(be){return $.call(oe,be,ae++)}),ie}function ge(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(oe){(C._status===0||C._status===-1)&&(C._status=1,C._result=oe)},function(oe){(C._status===0||C._status===-1)&&(C._status=2,C._result=oe)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var fe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ie(){}return De.Children={map:te,forEach:function(C,$,oe){te(C,function(){$.apply(this,arguments)},oe)},count:function(C){var $=0;return te(C,function(){$++}),$},toArray:function(C){return te(C,function($){return $})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},De.Component=q,De.Fragment=t,De.Profiler=o,De.PureComponent=Y,De.StrictMode=a,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(C){return function(){return C.apply(null,arguments)}},De.cloneElement=function(C,$,oe){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=F({},C.props),ae=C.key,be=void 0;if($!=null)for(Te in $.ref!==void 0&&(be=void 0),$.key!==void 0&&(ae=""+$.key),$)!ye.call($,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&$.ref===void 0||(ie[Te]=$[Te]);var Te=arguments.length-2;if(Te===1)ie.children=oe;else if(1<Te){for(var it=Array(Te),Oe=0;Oe<Te;Oe++)it[Oe]=arguments[Oe+2];ie.children=it}return k(C.type,ae,void 0,void 0,be,ie)},De.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},De.createElement=function(C,$,oe){var ie,ae={},be=null;if($!=null)for(ie in $.key!==void 0&&(be=""+$.key),$)ye.call($,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ae[ie]=$[ie]);var Te=arguments.length-2;if(Te===1)ae.children=oe;else if(1<Te){for(var it=Array(Te),Oe=0;Oe<Te;Oe++)it[Oe]=arguments[Oe+2];ae.children=it}if(C&&C.defaultProps)for(ie in Te=C.defaultProps,Te)ae[ie]===void 0&&(ae[ie]=Te[ie]);return k(C,be,void 0,void 0,null,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(C){return{$$typeof:m,render:C}},De.isValidElement=S,De.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:ge}},De.memo=function(C,$){return{$$typeof:y,type:C,compare:$===void 0?null:$}},De.startTransition=function(C){var $=ue.T,oe={};ue.T=oe;try{var ie=C(),ae=ue.S;ae!==null&&ae(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,fe)}catch(be){fe(be)}finally{ue.T=$}},De.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},De.use=function(C){return ue.H.use(C)},De.useActionState=function(C,$,oe){return ue.H.useActionState(C,$,oe)},De.useCallback=function(C,$){return ue.H.useCallback(C,$)},De.useContext=function(C){return ue.H.useContext(C)},De.useDebugValue=function(){},De.useDeferredValue=function(C,$){return ue.H.useDeferredValue(C,$)},De.useEffect=function(C,$){return ue.H.useEffect(C,$)},De.useId=function(){return ue.H.useId()},De.useImperativeHandle=function(C,$,oe){return ue.H.useImperativeHandle(C,$,oe)},De.useInsertionEffect=function(C,$){return ue.H.useInsertionEffect(C,$)},De.useLayoutEffect=function(C,$){return ue.H.useLayoutEffect(C,$)},De.useMemo=function(C,$){return ue.H.useMemo(C,$)},De.useOptimistic=function(C,$){return ue.H.useOptimistic(C,$)},De.useReducer=function(C,$,oe){return ue.H.useReducer(C,$,oe)},De.useRef=function(C){return ue.H.useRef(C)},De.useState=function(C){return ue.H.useState(C)},De.useSyncExternalStore=function(C,$,oe){return ue.H.useSyncExternalStore(C,$,oe)},De.useTransition=function(){return ue.H.useTransition()},De.version="19.0.0",De}var x_;function Rg(){return x_||(x_=1,mm.exports=r1()),mm.exports}var Ye=Rg();const fs=rT(Ye);var gm={exports:{}},Ql={},pm={exports:{}},ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function i1(){return L_||(L_=1,function(r){function e(te,ge){var fe=te.length;te.push(ge);e:for(;0<fe;){var Ie=fe-1>>>1,C=te[Ie];if(0<o(C,ge))te[Ie]=ge,te[fe]=C,fe=Ie;else break e}}function t(te){return te.length===0?null:te[0]}function a(te){if(te.length===0)return null;var ge=te[0],fe=te.pop();if(fe!==ge){te[0]=fe;e:for(var Ie=0,C=te.length,$=C>>>1;Ie<$;){var oe=2*(Ie+1)-1,ie=te[oe],ae=oe+1,be=te[ae];if(0>o(ie,fe))ae<C&&0>o(be,ie)?(te[Ie]=be,te[ae]=fe,Ie=ae):(te[Ie]=ie,te[oe]=fe,Ie=oe);else if(ae<C&&0>o(be,fe))te[Ie]=be,te[ae]=fe,Ie=ae;else break e}}return ge}function o(te,ge){var fe=te.sortIndex-ge.sortIndex;return fe!==0?fe:te.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,O=3,V=!1,F=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function J(te){for(var ge=t(y);ge!==null;){if(ge.callback===null)a(y);else if(ge.startTime<=te)a(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=t(y)}}function ce(te){if(K=!1,J(te),!F)if(t(g)!==null)F=!0,rt();else{var ge=t(y);ge!==null&&ut(ce,ge.startTime-te)}}var ue=!1,ye=-1,k=5,A=-1;function S(){return!(r.unstable_now()-A<k)}function I(){if(ue){var te=r.unstable_now();A=te;var ge=!0;try{e:{F=!1,K&&(K=!1,re(ye),ye=-1),V=!0;var fe=O;try{t:{for(J(te),b=t(g);b!==null&&!(b.expirationTime>te&&S());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,O=b.priorityLevel;var C=Ie(b.expirationTime<=te);if(te=r.unstable_now(),typeof C=="function"){b.callback=C,J(te),ge=!0;break t}b===t(g)&&a(g),J(te)}else a(g);b=t(g)}if(b!==null)ge=!0;else{var $=t(y);$!==null&&ut(ce,$.startTime-te),ge=!1}}break e}finally{b=null,O=fe,V=!1}ge=void 0}}finally{ge?M():ue=!1}}}var M;if(typeof Y=="function")M=function(){Y(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,D=x.port2;x.port1.onmessage=I,M=function(){D.postMessage(null)}}else M=function(){q(I,0)};function rt(){ue||(ue=!0,M())}function ut(te,ge){ye=q(function(){te(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){F||V||(F=!0,rt())},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(te){switch(O){case 1:case 2:case 3:var ge=3;break;default:ge=O}var fe=O;O=ge;try{return te()}finally{O=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,ge){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=O;O=te;try{return ge()}finally{O=fe}},r.unstable_scheduleCallback=function(te,ge,fe){var Ie=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,te){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,te={id:E++,callback:ge,priorityLevel:te,startTime:fe,expirationTime:C,sortIndex:-1},fe>Ie?(te.sortIndex=fe,e(y,te),t(g)===null&&te===t(y)&&(K?(re(ye),ye=-1):K=!0,ut(ce,fe-Ie))):(te.sortIndex=C,e(g,te),F||V||(F=!0,rt())),te},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(te){var ge=O;return function(){var fe=O;O=ge;try{return te.apply(this,arguments)}finally{O=fe}}}}(ym)),ym}var U_;function a1(){return U_||(U_=1,pm.exports=i1()),pm.exports}var vm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function s1(){if(j_)return un;j_=1;var r=Rg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},un.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:V}):E==="script"&&a.d.X(g,{crossOrigin:b,integrity:O,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},un.requestFormReset=function(g){a.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.0.0",un}var z_;function o1(){if(z_)return vm.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=s1(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function l1(){if(B_)return Ql;B_=1;var r=a1(),e=Rg(),t=o1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function A(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Provider";case O:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case re:return i=n.displayName||null,i!==null?i:A(n.type)||"Memo";case Y:i=n._payload,n=n._init;try{return A(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,x;function D(n){if(M===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",x=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+x}var rt=!1;function ut(n,i){if(!n||rt)return"";rt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(n,[],X)}else{try{X.call()}catch(H){z=H}n.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var R=_.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=h);break}}}finally{rt=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?D(s):""}function te(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=ut(n.type,!1),n;case 11:return n=ut(n.type.render,!1),n;case 1:return n=ut(n.type,!0),n;default:return""}}function ge(n){try{var i="";do i+=te(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function fe(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function Ie(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function C(n){if(fe(n)!==n)throw Error(a(188))}function $(n){var i=n.alternate;if(!i){if(i=fe(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return C(h),n;if(d===l)return C(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function oe(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=oe(n),i!==null)return i;n=n.sibling}return null}var ie=Array.isArray,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Te=[],it=-1;function Oe(n){return{current:n}}function Ke(n){0>it||(n.current=Te[it],Te[it]=null,it--)}function Be(n,i){it++,Te[it]=n.current,n.current=i}var kt=Oe(null),Tn=Oe(null),an=Oe(null),Ze=Oe(null);function wn(n,i){switch(Be(an,i),Be(Tn,n),Be(kt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?l_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=l_(n),i=u_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ke(kt),Be(kt,i)}function yt(){Ke(kt),Ke(Tn),Ke(an)}function Tr(n){n.memoizedState!==null&&Be(Ze,n);var i=kt.current,s=u_(i,n.type);i!==s&&(Be(Tn,n),Be(kt,s))}function Qr(n){Tn.current===n&&(Ke(kt),Ke(Tn)),Ze.current===n&&(Ke(Ze),Hl._currentValue=be)}var $r=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,Mi=r.unstable_cancelCallback,Qo=r.unstable_shouldYield,ki=r.unstable_requestPaint,sn=r.unstable_now,Os=r.unstable_getCurrentPriorityLevel,St=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,Pi=r.unstable_LowPriority,Vi=r.unstable_IdlePriority,Ns=r.log,Zr=r.unstable_setDisableYieldValue,Dn=null,Pt=null;function Na(n){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Dn,n,void 0,(n.current.flags&128)===128)}catch{}}function In(n){if(typeof Ns=="function"&&Zr(n),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Dn,n)}catch{}}var Ht=Math.clz32?Math.clz32:Ma,Jr=Math.log,Ms=Math.LN2;function Ma(n){return n>>>=0,n===0?32:31-(Jr(n)/Ms|0)|0}var jn=128,ur=4194304;function at(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function tt(n,i){var s=n.pendingLanes;if(s===0)return 0;var l=0,h=n.suspendedLanes,d=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=at(s):(d&=T,d!==0?l=at(d):n||(_=T&~_,_!==0&&(l=at(_))))):(T=s&~h,T!==0?l=at(T):d!==0?l=at(d):n||(_=s&~_,_!==0&&(l=at(_)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function Cn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function We(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var n=jn;return jn<<=1,!(jn&4194176)&&(jn=128),n}function wr(){var n=ur;return ur<<=1,!(ur&62914560)&&(ur=4194304),n}function br(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function ct(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ka(n,i,s,l,h,d){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,P=n.hiddenUpdates;for(s=_&~s;0<s;){var G=31-Ht(s),X=1<<G;T[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}s&=~X}l!==0&&zn(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function zn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Ht(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&4194218}function On(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-Ht(s),h=1<<l;h&i|n[l]&i&&(n[l]|=i),s&=~h}}function xi(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Li(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:D_(n.type))}function Bn(n,i){var s=ae.p;try{return ae.p=n,i()}finally{ae.p=s}}var qn=Math.random().toString(36).slice(2),vt="__reactFiber$"+qn,_t="__reactProps$"+qn,cr="__reactContainer$"+qn,ei="__reactEvents$"+qn,Re="__reactListeners$"+qn,qe="__reactHandles$"+qn,st="__reactResources$"+qn,It="__reactMarker$"+qn;function Vt(n){delete n[vt],delete n[_t],delete n[ei],delete n[Re],delete n[qe]}function gn(n){var i=n[vt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[cr]||s[vt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=f_(n);n!==null;){if(s=n[vt])return s;n=f_(n)}return i}n=s,s=n.parentNode}return null}function hr(n){if(n=n[vt]||n[cr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Sr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Ui(n){var i=n[st];return i||(i=n[st]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(n){n[It]=!0}var $o=new Set,ks={};function Nn(n,i){bn(n,i),bn(n+"Capture",i)}function bn(n,i){for(ks[n]=i,n=0;n<i.length;n++)$o.add(i[n])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Zo={};function Vu(n){return $r.call(Zo,n)?!0:$r.call(Xo,n)?!1:yf.test(n)?Zo[n]=!0:(Xo[n]=!0,!1)}function ji(n,i,s){if(Vu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function zi(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Hn(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vf(n){var i=xu(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Pa(n){n._valueTracker||(n._valueTracker=vf(n))}function Jo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=xu(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ti=/[\n"\\]/g;function Et(n){return n.replace(ti,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Bi(n,i,s,l,h,d,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pn(i)):n.value!==""+pn(i)&&(n.value=""+pn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Vs(n,_,pn(i)):s!=null?Vs(n,_,pn(s)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+pn(T):n.removeAttribute("name")}function Va(n,i,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+pn(s):"",i=i!=null?""+pn(i):s,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Vs(n,i,s){i==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function He(n,i,s,l){if(n=n.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=i.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&l&&(n[s].defaultSelected=!0)}else{for(s=""+pn(s),i=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function xa(n,i,s){if(i!=null&&(i=""+pn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+pn(s):""}function qi(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=pn(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l)}function Fn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||_f.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Lu(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&el(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&el(n,d,i[d])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(n){return Tf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gn=null;function xs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ni=null,ri=null;function ii(n){var i=hr(n);if(i&&(n=i.stateNode)){var s=n[_t]||null;e:switch(n=i.stateNode,i.type){case"input":if(Bi(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var h=l[_t]||null;if(!h)throw Error(a(90));Bi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&Jo(l)}break e;case"textarea":xa(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&He(n,!!s.multiple,i,!1)}}}var nl=!1;function Uu(n,i,s){if(nl)return n(i,s);nl=!0;try{var l=n(i);return l}finally{if(nl=!1,(ni!==null||ri!==null)&&(Cc(),ni&&(i=ni,n=ri,ri=ni=null,ii(i),n)))for(i=0;i<n.length;i++)ii(n[i])}}function La(n,i){var s=n.stateNode;if(s===null)return null;var l=s[_t]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Yn=!1;if(Mn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Yn=!1}var Rr=null,Hi=null,ai=null;function rl(){if(ai)return ai;var n,i=Hi,s=i.length,l,h="value"in Rr?Rr.value:Rr.textContent,d=h.length;for(n=0;n<s&&i[n]===h[n];n++);var _=s-n;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return ai=h.slice(n,1<l?1-l:void 0)}function Dr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ir(){return!0}function il(){return!1}function Ft(n){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ir:il,this.isPropagationStopped=il,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Ft(Qe),ja=I({},Qe,{view:0,detail:0}),ju=Ft(ja),Us,js,Cr,za=I({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cr&&(Cr&&n.type==="mousemove"?(Us=n.screenX-Cr.screenX,js=n.screenY-Cr.screenY):js=Us=0,Cr=n),Us)},movementY:function(n){return"movementY"in n?n.movementY:js}}),Kn=Ft(za),zu=I({},za,{dataTransfer:0}),wf=Ft(zu),Ba=I({},ja,{relatedTarget:0}),zs=Ft(Ba),al=I({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Bs=Ft(al),Bu=I({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qs=Ft(Bu),bf=I({},Qe,{data:0}),sl=Ft(bf),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hu[n])?!!i[n]:!1}function Ha(){return ol}var Fu=I({},ja,{key:function(n){if(n.key){var i=qa[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Dr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(n){return n.type==="keypress"?Dr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Dr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hs=Ft(Fu),Gu=I({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ft(Gu),si=I({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Yu=Ft(si),Ku=I({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Ft(Ku),Qu=I({},za,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fs=Ft(Qu),yn=I({},Qe,{newState:0,oldState:0}),$u=Ft(yn),Xu=[9,13,27,32],Or=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var p=Mn&&"TextEvent"in window&&!c,v=Mn&&(!Or||c&&8<c&&11>=c),w=" ",U=!1;function B(n,i){switch(n){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function xt(n,i){switch(n){case"compositionend":return ne(i);case"keypress":return i.which!==32?null:(U=!0,w);case"textInput":return n=i.data,n===w&&U?null:n;default:return null}}function Ue(n,i){if(Le)return n==="compositionend"||!Or&&B(n,i)?(n=rl(),ai=Hi=Rr=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Gt[n.type]:i==="textarea"}function oi(n,i,s,l){ni?ri?ri.push(l):ri=[l]:ni=l,i=Pc(i,"onChange"),0<i.length&&(s=new Ls("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var $t=null,Nr=null;function ul(n){r_(n,0)}function Zu(n){var i=Sr(n);if(Jo(i))return n}function Mp(n,i){if(n==="change")return i}var kp=!1;if(Mn){var Sf;if(Mn){var Af="oninput"in document;if(!Af){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Af=typeof Pp.oninput=="function"}Sf=Af}else Sf=!1;kp=Sf&&(!document.documentMode||9<document.documentMode)}function Vp(){$t&&($t.detachEvent("onpropertychange",xp),Nr=$t=null)}function xp(n){if(n.propertyName==="value"&&Zu(Nr)){var i=[];oi(i,Nr,n,xs(n)),Uu(ul,i)}}function NS(n,i,s){n==="focusin"?(Vp(),$t=i,Nr=s,$t.attachEvent("onpropertychange",xp)):n==="focusout"&&Vp()}function MS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(Nr)}function kS(n,i){if(n==="click")return Zu(i)}function PS(n,i){if(n==="input"||n==="change")return Zu(i)}function VS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var kn=typeof Object.is=="function"?Object.is:VS;function cl(n,i){if(kn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!$r.call(i,h)||!kn(n[h],i[h]))return!1}return!0}function Lp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Up(n,i){var s=Lp(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lp(s)}}function jp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?jp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function zp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ps(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ps(n.document)}return i}function Rf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function xS(n,i){var s=zp(i);i=n.focusedElem;var l=n.selectionRange;if(s!==i&&i&&i.ownerDocument&&jp(i.ownerDocument.documentElement,i)){if(l!==null&&Rf(i)){if(n=l.start,s=l.end,s===void 0&&(s=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(s,i.value.length);else if(s=(n=i.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=Up(i,d);var _=Up(i,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(n),s.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),s.addRange(n)))}}for(n=[],s=i;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)s=n[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var LS=Mn&&"documentMode"in document&&11>=document.documentMode,Gs=null,Df=null,hl=null,If=!1;function Bp(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;If||Gs==null||Gs!==Ps(l)||(l=Gs,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Pc(Df,"onSelect"),0<l.length&&(i=new Ls("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=Gs)))}function Fa(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ys={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Cf={},qp={};Mn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Ga(n){if(Cf[n])return Cf[n];if(!Ys[n])return n;var i=Ys[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in qp)return Cf[n]=i[s];return n}var Hp=Ga("animationend"),Fp=Ga("animationiteration"),Gp=Ga("animationstart"),US=Ga("transitionrun"),jS=Ga("transitionstart"),zS=Ga("transitioncancel"),Yp=Ga("transitionend"),Kp=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fr(n,i){Kp.set(n,i),Nn(i,[n])}var Wn=[],Ks=0,Of=0;function Ju(){for(var n=Ks,i=Of=Ks=0;i<n;){var s=Wn[i];Wn[i++]=null;var l=Wn[i];Wn[i++]=null;var h=Wn[i];Wn[i++]=null;var d=Wn[i];if(Wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Qp(s,h,d)}}function ec(n,i,s,l){Wn[Ks++]=n,Wn[Ks++]=i,Wn[Ks++]=s,Wn[Ks++]=l,Of|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Nf(n,i,s,l){return ec(n,i,s,l),tc(n)}function Fi(n,i){return ec(n,null,null,i),tc(n)}function Qp(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=n.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;h&&i!==null&&n.tag===3&&(d=n.stateNode,h=31-Ht(s),d=d.hiddenUpdates,n=d[h],n===null?d[h]=[i]:n.push(i),i.lane=s|536870912)}function tc(n){if(50<xl)throw xl=0,Ld=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ws={},$p=new WeakMap;function Qn(n,i){if(typeof n=="object"&&n!==null){var s=$p.get(n);return s!==void 0?s:(i={value:n,source:i,stack:ge(i)},$p.set(n,i),i)}return{value:n,source:i,stack:ge(i)}}var Qs=[],$s=0,nc=null,rc=0,$n=[],Xn=0,Ya=null,li=1,ui="";function Ka(n,i){Qs[$s++]=rc,Qs[$s++]=nc,nc=n,rc=i}function Xp(n,i,s){$n[Xn++]=li,$n[Xn++]=ui,$n[Xn++]=Ya,Ya=n;var l=li;n=ui;var h=32-Ht(l)-1;l&=~(1<<h),s+=1;var d=32-Ht(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,li=1<<32-Ht(i)+h|s<<h|l,ui=d+n}else li=1<<d|s<<h|l,ui=n}function Mf(n){n.return!==null&&(Ka(n,1),Xp(n,1,0))}function kf(n){for(;n===nc;)nc=Qs[--$s],Qs[$s]=null,rc=Qs[--$s],Qs[$s]=null;for(;n===Ya;)Ya=$n[--Xn],$n[Xn]=null,ui=$n[--Xn],$n[Xn]=null,li=$n[--Xn],$n[Xn]=null}var vn=null,Xt=null,Fe=!1,dr=null,Mr=!1,Pf=Error(a(519));function Wa(n){var i=Error(a(418,""));throw ml(Qn(i,n)),Pf}function Zp(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[vt]=n,i[_t]=l,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<Ul.length;s++)Ve(Ul[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Va(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pa(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),qi(i,l.value,l.defaultValue,l.children),Pa(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||o_(i.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Vc),i=!0):i=!1,i||Wa(n)}function Jp(n){for(vn=n.return;vn;)switch(vn.tag){case 3:case 27:Mr=!0;return;case 5:case 13:Mr=!1;return;default:vn=vn.return}}function fl(n){if(n!==vn)return!1;if(!Fe)return Jp(n),Fe=!0,!1;var i=!1,s;if((s=n.tag!==3&&n.tag!==27)&&((s=n.tag===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||em(n.type,n.memoizedProps)),s=!s),s&&(i=!0),i&&Xt&&Wa(n),Jp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Xt=gr(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Xt=null}}else Xt=vn?gr(n.stateNode.nextSibling):null;return!0}function dl(){Xt=vn=null,Fe=!1}function ml(n){dr===null?dr=[n]:dr.push(n)}var gl=Error(a(460)),ey=Error(a(474)),Vf={then:function(){}};function ty(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ic(){}function ny(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(ic,ic),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===gl?Error(a(483)):n;default:if(typeof i.status=="string")i.then(ic,ic);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===gl?Error(a(483)):n}throw pl=i,gl}}var pl=null;function ry(){if(pl===null)throw Error(a(459));var n=pl;return pl=null,n}var Xs=null,yl=0;function ac(n){var i=yl;return yl+=1,Xs===null&&(Xs=[]),ny(Xs,n,i)}function vl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function sc(n,i){throw i.$$typeof===u?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function iy(n){var i=n._init;return i(n._payload)}function ay(n){function i(L,N){if(n){var j=L.deletions;j===null?(L.deletions=[N],L.flags|=16):j.push(N)}}function s(L,N){if(!n)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=na(L,N),L.index=0,L.sibling=null,L}function d(L,N,j){return L.index=j,n?(j=L.alternate,j!==null?(j=j.index,j<N?(L.flags|=33554434,N):j):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function _(L){return n&&L.alternate===null&&(L.flags|=33554434),L}function T(L,N,j,W){return N===null||N.tag!==6?(N=Cd(j,L.mode,W),N.return=L,N):(N=h(N,j),N.return=L,N)}function R(L,N,j,W){var le=j.type;return le===g?G(L,N,j.props.children,W,j.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&iy(le)===N.type)?(N=h(N,j.props),vl(N,j),N.return=L,N):(N=Sc(j.type,j.key,j.props,null,L.mode,W),vl(N,j),N.return=L,N)}function P(L,N,j,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Od(j,L.mode,W),N.return=L,N):(N=h(N,j.children||[]),N.return=L,N)}function G(L,N,j,W,le){return N===null||N.tag!==7?(N=is(j,L.mode,W,le),N.return=L,N):(N=h(N,j),N.return=L,N)}function X(L,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Cd(""+N,L.mode,j),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return j=Sc(N.type,N.key,N.props,null,L.mode,j),vl(j,N),j.return=L,j;case m:return N=Od(N,L.mode,j),N.return=L,N;case Y:var W=N._init;return N=W(N._payload),X(L,N,j)}if(ie(N)||ye(N))return N=is(N,L.mode,j,null),N.return=L,N;if(typeof N.then=="function")return X(L,ac(N),j);if(N.$$typeof===V)return X(L,Tc(L,N),j);sc(L,N)}return null}function z(L,N,j,W){var le=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return le!==null?null:T(L,N,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case f:return j.key===le?R(L,N,j,W):null;case m:return j.key===le?P(L,N,j,W):null;case Y:return le=j._init,j=le(j._payload),z(L,N,j,W)}if(ie(j)||ye(j))return le!==null?null:G(L,N,j,W,null);if(typeof j.then=="function")return z(L,N,ac(j),W);if(j.$$typeof===V)return z(L,N,Tc(L,j),W);sc(L,j)}return null}function H(L,N,j,W,le){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(j)||null,T(N,L,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return L=L.get(W.key===null?j:W.key)||null,R(N,L,W,le);case m:return L=L.get(W.key===null?j:W.key)||null,P(N,L,W,le);case Y:var Ne=W._init;return W=Ne(W._payload),H(L,N,j,W,le)}if(ie(W)||ye(W))return L=L.get(j)||null,G(N,L,W,le,null);if(typeof W.then=="function")return H(L,N,j,ac(W),le);if(W.$$typeof===V)return H(L,N,j,Tc(N,W),le);sc(N,W)}return null}function he(L,N,j,W){for(var le=null,Ne=null,de=N,ve=N=0,Wt=null;de!==null&&ve<j.length;ve++){de.index>ve?(Wt=de,de=null):Wt=de.sibling;var Ge=z(L,de,j[ve],W);if(Ge===null){de===null&&(de=Wt);break}n&&de&&Ge.alternate===null&&i(L,de),N=d(Ge,N,ve),Ne===null?le=Ge:Ne.sibling=Ge,Ne=Ge,de=Wt}if(ve===j.length)return s(L,de),Fe&&Ka(L,ve),le;if(de===null){for(;ve<j.length;ve++)de=X(L,j[ve],W),de!==null&&(N=d(de,N,ve),Ne===null?le=de:Ne.sibling=de,Ne=de);return Fe&&Ka(L,ve),le}for(de=l(de);ve<j.length;ve++)Wt=H(de,L,ve,j[ve],W),Wt!==null&&(n&&Wt.alternate!==null&&de.delete(Wt.key===null?ve:Wt.key),N=d(Wt,N,ve),Ne===null?le=Wt:Ne.sibling=Wt,Ne=Wt);return n&&de.forEach(function(ua){return i(L,ua)}),Fe&&Ka(L,ve),le}function Se(L,N,j,W){if(j==null)throw Error(a(151));for(var le=null,Ne=null,de=N,ve=N=0,Wt=null,Ge=j.next();de!==null&&!Ge.done;ve++,Ge=j.next()){de.index>ve?(Wt=de,de=null):Wt=de.sibling;var ua=z(L,de,Ge.value,W);if(ua===null){de===null&&(de=Wt);break}n&&de&&ua.alternate===null&&i(L,de),N=d(ua,N,ve),Ne===null?le=ua:Ne.sibling=ua,Ne=ua,de=Wt}if(Ge.done)return s(L,de),Fe&&Ka(L,ve),le;if(de===null){for(;!Ge.done;ve++,Ge=j.next())Ge=X(L,Ge.value,W),Ge!==null&&(N=d(Ge,N,ve),Ne===null?le=Ge:Ne.sibling=Ge,Ne=Ge);return Fe&&Ka(L,ve),le}for(de=l(de);!Ge.done;ve++,Ge=j.next())Ge=H(de,L,ve,Ge.value,W),Ge!==null&&(n&&Ge.alternate!==null&&de.delete(Ge.key===null?ve:Ge.key),N=d(Ge,N,ve),Ne===null?le=Ge:Ne.sibling=Ge,Ne=Ge);return n&&de.forEach(function(e1){return i(L,e1)}),Fe&&Ka(L,ve),le}function bt(L,N,j,W){if(typeof j=="object"&&j!==null&&j.type===g&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case f:e:{for(var le=j.key;N!==null;){if(N.key===le){if(le=j.type,le===g){if(N.tag===7){s(L,N.sibling),W=h(N,j.props.children),W.return=L,L=W;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&iy(le)===N.type){s(L,N.sibling),W=h(N,j.props),vl(W,j),W.return=L,L=W;break e}s(L,N);break}else i(L,N);N=N.sibling}j.type===g?(W=is(j.props.children,L.mode,W,j.key),W.return=L,L=W):(W=Sc(j.type,j.key,j.props,null,L.mode,W),vl(W,j),W.return=L,L=W)}return _(L);case m:e:{for(le=j.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){s(L,N.sibling),W=h(N,j.children||[]),W.return=L,L=W;break e}else{s(L,N);break}else i(L,N);N=N.sibling}W=Od(j,L.mode,W),W.return=L,L=W}return _(L);case Y:return le=j._init,j=le(j._payload),bt(L,N,j,W)}if(ie(j))return he(L,N,j,W);if(ye(j)){if(le=ye(j),typeof le!="function")throw Error(a(150));return j=le.call(j),Se(L,N,j,W)}if(typeof j.then=="function")return bt(L,N,ac(j),W);if(j.$$typeof===V)return bt(L,N,Tc(L,j),W);sc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(s(L,N.sibling),W=h(N,j),W.return=L,L=W):(s(L,N),W=Cd(j,L.mode,W),W.return=L,L=W),_(L)):s(L,N)}return function(L,N,j,W){try{yl=0;var le=bt(L,N,j,W);return Xs=null,le}catch(de){if(de===gl)throw de;var Ne=tr(29,de,null,L.mode);return Ne.lanes=W,Ne.return=L,Ne}finally{}}}var Qa=ay(!0),sy=ay(!1),Zs=Oe(null),oc=Oe(0);function oy(n,i){n=Ei,Be(oc,n),Be(Zs,i),Ei=n|i.baseLanes}function xf(){Be(oc,Ei),Be(Zs,Zs.current)}function Lf(){Ei=oc.current,Ke(Zs),Ke(oc)}var Zn=Oe(null),kr=null;function Gi(n){var i=n.alternate;Be(Ut,Ut.current&1),Be(Zn,n),kr===null&&(i===null||Zs.current!==null||i.memoizedState!==null)&&(kr=n)}function ly(n){if(n.tag===22){if(Be(Ut,Ut.current),Be(Zn,n),kr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(kr=n)}}else Yi()}function Yi(){Be(Ut,Ut.current),Be(Zn,Zn.current)}function ci(n){Ke(Zn),kr===n&&(kr=null),Ke(Ut)}var Ut=Oe(0);function lc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var BS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},qS=r.unstable_scheduleCallback,HS=r.unstable_NormalPriority,jt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new BS,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&qS(HS,function(){n.controller.abort()})}var El=null,jf=0,Js=0,eo=null;function FS(n,i){if(El===null){var s=El=[];jf=0,Js=Gd(),eo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return jf++,i.then(uy,uy),i}function uy(){if(--jf===0&&El!==null){eo!==null&&(eo.status="fulfilled");var n=El;El=null,Js=0,eo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function GS(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var cy=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FS(n,i),cy!==null&&cy(n,i)};var $a=Oe(null);function zf(){var n=$a.current;return n!==null?n:ot.pooledCache}function uc(n,i){i===null?Be($a,$a.current):Be($a,i.pool)}function hy(){var n=zf();return n===null?null:{parent:jt._currentValue,pool:n}}var Ki=0,Ce=null,Je=null,Ct=null,cc=!1,to=!1,Xa=!1,hc=0,Tl=0,no=null,YS=0;function At(){throw Error(a(321))}function Bf(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!kn(n[s],i[s]))return!1;return!0}function qf(n,i,s,l,h,d){return Ki=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?Za:Wi,Xa=!1,d=s(l,h),Xa=!1,to&&(d=dy(i,s,l,h)),fy(n),d}function fy(n){S.H=Pr;var i=Je!==null&&Je.next!==null;if(Ki=0,Ct=Je=Ce=null,cc=!1,Tl=0,no=null,i)throw Error(a(300));n===null||Yt||(n=n.dependencies,n!==null&&Ec(n)&&(Yt=!0))}function dy(n,i,s,l){Ce=n;var h=0;do{if(to&&(no=null),Tl=0,to=!1,25<=h)throw Error(a(301));if(h+=1,Ct=Je=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ja,d=i(s,l)}while(to);return d}function KS(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?wl(i):i,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Hf(){var n=hc!==0;return hc=0,n}function Ff(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Gf(n){if(cc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cc=!1}Ki=0,Ct=Je=Ce=null,to=!1,Tl=hc=0,no=null}function Sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Ot(){if(Je===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var i=Ct===null?Ce.memoizedState:Ct.next;if(i!==null)Ct=i,Je=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Ce.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}var fc;fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wl(n){var i=Tl;return Tl+=1,no===null&&(no=[]),n=ny(no,n,i),i=Ce,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Za:Wi),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===V)return ln(n)}throw Error(a(438,String(n)))}function Yf(n){var i=null,s=Ce.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=fc(),Ce.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=ce;return i.index++,s}function hi(n,i){return typeof i=="function"?i(n):i}function mc(n){var i=Ot();return Kf(i,Je,n)}function Kf(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var T=_=null,R=null,P=i,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(je&X)===X:(Ki&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Js&&(G=!0);else if((Ki&z)===z){P=P.next,z===Js&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=X,_=d):R=R.next=X,Ce.lanes|=z,ra|=z;X=P.action,Xa&&s(d,X),d=P.hasEagerState?P.eagerState:s(d,X)}else z={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,_=d):R=R.next=z,Ce.lanes|=X,ra|=X;P=P.next}while(P!==null&&P!==i);if(R===null?_=d:R.next=T,!kn(d,n.memoizedState)&&(Yt=!0,G&&(s=eo,s!==null)))throw s;n.memoizedState=d,n.baseState=_,n.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Wf(n){var i=Ot(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=n(d,_.action),_=_.next;while(_!==h);kn(d,i.memoizedState)||(Yt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function my(n,i,s){var l=Ce,h=Ot(),d=Fe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!kn((Je||h).memoizedState,s);if(_&&(h.memoizedState=s,Yt=!0),h=h.queue,Xf(yy.bind(null,l,h,n),[n]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ro(9,py.bind(null,l,h,s,i),{destroy:void 0},null),ot===null)throw Error(a(349));d||Ki&60||gy(l,i,s)}return s}function gy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ce.updateQueue,i===null?(i=fc(),Ce.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function py(n,i,s,l){i.value=s,i.getSnapshot=l,vy(i)&&_y(n)}function yy(n,i,s){return s(function(){vy(i)&&_y(n)})}function vy(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!kn(n,s)}catch{return!0}}function _y(n){var i=Fi(n,2);i!==null&&_n(i,n,2)}function Qf(n){var i=Sn();if(typeof n=="function"){var s=n;if(n=s(),Xa){In(!0);try{s()}finally{In(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},i}function Ey(n,i,s,l){return n.baseState=s,Kf(n,Je,typeof l=="function"?l:hi)}function WS(n,i,s,l,h){if(yc(n))throw Error(a(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};S.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Ty(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Ty(n,i){var s=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=S.T,_={};S.T=_;try{var T=s(h,l),R=S.S;R!==null&&R(_,T),wy(n,i,T)}catch(P){$f(n,i,P)}finally{S.T=d}}else try{d=s(h,l),wy(n,i,d)}catch(P){$f(n,i,P)}}function wy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){by(n,i,l)},function(l){return $f(n,i,l)}):by(n,i,s)}function by(n,i,s){i.status="fulfilled",i.value=s,Sy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Ty(n,s)))}function $f(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Sy(i),i=i.next;while(i!==l)}n.action=null}function Sy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ay(n,i){return i}function Ry(n,i){if(Fe){var s=ot.formState;if(s!==null){e:{var l=Ce;if(Fe){if(Xt){t:{for(var h=Xt,d=Mr;h.nodeType!==8;){if(!d){h=null;break t}if(h=gr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Xt=gr(h.nextSibling),l=h.data==="F!";break e}}Wa(l)}l=!1}l&&(i=s[0])}}return s=Sn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},s.queue=l,s=Fy.bind(null,Ce,l),l.dispatch=s,l=Qf(!1),d=nd.bind(null,Ce,!1,l.queue),l=Sn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,s=WS.bind(null,Ce,h,d,s),h.dispatch=s,l.memoizedState=n,[i,s,!1]}function Dy(n){var i=Ot();return Iy(i,Je,n)}function Iy(n,i,s){i=Kf(n,i,Ay)[0],n=mc(hi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?wl(i):i;var l=Ot(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Ce.flags|=2048,ro(9,QS.bind(null,h,s),{destroy:void 0},null)),[i,d,n]}function QS(n,i){n.action=i}function Cy(n){var i=Ot(),s=Je;if(s!==null)return Iy(i,s,n);Ot(),i=i.memoizedState,s=Ot();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function ro(n,i,s,l){return n={tag:n,create:i,inst:s,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=fc(),Ce.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function Oy(){return Ot().memoizedState}function gc(n,i,s,l){var h=Sn();Ce.flags|=n,h.memoizedState=ro(1|i,s,{destroy:void 0},l===void 0?null:l)}function pc(n,i,s,l){var h=Ot();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Bf(l,Je.memoizedState.deps)?h.memoizedState=ro(i,s,d,l):(Ce.flags|=n,h.memoizedState=ro(1|i,s,d,l))}function Ny(n,i){gc(8390656,8,n,i)}function Xf(n,i){pc(2048,8,n,i)}function My(n,i){return pc(4,2,n,i)}function ky(n,i){return pc(4,4,n,i)}function Py(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Vy(n,i,s){s=s!=null?s.concat([n]):null,pc(4,4,Py.bind(null,i,n),s)}function Zf(){}function xy(n,i){var s=Ot();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function Ly(n,i){var s=Ot();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=n(),Xa){In(!0);try{n()}finally{In(!1)}}return s.memoizedState=[l,i],l}function Jf(n,i,s){return s===void 0||Ki&1073741824?n.memoizedState=i:(n.memoizedState=s,n=jv(),Ce.lanes|=n,ra|=n,s)}function Uy(n,i,s,l){return kn(s,i)?s:Zs.current!==null?(n=Jf(n,s,l),kn(n,i)||(Yt=!0),n):Ki&42?(n=jv(),Ce.lanes|=n,ra|=n,i):(Yt=!0,n.memoizedState=s)}function jy(n,i,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=S.T,T={};S.T=T,nd(n,!1,i,s);try{var R=h(),P=S.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=GS(R,l);bl(n,i,G,Ln(n))}else bl(n,i,l,Ln(n))}catch(X){bl(n,i,{then:function(){},status:"rejected",reason:X},Ln())}finally{ae.p=d,S.T=_}}function $S(){}function ed(n,i,s,l){if(n.tag!==5)throw Error(a(476));var h=zy(n).queue;jy(n,h,i,be,s===null?$S:function(){return By(n),s(l)})}function zy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:be},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function By(n){var i=zy(n).next.queue;bl(n,i,{},Ln())}function td(){return ln(Hl)}function qy(){return Ot().memoizedState}function Hy(){return Ot().memoizedState}function XS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ln();n=Xi(s);var l=Zi(i,n,s);l!==null&&(_n(l,i,s),Rl(l,i,s)),i={cache:Uf()},n.payload=i;return}i=i.return}}function ZS(n,i,s){var l=Ln();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yc(n)?Gy(i,s):(s=Nf(n,i,s,l),s!==null&&(_n(s,n,l),Yy(s,i,l)))}function Fy(n,i,s){var l=Ln();bl(n,i,s,l)}function bl(n,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yc(n))Gy(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,kn(T,_))return ec(n,i,h,0),ot===null&&Ju(),!1}catch{}finally{}if(s=Nf(n,i,h,l),s!==null)return _n(s,n,l),Yy(s,i,l),!0}return!1}function nd(n,i,s,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(i)throw Error(a(479))}else i=Nf(n,s,l,2),i!==null&&_n(i,n,2)}function yc(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Gy(n,i){to=cc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Yy(n,i,s){if(s&4194176){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,On(n,s)}}var Pr={readContext:ln,use:dc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At};Pr.useCacheRefresh=At,Pr.useMemoCache=At,Pr.useHostTransitionStatus=At,Pr.useFormState=At,Pr.useActionState=At,Pr.useOptimistic=At;var Za={readContext:ln,use:dc,useCallback:function(n,i){return Sn().memoizedState=[n,i===void 0?null:i],n},useContext:ln,useEffect:Ny,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,gc(4194308,4,Py.bind(null,i,n),s)},useLayoutEffect:function(n,i){return gc(4194308,4,n,i)},useInsertionEffect:function(n,i){gc(4,2,n,i)},useMemo:function(n,i){var s=Sn();i=i===void 0?null:i;var l=n();if(Xa){In(!0);try{n()}finally{In(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=Sn();if(s!==void 0){var h=s(i);if(Xa){In(!0);try{s(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=ZS.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var i=Sn();return n={current:n},i.memoizedState=n},useState:function(n){n=Qf(n);var i=n.queue,s=Fy.bind(null,Ce,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Zf,useDeferredValue:function(n,i){var s=Sn();return Jf(s,n,i)},useTransition:function(){var n=Qf(!1);return n=jy.bind(null,Ce,n.queue,!0,!1),Sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=Ce,h=Sn();if(Fe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ot===null)throw Error(a(349));je&60||gy(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Ny(yy.bind(null,l,d,n),[n]),l.flags|=2048,ro(9,py.bind(null,l,d,s,i),{destroy:void 0},null),s},useId:function(){var n=Sn(),i=ot.identifierPrefix;if(Fe){var s=ui,l=li;s=(l&~(1<<32-Ht(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=hc++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=YS++,i=":"+i+"r"+s.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Sn().memoizedState=XS.bind(null,Ce)}};Za.useMemoCache=Yf,Za.useHostTransitionStatus=td,Za.useFormState=Ry,Za.useActionState=Ry,Za.useOptimistic=function(n){var i=Sn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=nd.bind(null,Ce,!0,s),s.dispatch=i,[n,i]};var Wi={readContext:ln,use:dc,useCallback:xy,useContext:ln,useEffect:Xf,useImperativeHandle:Vy,useInsertionEffect:My,useLayoutEffect:ky,useMemo:Ly,useReducer:mc,useRef:Oy,useState:function(){return mc(hi)},useDebugValue:Zf,useDeferredValue:function(n,i){var s=Ot();return Uy(s,Je.memoizedState,n,i)},useTransition:function(){var n=mc(hi)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:my,useId:qy};Wi.useCacheRefresh=Hy,Wi.useMemoCache=Yf,Wi.useHostTransitionStatus=td,Wi.useFormState=Dy,Wi.useActionState=Dy,Wi.useOptimistic=function(n,i){var s=Ot();return Ey(s,Je,n,i)};var Ja={readContext:ln,use:dc,useCallback:xy,useContext:ln,useEffect:Xf,useImperativeHandle:Vy,useInsertionEffect:My,useLayoutEffect:ky,useMemo:Ly,useReducer:Wf,useRef:Oy,useState:function(){return Wf(hi)},useDebugValue:Zf,useDeferredValue:function(n,i){var s=Ot();return Je===null?Jf(s,n,i):Uy(s,Je.memoizedState,n,i)},useTransition:function(){var n=Wf(hi)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:my,useId:qy};Ja.useCacheRefresh=Hy,Ja.useMemoCache=Yf,Ja.useHostTransitionStatus=td,Ja.useFormState=Cy,Ja.useActionState=Cy,Ja.useOptimistic=function(n,i){var s=Ot();return Je!==null?Ey(s,Je,n,i):(s.baseState=n,[n,s.queue.dispatch])};function rd(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:I({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var id={isMounted:function(n){return(n=n._reactInternals)?fe(n)===n:!1},enqueueSetState:function(n,i,s){n=n._reactInternals;var l=Ln(),h=Xi(l);h.payload=i,s!=null&&(h.callback=s),i=Zi(n,h,l),i!==null&&(_n(i,n,l),Rl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=Ln(),h=Xi(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Zi(n,h,l),i!==null&&(_n(i,n,l),Rl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Ln(),l=Xi(s);l.tag=2,i!=null&&(l.callback=i),i=Zi(n,l,s),i!==null&&(_n(i,n,s),Rl(i,n,s))}};function Ky(n,i,s,l,h,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!cl(s,l)||!cl(h,d):!0}function Wy(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&id.enqueueReplaceState(i,i.state,null)}function es(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=I({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){vc(n)}function $y(n){console.error(n)}function Xy(n){vc(n)}function _c(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(n,i,s){return s=Xi(s),s.tag=3,s.payload={element:null},s.callback=function(){_c(n,i)},s}function Jy(n){return n=Xi(n),n.tag=3,n}function ev(n,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Zy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Zy(i,s,l),typeof h!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function JS(n,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Al(i,s,h,!0),s=Zn.current,s!==null){switch(s.tag){case 13:return kr===null?zd():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Vf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),qd(n,l,h)),!1;case 22:return s.flags|=65536,l===Vf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),qd(n,l,h)),!1}throw Error(a(435,s.tag))}return qd(n,l,h),zd(),!1}if(Fe)return i=Zn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Pf&&(n=Error(a(422),{cause:l}),ml(Qn(n,s)))):(l!==Pf&&(i=Error(a(423),{cause:l}),ml(Qn(i,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Qn(l,s),h=ad(n.stateNode,l,h),Ed(n,h),wt!==4&&(wt=2)),!1;var d=Error(a(520),{cause:l});if(d=Qn(d,s),Pl===null?Pl=[d]:Pl.push(d),wt!==4&&(wt=2),i===null)return!0;l=Qn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=ad(s.stateNode,l,n),Ed(s,n),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ia===null||!ia.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jy(h),ev(h,n,s,l),Ed(s,h),!1}s=s.return}while(s!==null);return!1}var tv=Error(a(461)),Yt=!1;function Zt(n,i,s,l){i.child=n===null?sy(i,null,s,l):Qa(i,n.child,s,l)}function nv(n,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ns(i),l=qf(n,i,s,_,d,h),T=Hf(),n!==null&&!Yt?(Ff(n,i,h),fi(n,i,h)):(Fe&&T&&Mf(i),i.flags|=1,Zt(n,i,l,h),i.child)}function rv(n,i,s,l,h){if(n===null){var d=s.type;return typeof d=="function"&&!Id(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,iv(n,i,d,l,h)):(n=Sc(s.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!md(n,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:cl,s(_,l)&&n.ref===i.ref)return fi(n,i,h)}return i.flags|=1,n=na(d,l),n.ref=i.ref,n.return=i,i.child=n}function iv(n,i,s,l,h){if(n!==null){var d=n.memoizedProps;if(cl(d,l)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=l=d,md(n,h))n.flags&131072&&(Yt=!0);else return i.lanes=n.lanes,fi(n,i,h)}return sd(n,i,s,l,h)}function av(n,i,s){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Sl(n,i),l.mode==="hidden"||d){if(i.flags&128){if(l=_!==null?_.baseLanes|s:s,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return sv(n,i,l,s)}if(s&536870912)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(i,_!==null?_.cachePool:null),_!==null?oy(i,_):xf(),ly(i);else return i.lanes=i.childLanes=536870912,sv(n,i,_!==null?_.baseLanes|s:s,s)}else _!==null?(uc(i,_.cachePool),oy(i,_),Yi(),i.memoizedState=null):(n!==null&&uc(i,null),xf(),Yi());return Zt(n,i,h,s),i.child}function sv(n,i,s,l){var h=zf();return h=h===null?null:{parent:jt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},n!==null&&uc(i,null),xf(),ly(i),n!==null&&Al(n,i,l,!0),null}function Sl(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=2097664)}}function sd(n,i,s,l,h){return ns(i),s=qf(n,i,s,l,void 0,h),l=Hf(),n!==null&&!Yt?(Ff(n,i,h),fi(n,i,h)):(Fe&&l&&Mf(i),i.flags|=1,Zt(n,i,s,h),i.child)}function ov(n,i,s,l,h,d){return ns(i),i.updateQueue=null,s=dy(i,l,s,h),fy(n),l=Hf(),n!==null&&!Yt?(Ff(n,i,d),fi(n,i,d)):(Fe&&l&&Mf(i),i.flags|=1,Zt(n,i,s,d),i.child)}function lv(n,i,s,l,h){if(ns(i),i.stateNode===null){var d=Ws,_=s.contextType;typeof _=="object"&&_!==null&&(d=ln(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vd(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?ln(_):Ws,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(rd(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),Il(i,l,d,h),Dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var T=i.memoizedProps,R=es(s,T);d.props=R;var P=d.context,G=s.contextType;_=Ws,typeof G=="object"&&G!==null&&(_=ln(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Wy(i,d,l,_),$i=!1;var z=i.memoizedState;d.state=z,Il(i,l,d,h),Dl(),P=i.memoizedState,T||z!==P||$i?(typeof X=="function"&&(rd(i,s,X,l),P=i.memoizedState),(R=$i||Ky(i,s,R,l,z,P,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_d(n,i),_=i.memoizedProps,G=es(s,_),d.props=G,X=i.pendingProps,z=d.context,P=s.contextType,R=Ws,typeof P=="object"&&P!==null&&(R=ln(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||z!==R)&&Wy(i,d,l,R),$i=!1,z=i.memoizedState,d.state=z,Il(i,l,d,h),Dl();var H=i.memoizedState;_!==X||z!==H||$i||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof T=="function"&&(rd(i,s,T,l),H=i.memoizedState),(G=$i||Ky(i,s,G,l,z,H,R)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&z===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&z===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=R,l=G):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&z===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&z===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sl(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Qa(i,n.child,null,h),i.child=Qa(i,null,s,h)):Zt(n,i,s,h),i.memoizedState=d.state,n=i.child):n=fi(n,i,h),n}function uv(n,i,s,l){return dl(),i.flags|=256,Zt(n,i,s,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ld(n){return{baseLanes:n,cachePool:hy()}}function ud(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=nr),n}function cv(n,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(h?Gi(i):Yi(),Fe){var T=Xt,R;if(R=T){e:{for(R=T,T=Mr;R.nodeType!==8;){if(!T){T=null;break e}if(R=gr(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ya!==null?{id:li,overflow:ui}:null,retryLane:536870912},R=tr(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,vn=i,Xt=null,R=!0):R=!1}R||Wa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;ci(i)}return T=l.children,l=l.fallback,h?(Yi(),h=i.mode,T=hd({mode:"hidden",children:T},h),l=is(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ld(s),h.childLanes=ud(n,_,s),i.memoizedState=od,l):(Gi(i),cd(i,T))}if(R=n.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Gi(i),i.flags&=-257,i=fd(n,i,s)):i.memoizedState!==null?(Yi(),i.child=n.child,i.flags|=128,i=null):(Yi(),h=l.fallback,T=i.mode,l=hd({mode:"visible",children:l.children},T),h=is(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Qa(i,n.child,null,s),l=i.child,l.memoizedState=ld(s),l.childLanes=ud(n,_,s),i.memoizedState=od,i=h);else if(Gi(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(a(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=fd(n,i,s)}else if(Yt||Al(n,i,s,!1),_=(s&n.childLanes)!==0,Yt||_){if(_=ot,_!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|s)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,Fi(n,l),_n(_,n,l),tv}T.data==="$?"||zd(),i=fd(n,i,s)}else T.data==="$?"?(i.flags|=128,i.child=n.child,i=mA.bind(null,n),T._reactRetry=i,i=null):(n=R.treeContext,Xt=gr(T.nextSibling),vn=i,Fe=!0,dr=null,Mr=!1,n!==null&&($n[Xn++]=li,$n[Xn++]=ui,$n[Xn++]=Ya,li=n.id,ui=n.overflow,Ya=i),i=cd(i,l.children),i.flags|=4096);return i}return h?(Yi(),h=l.fallback,T=i.mode,R=n.child,P=R.sibling,l=na(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=na(P,h):(h=is(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=n.child.memoizedState,T===null?T=ld(s):(R=T.cachePool,R!==null?(P=jt._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=hy(),T={baseLanes:T.baseLanes|s,cachePool:R}),h.memoizedState=T,h.childLanes=ud(n,_,s),i.memoizedState=od,l):(Gi(i),s=n.child,n=s.sibling,s=na(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function cd(n,i){return i=hd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function hd(n,i){return xv(n,i,0,null)}function fd(n,i,s){return Qa(i,n.child,null,s),n=cd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function hv(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),pd(n.return,i,s)}function dd(n,i,s,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function fv(n,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Zt(n,i,l.children,s),l=Ut.current,l&2)l=l&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hv(n,s,i);else if(n.tag===19)hv(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Be(Ut,l),h){case"forwards":for(s=i.child,h=null;s!==null;)n=s.alternate,n!==null&&lc(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),dd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&lc(n)===null){i.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}dd(i,!0,s,null,d);break;case"together":dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fi(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ra|=i.lanes,!(s&i.childLanes))if(n!==null){if(Al(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=na(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=na(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function md(n,i){return n.lanes&i?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function eA(n,i,s){switch(i.tag){case 3:wn(i,i.stateNode.containerInfo),Qi(i,jt,n.memoizedState.cache),dl();break;case 27:case 5:Tr(i);break;case 4:wn(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(i),i.flags|=128,null):s&i.child.childLanes?cv(n,i,s):(Gi(i),n=fi(n,i,s),n!==null?n.sibling:null);Gi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Al(n,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return fv(n,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Ut,Ut.current),l)break;return null;case 22:case 23:return i.lanes=0,av(n,i,s);case 24:Qi(i,jt,n.memoizedState.cache)}return fi(n,i,s)}function dv(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)Yt=!0;else{if(!md(n,s)&&!(i.flags&128))return Yt=!1,eA(n,i,s);Yt=!!(n.flags&131072)}else Yt=!1,Fe&&i.flags&1048576&&Xp(i,rc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Id(l)?(n=es(l,n),i.tag=1,i=lv(null,i,l,n,s)):(i.tag=0,i=sd(null,i,l,n,s));else{if(l!=null){if(h=l.$$typeof,h===F){i.tag=11,i=nv(null,i,l,n,s);break e}else if(h===re){i.tag=14,i=rv(null,i,l,n,s);break e}}throw i=A(l)||l,Error(a(306,i,""))}}return i;case 0:return sd(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=es(l,i.pendingProps),lv(n,i,l,h,s);case 3:e:{if(wn(i,i.stateNode.containerInfo),n===null)throw Error(a(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,_d(n,i),Il(i,d,null,s);var _=i.memoizedState;if(d=_.cache,Qi(i,jt,d),d!==h.cache&&yd(i,[jt],s,!0),Dl(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=uv(n,i,d,s);break e}else if(d!==l){l=Qn(Error(a(424)),i),ml(l),i=uv(n,i,d,s);break e}else for(Xt=gr(i.stateNode.containerInfo.firstChild),vn=i,Fe=!0,dr=null,Mr=!0,s=sy(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(dl(),d===l){i=fi(n,i,s);break e}Zt(n,i,d,s)}i=i.child}return i;case 26:return Sl(n,i),n===null?(s=p_(i.type,null,i.pendingProps,null))?i.memoizedState=s:Fe||(s=i.type,n=i.pendingProps,l=xc(an.current).createElement(s),l[vt]=i,l[_t]=n,Jt(l,s,n),dt(l),i.stateNode=l):i.memoizedState=p_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Tr(i),n===null&&Fe&&(l=i.stateNode=d_(i.type,i.pendingProps,an.current),vn=i,Mr=!0,Xt=gr(l.firstChild)),l=i.pendingProps.children,n!==null||Fe?Zt(n,i,l,s):i.child=Qa(i,null,l,s),Sl(n,i),i.child;case 5:return n===null&&Fe&&((h=l=Xt)&&(l=OA(l,i.type,i.pendingProps,Mr),l!==null?(i.stateNode=l,vn=i,Xt=gr(l.firstChild),Mr=!1,h=!0):h=!1),h||Wa(i)),Tr(i),h=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=qf(n,i,KS,null,null,s),Hl._currentValue=h),Sl(n,i),Zt(n,i,l,s),i.child;case 6:return n===null&&Fe&&((n=s=Xt)&&(s=NA(s,i.pendingProps,Mr),s!==null?(i.stateNode=s,vn=i,Xt=null,n=!0):n=!1),n||Wa(i)),null;case 13:return cv(n,i,s);case 4:return wn(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Qa(i,null,l,s):Zt(n,i,l,s),i.child;case 11:return nv(n,i,i.type,i.pendingProps,s);case 7:return Zt(n,i,i.pendingProps,s),i.child;case 8:return Zt(n,i,i.pendingProps.children,s),i.child;case 12:return Zt(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Qi(i,i.type,l.value),Zt(n,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ns(i),h=ln(h),l=l(h),i.flags|=1,Zt(n,i,l,s),i.child;case 14:return rv(n,i,i.type,i.pendingProps,s);case 15:return iv(n,i,i.type,i.pendingProps,s);case 19:return fv(n,i,s);case 22:return av(n,i,s);case 24:return ns(i),l=ln(jt),n===null?(h=zf(),h===null&&(h=ot,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},vd(i),Qi(i,jt,h)):(n.lanes&s&&(_d(n,i),Il(i,null,null,s),Dl()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Qi(i,jt,l)):(l=d.cache,Qi(i,jt,l),l!==h.cache&&yd(i,[jt],s,!0))),Zt(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var gd=Oe(null),ts=null,di=null;function Qi(n,i,s){Be(gd,i._currentValue),i._currentValue=s}function mi(n){n._currentValue=gd.current,Ke(gd)}function pd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function yd(n,i,s,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),pd(d.return,s,n),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),pd(_,s,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Al(n,i,s,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;kn(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===Ze.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}h=h.return}n!==null&&yd(i,n,s,l),i.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ns(n){ts=n,di=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ln(n){return mv(ts,n)}function Tc(n,i){return ts===null&&ns(n),mv(n,i)}function mv(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},di===null){if(n===null)throw Error(a(308));di=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else di=di.next=i;return s}var $i=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _d(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,gt&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(n),Qp(n,null,s),i}return ec(n,l,i,s),tc(n)}function Rl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,On(n,s)}}function Ed(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Td=!1;function Dl(){if(Td){var n=eo;if(n!==null)throw n}}function Il(n,i,s,l){Td=!1;var h=n.updateQueue;$i=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,_===null?d=P:_.next=P,_=R;var G=n.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;_=0,G=P=R=null,T=d;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(je&z)===z:(l&z)===z){z!==0&&z===Js&&(Td=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=n,Se=T;z=i;var bt=s;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){X=he.call(bt,X,z);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,z=typeof he=="function"?he.call(bt,X,z):he,z==null)break e;X=I({},X,z);break e;case 2:$i=!0}}z=T.callback,z!==null&&(n.flags|=64,H&&(n.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,R=X):G=G.next=H,_|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),ra|=_,n.lanes=_,n.memoizedState=X}}function gv(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function pv(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)gv(s[n],i)}function Cl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&n)===n){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){nt(i,i.return,T)}}function Ji(n,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var R=s;try{T()}catch(P){nt(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){nt(i,i.return,P)}}function yv(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{pv(i,s)}catch(l){nt(n,n.return,l)}}}function vv(n,i,s){s.props=es(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){nt(n,i,l)}}function rs(n,i){try{var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?n.refCleanup=s(h):s.current=h}}catch(d){nt(n,i,d)}}function Pn(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){nt(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){nt(n,i,h)}else s.current=null}function _v(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){nt(n,n.return,h)}}function Ev(n,i,s){try{var l=n.stateNode;AA(l,n.type,s,i),l[_t]=i}catch(h){nt(n,n.return,h)}}function Tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function wd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bd(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(n,i):s.insertBefore(n,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(n,s)):(i=s,i.appendChild(n)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Vc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(bd(n,i,s),n=n.sibling;n!==null;)bd(n,i,s),n=n.sibling}function wc(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(wc(n,i,s),n=n.sibling;n!==null;)wc(n,i,s),n=n.sibling}var gi=!1,Tt=!1,Sd=!1,wv=typeof WeakSet=="function"?WeakSet:Set,Kt=null,bv=!1;function tA(n,i){if(n=n.containerInfo,Zd=qc,n=zp(n),Rf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,R=-1,P=0,G=0,X=n,z=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(R=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===n)break t;if(z===s&&++P===h&&(T=_),z===d&&++G===l&&(R=_),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jd={focusedElem:n,selectionRange:s},qc=!1,Kt=i;Kt!==null;)if(i=Kt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Kt=n;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&d!==null){n=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=es(s.type,h,s.elementType===s.type);n=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){nt(s,s.return,Se)}}break;case 3:if(n&1024){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)rm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Kt=n;break}Kt=i.return}return he=bv,bv=!1,he}function Sv(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:yi(n,s),l&4&&Cl(5,s);break;case 1:if(yi(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(T){nt(s,s.return,T)}else{var h=es(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(s,s.return,T)}}l&64&&yv(s),l&512&&rs(s,s.return);break;case 3:if(yi(n,s),l&64&&(l=s.updateQueue,l!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{pv(l,n)}catch(T){nt(s,s.return,T)}}break;case 26:yi(n,s),l&512&&rs(s,s.return);break;case 27:case 5:yi(n,s),i===null&&l&4&&_v(s),l&512&&rs(s,s.return);break;case 12:yi(n,s);break;case 13:yi(n,s),l&4&&Dv(n,s);break;case 22:if(h=s.memoizedState!==null||gi,!h){i=i!==null&&i.memoizedState!==null||Tt;var d=gi,_=Tt;gi=h,(Tt=i)&&!_?ea(n,s,(s.subtreeFlags&8772)!==0):yi(n,s),gi=d,Tt=_}l&512&&(s.memoizedProps.mode==="manual"?rs(s,s.return):Pn(s,s.return));break;default:yi(n,s)}}function Av(n){var i=n.alternate;i!==null&&(n.alternate=null,Av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Vt(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,Vn=!1;function pi(n,i,s){for(s=s.child;s!==null;)Rv(n,i,s),s=s.sibling}function Rv(n,i,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Dn,s)}catch{}switch(s.tag){case 26:Tt||Pn(s,i),pi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Tt||Pn(s,i);var l=Nt,h=Vn;for(Nt=s.stateNode,pi(n,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Vt(s),Nt=l,Vn=h;break;case 5:Tt||Pn(s,i);case 6:h=Nt;var d=Vn;if(Nt=null,pi(n,i,s),Nt=h,Vn=d,Nt!==null)if(Vn)try{n=Nt,l=s.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){nt(s,i,_)}else try{Nt.removeChild(s.stateNode)}catch(_){nt(s,i,_)}break;case 18:Nt!==null&&(Vn?(i=Nt,s=s.stateNode,i.nodeType===8?nm(i.parentNode,s):i.nodeType===1&&nm(i,s),Kl(i)):nm(Nt,s.stateNode));break;case 4:l=Nt,h=Vn,Nt=s.stateNode.containerInfo,Vn=!0,pi(n,i,s),Nt=l,Vn=h;break;case 0:case 11:case 14:case 15:Tt||Ji(2,s,i),Tt||Ji(4,s,i),pi(n,i,s);break;case 1:Tt||(Pn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&vv(s,i,l)),pi(n,i,s);break;case 21:pi(n,i,s);break;case 22:Tt||Pn(s,i),Tt=(l=Tt)||s.memoizedState!==null,pi(n,i,s),Tt=l;break;default:pi(n,i,s)}}function Dv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(s){nt(i,i.return,s)}}function nA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new wv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new wv),i;default:throw Error(a(435,n.tag))}}function Ad(n,i){var s=nA(n);i.forEach(function(l){var h=gA.bind(null,n,l);s.has(l)||(s.add(l),l.then(h,h))})}function Jn(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:Nt=T.stateNode,Vn=!1;break e;case 3:Nt=T.stateNode.containerInfo,Vn=!0;break e;case 4:Nt=T.stateNode.containerInfo,Vn=!0;break e}T=T.return}if(Nt===null)throw Error(a(160));Rv(d,_,h),Nt=null,Vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Iv(i,n),i=i.sibling}var mr=null;function Iv(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Jn(i,n),er(n),l&4&&(Ji(3,n,n.return),Cl(3,n),Ji(5,n,n.return));break;case 1:Jn(i,n),er(n),l&512&&(Tt||s===null||Pn(s,s.return)),l&64&&gi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=mr;if(Jn(i,n),er(n),l&512&&(Tt||s===null||Pn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[It]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,l,s),d[vt]=n,dt(d),l=d;break e;case"link":var _=__("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=__("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Jt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[vt]=n,dt(d),l=d}n.stateNode=l}else E_(h,n.type,n.stateNode);else n.stateNode=v_(h,l,n.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?E_(h,n.type,n.stateNode):v_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ev(n,n.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,d=n.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,G=R.nodeName;R[It]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var X=n.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);Jt(h,X,d),h[vt]=n,h[_t]=d}catch(he){nt(n,n.return,he)}}case 5:if(Jn(i,n),er(n),l&512&&(Tt||s===null||Pn(s,s.return)),n.flags&32){h=n.stateNode;try{Fn(h,"")}catch(he){nt(n,n.return,he)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Ev(n,h,s!==null?s.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(Jn(i,n),er(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(he){nt(n,n.return,he)}}break;case 3:if(jc=null,h=mr,mr=Lc(i.containerInfo),Jn(i,n),mr=h,er(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(he){nt(n,n.return,he)}Sd&&(Sd=!1,Cv(n));break;case 4:l=mr,mr=Lc(n.stateNode.containerInfo),Jn(i,n),er(n),mr=l;break;case 12:Jn(i,n),er(n);break;case 13:Jn(i,n),er(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pd=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 22:if(l&512&&(Tt||s===null||Pn(s,s.return)),R=n.memoizedState!==null,P=s!==null&&s.memoizedState!==null,G=gi,X=Tt,gi=G||R,Tt=X||P,Jn(i,n),Tt=X,gi=G,er(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=gi||Tt,s===null||P||i||io(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(s=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){P=s=i;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var H=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){nt(P,P.return,he)}}}else if(i.tag===6){if(s===null){P=i;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(he){nt(P,P.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ad(n,s))));break;case 19:Jn(i,n),er(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ad(n,l)));break;case 21:break;default:Jn(i,n),er(n)}}function er(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var s=n.return;s!==null;){if(Tv(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=wd(n);wc(n,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Fn(_,""),l.flags&=-33);var T=wd(n);wc(n,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,P=wd(n);bd(n,P,R);break;default:throw Error(a(161))}}}catch(G){nt(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function yi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(n,i.alternate,i),i=i.sibling}function io(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),io(i);break;case 1:Pn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&vv(i,i.return,s),io(i);break;case 26:case 27:case 5:Pn(i,i.return),io(i);break;case 22:Pn(i,i.return),i.memoizedState===null&&io(i);break;default:io(i)}n=n.sibling}}function ea(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ea(h,d,s),Cl(4,d);break;case 1:if(ea(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){nt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gv(R[h],T)}catch(P){nt(l,l.return,P)}}s&&_&64&&yv(d),rs(d,d.return);break;case 26:case 27:case 5:ea(h,d,s),s&&l===null&&_&4&&_v(d),rs(d,d.return);break;case 12:ea(h,d,s);break;case 13:ea(h,d,s),s&&_&4&&Dv(h,d);break;case 22:d.memoizedState===null&&ea(h,d,s),rs(d,d.return);break;default:ea(h,d,s)}i=i.sibling}}function Rd(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&_l(s))}function Dd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n))}function ta(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ov(n,i,s,l),i=i.sibling}function Ov(n,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ta(n,i,s,l),h&2048&&Cl(9,i);break;case 3:ta(n,i,s,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n)));break;case 12:if(h&2048){ta(n,i,s,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){nt(i,i.return,R)}}else ta(n,i,s,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?ta(n,i,s,l):Ol(n,i):d._visibility&4?ta(n,i,s,l):(d._visibility|=4,ao(n,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Rd(i.alternate,i);break;case 24:ta(n,i,s,l),h&2048&&Dd(i.alternate,i);break;default:ta(n,i,s,l)}}function ao(n,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,_=i,T=s,R=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,T,R,h),Cl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&4?ao(d,_,T,R,h):Ol(d,_):(G._visibility|=4,ao(d,_,T,R,h)),h&&P&2048&&Rd(_.alternate,_);break;case 24:ao(d,_,T,R,h),h&&P&2048&&Dd(_.alternate,_);break;default:ao(d,_,T,R,h)}i=i.sibling}}function Ol(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,h=l.flags;switch(l.tag){case 22:Ol(s,l),h&2048&&Rd(l.alternate,l);break;case 24:Ol(s,l),h&2048&&Dd(l.alternate,l);break;default:Ol(s,l)}i=i.sibling}}var Nl=8192;function so(n){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 26:so(n),n.flags&Nl&&n.memoizedState!==null&&FA(mr,n.memoizedState,n.memoizedProps);break;case 5:so(n);break;case 3:case 4:var i=mr;mr=Lc(n.stateNode.containerInfo),so(n),mr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Nl,Nl=16777216,so(n),Nl=i):so(n));break;default:so(n)}}function Mv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ml(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Kt=l,Pv(l,n)}Mv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Ji(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,bc(n)):Ml(n);break;default:Ml(n)}}function bc(n){var i=n.deletions;if(n.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Kt=l,Pv(l,n)}Mv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),bc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,bc(i));break;default:bc(i)}n=n.sibling}}function Pv(n,i){for(;Kt!==null;){var s=Kt;switch(s.tag){case 0:case 11:case 15:Ji(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Kt=l;else e:for(s=n;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(Av(l),l===s){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}function rA(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(n,i,s,l){return new rA(n,i,s,l)}function Id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function na(n,i){var s=n.alternate;return s===null?(s=tr(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&31457280,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Vv(n,i){n.flags&=31457282;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Sc(n,i,s,l,h,d){var _=0;if(l=n,typeof n=="function")Id(n)&&(_=1);else if(typeof n=="string")_=qA(n,s,kt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case g:return is(s.children,h,d,i);case y:_=8,h|=24;break;case E:return n=tr(12,s,i,h|2),n.elementType=E,n.lanes=d,n;case K:return n=tr(13,s,i,h),n.elementType=K,n.lanes=d,n;case q:return n=tr(19,s,i,h),n.elementType=q,n.lanes=d,n;case J:return xv(s,h,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case V:_=10;break e;case O:_=9;break e;case F:_=11;break e;case re:_=14;break e;case Y:_=16,l=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=tr(_,s,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function is(n,i,s,l){return n=tr(7,n,l,i),n.lanes=s,n}function xv(n,i,s,l){n=tr(22,n,l,i),n.elementType=J,n.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if(!(h._pendingVisibility&2)){var _=Fi(d,2);_!==null&&(h._pendingVisibility|=2,_n(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if(h._pendingVisibility&2){var _=Fi(d,2);_!==null&&(h._pendingVisibility&=-3,_n(_,d,2))}}};return n.stateNode=h,n}function Cd(n,i,s){return n=tr(6,n,null,i),n.lanes=s,n}function Od(n,i,s){return i=tr(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function vi(n){n.flags|=4}function Lv(n,i){if(i.type!=="stylesheet"||i.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!T_(i)){if(i=Zn.current,i!==null&&((je&4194176)===je?kr!==null:(je&62914560)!==je&&!(je&536870912)||i!==kr))throw pl=Vf,ey;n.flags|=8192}}function Ac(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?wr():536870912,n.lanes|=i,lo|=i)}function kl(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function iA(n,i,s){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mi(jt),yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(fl(i)?vi(i):n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,dr!==null&&(Ud(dr),dr=null))),mt(i),null;case 26:return s=i.memoizedState,n===null?(vi(i),s!==null?(mt(i),Lv(i,s)):(mt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(vi(i),mt(i),Lv(i,s)):(mt(i),i.flags&=-16777217):(n.memoizedProps!==l&&vi(i),mt(i),i.flags&=-16777217),null;case 27:Qr(i),s=an.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}n=kt.current,fl(i)?Zp(i):(n=d_(h,l,s),i.stateNode=n,vi(i))}return mt(i),null;case 5:if(Qr(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}if(n=kt.current,fl(i))Zp(i);else{switch(h=xc(an.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}n[vt]=i,n[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Jt(n,s,l),s){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&vi(i)}}return mt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=an.current,fl(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[vt]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||o_(n.nodeValue,s)),n||Wa(i)}else n=xc(n).createTextNode(l),n[vt]=i,i.stateNode=n}return mt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=fl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=i}else dl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else dr!==null&&(Ud(dr),dr=null),h=!0;if(!h)return i.flags&256?(ci(i),i):(ci(i),null)}if(ci(i),i.flags&128)return i.lanes=s,i;if(s=l!==null,n=n!==null&&n.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Ac(i,i.updateQueue),mt(i),null;case 4:return yt(),n===null&&Qd(i.stateNode.containerInfo),mt(i),null;case 10:return mi(i.type),mt(i),null;case 19:if(Ke(Ut),h=i.memoizedState,h===null)return mt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)kl(h,!1);else{if(wt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(d=lc(n),d!==null){for(i.flags|=128,kl(h,!1),n=d.updateQueue,i.updateQueue=n,Ac(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Vv(s,n),s=s.sibling;return Be(Ut,Ut.current&1|2),i.child}n=n.sibling}h.tail!==null&&sn()>Rc&&(i.flags|=128,l=!0,kl(h,!1),i.lanes=4194304)}else{if(!l)if(n=lc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Ac(i,n),kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return mt(i),null}else 2*sn()-h.renderingStartTime>Rc&&s!==536870912&&(i.flags|=128,l=!0,kl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,n=Ut.current,Be(Ut,l?n&1|2:n&1),i):(mt(i),null);case 22:case 23:return ci(i),Lf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?s&536870912&&!(i.flags&128)&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),s=i.updateQueue,s!==null&&Ac(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&Ke($a),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),mi(jt),mt(i),null;case 25:return null}throw Error(a(156,i.tag))}function aA(n,i){switch(kf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return mi(jt),yt(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Qr(i),null;case 13:if(ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));dl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke(Ut),null;case 4:return yt(),null;case 10:return mi(i.type),null;case 22:case 23:return ci(i),Lf(),n!==null&&Ke($a),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return mi(jt),null;case 25:return null;default:return null}}function Uv(n,i){switch(kf(i),i.tag){case 3:mi(jt),yt();break;case 26:case 27:case 5:Qr(i);break;case 4:yt();break;case 13:ci(i);break;case 19:Ke(Ut);break;case 10:mi(i.type);break;case 22:case 23:ci(i),Lf(),n!==null&&Ke($a);break;case 24:mi(jt)}}var sA={getCacheForType:function(n){var i=ln(jt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},oA=typeof WeakMap=="function"?WeakMap:Map,gt=0,ot=null,Me=null,je=0,lt=0,xn=null,_i=!1,oo=!1,Nd=!1,Ei=0,wt=0,ra=0,as=0,Md=0,nr=0,lo=0,Pl=null,Vr=null,kd=!1,Pd=0,Rc=1/0,Dc=null,ia=null,Ic=!1,ss=null,Vl=0,Vd=0,xd=null,xl=0,Ld=null;function Ln(){if(gt&2&&je!==0)return je&-je;if(S.T!==null){var n=Js;return n!==0?n:Gd()}return Li()}function jv(){nr===0&&(nr=!(je&536870912)||Fe?on():536870912);var n=Zn.current;return n!==null&&(n.flags|=32),nr}function _n(n,i,s){(n===ot&&lt===2||n.cancelPendingCommit!==null)&&(uo(n,0),Ti(n,je,nr,!1)),ct(n,s),(!(gt&2)||n!==ot)&&(n===ot&&(!(gt&2)&&(as|=s),wt===4&&Ti(n,je,nr,!1)),xr(n))}function zv(n,i,s){if(gt&6)throw Error(a(327));var l=!s&&(i&60)===0&&(i&n.expiredLanes)===0||Cn(n,i),h=l?cA(n,i):Bd(n,i,!0),d=l;do{if(h===0){oo&&!l&&Ti(n,i,0,!1);break}else if(h===6)Ti(n,i,0,!_i);else{if(s=n.current.alternate,d&&!lA(s)){h=Bd(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;h=Pl;var R=T.current.memoizedState.isDehydrated;if(R&&(uo(T,_).flags|=256),_=Bd(T,_,!1),_!==2){if(Nd&&!R){T.errorRecoveryDisabledLanes|=d,as|=d,h=4;break e}d=Vr,Vr=h,d!==null&&Ud(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){uo(n,0),Ti(n,i,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Ti(l,i,nr,!_i);break e}break;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(d=Pd+300-sn(),10<d)){if(Ti(l,i,nr,!_i),tt(l,0)!==0)break e;l.timeoutHandle=c_(Bv.bind(null,l,s,Vr,Dc,kd,i,nr,as,lo,_i,2,-0,0),d);break e}Bv(l,s,Vr,Dc,kd,i,nr,as,lo,_i,0,-0,0)}}break}while(!0);xr(n)}function Ud(n){Vr===null?Vr=n:Vr.push.apply(Vr,n)}function Bv(n,i,s,l,h,d,_,T,R,P,G,X,z){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:HA},Nv(i),i=GA(),i!==null)){n.cancelPendingCommit=i(Wv.bind(null,n,s,l,h,_,T,R,1,X,z)),Ti(n,d,_,!P);return}Wv(n,s,l,h,_,T,R,G,X,z)}function lA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!kn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(n,i,s,l){i&=~Md,i&=~as,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-Ht(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&zn(n,s,i)}function Cc(){return gt&6?!0:(Ll(0),!1)}function jd(){if(Me!==null){if(lt===0)var n=Me.return;else n=Me,di=ts=null,Gf(n),Xs=null,yl=0,n=Me;for(;n!==null;)Uv(n.alternate,n),n=n.return;Me=null}}function uo(n,i){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,DA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),jd(),ot=n,Me=s=na(n.current,null),je=i,lt=0,xn=null,_i=!1,oo=Cn(n,i),Nd=!1,lo=nr=Md=as=ra=wt=0,Vr=Pl=null,kd=!1,i&8&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Ht(l),d=1<<h;i|=n[h],l&=~d}return Ei=i,Ju(),s}function qv(n,i){Ce=null,S.H=Pr,i===gl?(i=ry(),lt=3):i===ey?(i=ry(),lt=4):lt=i===tv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Me===null&&(wt=1,_c(n,Qn(i,n.current)))}function Hv(){var n=S.H;return S.H=Pr,n===null?Pr:n}function Fv(){var n=S.A;return S.A=sA,n}function zd(){wt=4,_i||(je&4194176)!==je&&Zn.current!==null||(oo=!0),!(ra&134217727)&&!(as&134217727)||ot===null||Ti(ot,je,nr,!1)}function Bd(n,i,s){var l=gt;gt|=2;var h=Hv(),d=Fv();(ot!==n||je!==i)&&(Dc=null,uo(n,i)),i=!1;var _=wt;e:do try{if(lt!==0&&Me!==null){var T=Me,R=xn;switch(lt){case 8:jd(),_=6;break e;case 3:case 2:case 6:Zn.current===null&&(i=!0);var P=lt;if(lt=0,xn=null,co(n,T,R,P),s&&oo){_=0;break e}break;default:P=lt,lt=0,xn=null,co(n,T,R,P)}}uA(),_=wt;break}catch(G){qv(n,G)}while(!0);return i&&n.shellSuspendCounter++,di=ts=null,gt=l,S.H=h,S.A=d,Me===null&&(ot=null,je=0,Ju()),_}function uA(){for(;Me!==null;)Gv(Me)}function cA(n,i){var s=gt;gt|=2;var l=Hv(),h=Fv();ot!==n||je!==i?(Dc=null,Rc=sn()+500,uo(n,i)):oo=Cn(n,i);e:do try{if(lt!==0&&Me!==null){i=Me;var d=xn;t:switch(lt){case 1:lt=0,xn=null,co(n,i,d,1);break;case 2:if(ty(d)){lt=0,xn=null,Yv(i);break}i=function(){lt===2&&ot===n&&(lt=7),xr(n)},d.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:ty(d)?(lt=0,xn=null,Yv(i)):(lt=0,xn=null,co(n,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(!_||T_(_)){lt=0,xn=null;var R=T.sibling;if(R!==null)Me=R;else{var P=T.return;P!==null?(Me=P,Oc(P)):Me=null}break t}}lt=0,xn=null,co(n,i,d,5);break;case 6:lt=0,xn=null,co(n,i,d,6);break;case 8:jd(),wt=6;break e;default:throw Error(a(462))}}hA();break}catch(G){qv(n,G)}while(!0);return di=ts=null,S.H=l,S.A=h,gt=s,Me!==null?0:(ot=null,je=0,Ju(),wt)}function hA(){for(;Me!==null&&!Qo();)Gv(Me)}function Gv(n){var i=dv(n.alternate,n,Ei);n.memoizedProps=n.pendingProps,i===null?Oc(n):Me=i}function Yv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=ov(s,i,i.pendingProps,i.type,void 0,je);break;case 11:i=ov(s,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Gf(i);default:Uv(s,i),i=Me=Vv(i,Ei),i=dv(s,i,Ei)}n.memoizedProps=n.pendingProps,i===null?Oc(n):Me=i}function co(n,i,s,l){di=ts=null,Gf(i),Xs=null,yl=0;var h=i.return;try{if(JS(n,h,i,s,je)){wt=1,_c(n,Qn(s,n.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;wt=1,_c(n,Qn(s,n.current)),Me=null;return}i.flags&32768?(Fe||l===1?n=!0:oo||je&536870912?n=!1:(_i=n=!0,(l===2||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kv(i,n)):Oc(i)}function Oc(n){var i=n;do{if(i.flags&32768){Kv(i,_i);return}n=i.return;var s=iA(i.alternate,i,Ei);if(s!==null){Me=s;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);wt===0&&(wt=5)}function Kv(n,i){do{var s=aA(n.alternate,n);if(s!==null){s.flags&=32767,Me=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=s}while(n!==null);wt=6,Me=null}function Wv(n,i,s,l,h,d,_,T,R,P){var G=S.T,X=ae.p;try{ae.p=2,S.T=null,fA(n,i,s,l,X,h,d,_,T,R,P)}finally{S.T=G,ae.p=X}}function fA(n,i,s,l,h,d,_,T){do ho();while(ss!==null);if(gt&6)throw Error(a(327));var R=n.finishedWork;if(l=n.finishedLanes,R===null)return null;if(n.finishedWork=null,n.finishedLanes=0,R===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=Of,ka(n,l,P,d,_,T),n===ot&&(Me=ot=null,je=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Ic||(Ic=!0,Vd=P,xd=s,pA(lr,function(){return ho(),null})),s=(R.flags&15990)!==0,R.subtreeFlags&15990||s?(s=S.T,S.T=null,d=ae.p,ae.p=2,_=gt,gt|=4,tA(n,R),Iv(R,n),xS(Jd,n.containerInfo),qc=!!Zd,Jd=Zd=null,n.current=R,Sv(n,R.alternate,R),ki(),gt=_,ae.p=d,S.T=s):n.current=R,Ic?(Ic=!1,ss=n,Vl=l):Qv(n,P),P=n.pendingLanes,P===0&&(ia=null),Na(R.stateNode),xr(n),i!==null)for(h=n.onRecoverableError,R=0;R<i.length;R++)P=i[R],h(P.value,{componentStack:P.stack});return Vl&3&&ho(),P=n.pendingLanes,l&4194218&&P&42?n===Ld?xl++:(xl=0,Ld=n):xl=0,Ll(0),null}function Qv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,_l(i)))}function ho(){if(ss!==null){var n=ss,i=Vd;Vd=0;var s=xi(Vl),l=S.T,h=ae.p;try{if(ae.p=32>s?32:s,S.T=null,ss===null)var d=!1;else{s=xd,xd=null;var _=ss,T=Vl;if(ss=null,Vl=0,gt&6)throw Error(a(331));var R=gt;if(gt|=4,kv(_.current),Ov(_,_.current,T,s),gt=R,Ll(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Dn,_)}catch{}d=!0}return d}finally{ae.p=h,S.T=l,Qv(n,i)}}return!1}function $v(n,i,s){i=Qn(s,i),i=ad(n.stateNode,i,2),n=Zi(n,i,2),n!==null&&(ct(n,2),xr(n))}function nt(n,i,s){if(n.tag===3)$v(n,n,s);else for(;i!==null;){if(i.tag===3){$v(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ia===null||!ia.has(l))){n=Qn(s,n),s=Jy(2),l=Zi(i,s,2),l!==null&&(ev(s,l,i,n),ct(l,2),xr(l));break}}i=i.return}}function qd(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new oA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Nd=!0,h.add(s),n=dA.bind(null,n,i,s),i.then(n,n))}function dA(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ot===n&&(je&s)===s&&(wt===4||wt===3&&(je&62914560)===je&&300>sn()-Pd?!(gt&2)&&uo(n,0):Md|=s,lo===je&&(lo=0)),xr(n)}function Xv(n,i){i===0&&(i=wr()),n=Fi(n,i),n!==null&&(ct(n,i),xr(n))}function mA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Xv(n,s)}function gA(n,i){var s=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Xv(n,s)}function pA(n,i){return Xr(n,i)}var Nc=null,fo=null,Hd=!1,Mc=!1,Fd=!1,os=0;function xr(n){n!==fo&&n.next===null&&(fo===null?Nc=fo=n:fo=fo.next=n),Mc=!0,Hd||(Hd=!0,vA(yA))}function Ll(n,i){if(!Fd&&Mc){Fd=!0;do for(var s=!1,l=Nc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ht(42|n)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,e_(l,d))}else d=je,d=tt(l,l===ot?d:0),!(d&3)||Cn(l,d)||(s=!0,e_(l,d));l=l.next}while(s);Fd=!1}}function yA(){Mc=Hd=!1;var n=0;os!==0&&(RA()&&(n=os),os=0);for(var i=sn(),s=null,l=Nc;l!==null;){var h=l.next,d=Zv(l,i);d===0?(l.next=null,s===null?Nc=h:s.next=h,h===null&&(fo=s)):(s=l,(n!==0||d&3)&&(Mc=!0)),l=h}Ll(n)}function Zv(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-Ht(d),T=1<<_,R=h[_];R===-1?(!(T&s)||T&l)&&(h[_]=We(T,i)):R<=i&&(n.expiredLanes|=T),d&=~T}if(i=ot,s=je,s=tt(n,n===i?s:0),l=n.callbackNode,s===0||n===i&&lt===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Mi(l),n.callbackNode=null,n.callbackPriority=0;if(!(s&3)||Cn(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&Mi(l),xi(s)){case 2:case 8:s=Dt;break;case 32:s=lr;break;case 268435456:s=Vi;break;default:s=lr}return l=Jv.bind(null,n),s=Xr(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&Mi(l),n.callbackPriority=2,n.callbackNode=null,2}function Jv(n,i){var s=n.callbackNode;if(ho()&&n.callbackNode!==s)return null;var l=je;return l=tt(n,n===ot?l:0),l===0?null:(zv(n,l,i),Zv(n,sn()),n.callbackNode!=null&&n.callbackNode===s?Jv.bind(null,n):null)}function e_(n,i){if(ho())return null;zv(n,i,!0)}function vA(n){IA(function(){gt&6?Xr(St,n):n()})}function Gd(){return os===0&&(os=on()),os}function t_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ar(""+n)}function n_(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function _A(n,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=t_((h[_t]||null).action),_=l.submitter;_&&(i=(i=_[_t]||null)?t_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ls("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var R=_?n_(h,_):new FormData(h);ed(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=_?n_(h,_):new FormData(h),ed(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Yd=0;Yd<Wp.length;Yd++){var Kd=Wp[Yd],EA=Kd.toLowerCase(),TA=Kd[0].toUpperCase()+Kd.slice(1);fr(EA,"on"+TA)}fr(Hp,"onAnimationEnd"),fr(Fp,"onAnimationIteration"),fr(Gp,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(US,"onTransitionRun"),fr(jS,"onTransitionStart"),fr(zS,"onTransitionCancel"),fr(Yp,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function r_(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){vc(G)}h.currentTarget=null,d=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(G){vc(G)}h.currentTarget=null,d=R}}}}function Ve(n,i){var s=i[ei];s===void 0&&(s=i[ei]=new Set);var l=n+"__bubble";s.has(l)||(i_(i,n,2,!1),s.add(l))}function Wd(n,i,s){var l=0;i&&(l|=4),i_(s,n,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Qd(n){if(!n[kc]){n[kc]=!0,$o.forEach(function(s){s!=="selectionchange"&&(wA.has(s)||Wd(s,!1,n),Wd(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[kc]||(i[kc]=!0,Wd("selectionchange",!1,i))}}function i_(n,i,s,l){switch(D_(i)){case 2:var h=WA;break;case 8:h=QA;break;default:h=lm}s=h.bind(null,i,s,n),h=void 0,!Yn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,s,{capture:!0,passive:h}):n.addEventListener(i,s,!0):h!==void 0?n.addEventListener(i,s,{passive:h}):n.addEventListener(i,s,!1)}function $d(n,i,s,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=gn(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Uu(function(){var P=d,G=xs(s),X=[];e:{var z=Kp.get(n);if(z!==void 0){var H=Ls,he=n;switch(n){case"keypress":if(Dr(s)===0)break e;case"keydown":case"keyup":H=Hs;break;case"focusin":he="focus",H=zs;break;case"focusout":he="blur",H=zs;break;case"beforeblur":case"afterblur":H=zs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Yu;break;case Hp:case Fp:case Gp:H=Bs;break;case Yp:H=Wu;break;case"scroll":case"scrollend":H=ju;break;case"wheel":H=Fs;break;case"copy":case"cut":case"paste":H=qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ll;break;case"toggle":case"beforetoggle":H=$u}var Se=(i&4)!==0,bt=!Se&&(n==="scroll"||n==="scrollend"),L=Se?z!==null?z+"Capture":null:z;Se=[];for(var N=P,j;N!==null;){var W=N;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||L===null||(W=La(N,L),W!=null&&Se.push(jl(N,W,j))),bt)break;N=N.return}0<Se.length&&(z=new H(z,he,null,s,G),X.push({event:z,listeners:Se}))}}if(!(i&7)){e:{if(z=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",z&&s!==Gn&&(he=s.relatedTarget||s.fromElement)&&(gn(he)||he[cr]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=s.relatedTarget||s.toElement,H=P,he=he?gn(he):null,he!==null&&(bt=fe(he),Se=he.tag,he!==bt||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(H=null,he=P),H!==he)){if(Se=Kn,W="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(Se=ll,W="onPointerLeave",L="onPointerEnter",N="pointer"),bt=H==null?z:Sr(H),j=he==null?z:Sr(he),z=new Se(W,N+"leave",H,s,G),z.target=bt,z.relatedTarget=j,W=null,gn(G)===P&&(Se=new Se(L,N+"enter",he,s,G),Se.target=j,Se.relatedTarget=bt,W=Se),bt=W,H&&he)t:{for(Se=H,L=he,N=0,j=Se;j;j=mo(j))N++;for(j=0,W=L;W;W=mo(W))j++;for(;0<N-j;)Se=mo(Se),N--;for(;0<j-N;)L=mo(L),j--;for(;N--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=mo(Se),L=mo(L)}Se=null}else Se=null;H!==null&&a_(X,z,H,Se,!1),he!==null&&bt!==null&&a_(X,bt,he,Se,!0)}}e:{if(z=P?Sr(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var le=Mp;else if(Lt(z))if(kp)le=PS;else{le=MS;var Ne=NS}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&tl(P.elementType)&&(le=Mp):le=kS;if(le&&(le=le(n,P))){oi(X,le,s,G);break e}Ne&&Ne(n,z,P),n==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Vs(z,"number",z.value)}switch(Ne=P?Sr(P):window,n){case"focusin":(Lt(Ne)||Ne.contentEditable==="true")&&(Gs=Ne,Df=P,hl=null);break;case"focusout":hl=Df=Gs=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Bp(X,s,G);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Bp(X,s,G)}var de;if(Or)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Le?B(n,s)&&(ve="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(v&&s.locale!=="ko"&&(Le||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Le&&(de=rl()):(Rr=G,Hi="value"in Rr?Rr.value:Rr.textContent,Le=!0)),Ne=Pc(P,ve),0<Ne.length&&(ve=new sl(ve,n,null,s,G),X.push({event:ve,listeners:Ne}),de?ve.data=de:(de=ne(s),de!==null&&(ve.data=de)))),(de=p?xt(n,s):Ue(n,s))&&(ve=Pc(P,"onBeforeInput"),0<ve.length&&(Ne=new sl("onBeforeInput","beforeinput",null,s,G),X.push({event:Ne,listeners:ve}),Ne.data=de)),_A(X,n,P,s,G)}r_(X,i)})}function jl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Pc(n,i){for(var s=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=La(n,s),h!=null&&l.unshift(jl(n,h,d)),h=La(n,i),h!=null&&l.push(jl(n,h,d))),n=n.return}return l}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function a_(n,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=La(s,d),P!=null&&_.unshift(jl(s,P,R))):h||(P=La(s,d),P!=null&&_.push(jl(s,P,R)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var bA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function s_(n){return(typeof n=="string"?n:""+n).replace(bA,`
`).replace(SA,"")}function o_(n,i){return i=s_(i),s_(n)===i}function Vc(){}function et(n,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fn(n,""+l);break;case"className":zi(n,"class",l);break;case"tabIndex":zi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(n,s,l);break;case"style":Lu(n,l,d);break;case"data":if(i!=="object"){zi(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Ar(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&et(n,i,"name",h.name,h,null),et(n,i,"formEncType",h.formEncType,h,null),et(n,i,"formMethod",h.formMethod,h,null),et(n,i,"formTarget",h.formTarget,h,null)):(et(n,i,"encType",h.encType,h,null),et(n,i,"method",h.method,h,null),et(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=Ar(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=Ar(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),ji(n,"popover",l);break;case"xlinkActuate":Hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Hn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Hn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Hn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Hn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ef.get(s)||s,ji(n,s,l))}}function Xd(n,i,s,l,h,d){switch(s){case"style":Lu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Fn(n,l):(typeof l=="number"||typeof l=="bigint")&&Fn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=n[_t]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,h);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):ji(n,s,l)}}}function Jt(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(n,i,d,_,s,null)}}h&&et(n,i,"srcSet",s.srcSet,s,null),l&&et(n,i,"src",s.src,s,null);return;case"input":Ve("invalid",n);var T=d=_=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:et(n,i,l,G,s,null)}}Va(n,d,T,R,P,_,h,!1),Pa(n);return;case"select":Ve("invalid",n),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(n,i,h,T,s,null)}i=d,s=_,n.multiple=!!l,i!=null?He(n,!!l,i,!1):s!=null&&He(n,!!l,s,!0);return;case"textarea":Ve("invalid",n),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:et(n,i,_,T,s,null)}qi(n,l,h,d),Pa(n);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,i,R,l,s,null)}return;case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ve(Ul[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(n,i,P,l,s,null)}return;default:if(tl(i)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Xd(n,i,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&et(n,i,T,l,s,null))}function AA(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,R=null,P=null,G=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||et(n,i,H,null,l,X)}}for(var z in l){var H=l[z];if(X=s[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==X&&et(n,i,z,H,l,X)}}Bi(n,_,T,R,P,G,d,h);return;case"select":H=_=T=z=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||et(n,i,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==R&&et(n,i,h,d,l,R)}i=T,s=_,l=H,z!=null?He(n,!!s,z,!1):!!l!=!!s&&(i!=null?He(n,!!s,i,!0):He(n,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,i,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&et(n,i,_,h,l,d)}xa(n,z,H);return;case"option":for(var he in s)if(z=s[he],s.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:et(n,i,he,null,l,z)}for(R in l)if(z=l[R],H=s[R],l.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null))switch(R){case"selected":n.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:et(n,i,R,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)z=s[Se],s.hasOwnProperty(Se)&&z!=null&&!l.hasOwnProperty(Se)&&et(n,i,Se,null,l,z);for(P in l)if(z=l[P],H=s[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,i));break;default:et(n,i,P,z,l,H)}return;default:if(tl(i)){for(var bt in s)z=s[bt],s.hasOwnProperty(bt)&&z!==void 0&&!l.hasOwnProperty(bt)&&Xd(n,i,bt,void 0,l,z);for(G in l)z=l[G],H=s[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Xd(n,i,G,z,l,H);return}}for(var L in s)z=s[L],s.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&et(n,i,L,null,l,z);for(X in l)z=l[X],H=s[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||et(n,i,X,z,l,H)}var Zd=null,Jd=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function l_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function em(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function RA(){var n=window.event;return n&&n.type==="popstate"?n===tm?!1:(tm=n,!0):(tm=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(n){return h_.resolve(null).then(n).catch(CA)}:c_;function CA(n){setTimeout(function(){throw n})}function nm(n,i){var s=i,l=0;do{var h=s.nextSibling;if(n.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){n.removeChild(h),Kl(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Kl(i)}function rm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rm(s),Vt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function OA(n,i,s,l){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[It])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=gr(n.nextSibling),n===null)break}return null}function NA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=gr(n.nextSibling),n===null))return null;return n}function gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function f_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function d_(n,i,s){switch(i=xc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}var rr=new Map,m_=new Set;function Lc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var wi=ae.d;ae.d={f:MA,r:kA,D:PA,C:VA,L:xA,m:LA,X:jA,S:UA,M:zA};function MA(){var n=wi.f(),i=Cc();return n||i}function kA(n){var i=hr(n);i!==null&&i.tag===5&&i.type==="form"?By(i):wi.r(n)}var go=typeof document>"u"?null:document;function g_(n,i,s){var l=go;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),m_.has(h)||(m_.add(h),n={rel:n,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Jt(i,"link",n),dt(i),l.head.appendChild(i)))}}function PA(n){wi.D(n),g_("dns-prefetch",n,null)}function VA(n,i){wi.C(n,i),g_("preconnect",n,i)}function xA(n,i,s){wi.L(n,i,s);var l=go;if(l&&n&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Et(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Et(s.imageSizes)+'"]')):h+='[href="'+Et(n)+'"]';var d=h;switch(i){case"style":d=po(n);break;case"script":d=yo(n)}rr.has(d)||(n=I({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),rr.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),Jt(i,"link",n),dt(i),l.head.appendChild(i)))}}function LA(n,i){wi.m(n,i);var s=go;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(n)}if(!rr.has(d)&&(n=I({rel:"modulepreload",href:n},i),rr.set(d,n),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(d)))return}l=s.createElement("link"),Jt(l,"link",n),dt(l),s.head.appendChild(l)}}}function UA(n,i,s){wi.S(n,i,s);var l=go;if(l&&n){var h=Ui(l).hoistableStyles,d=po(n);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":i},s),(s=rr.get(d))&&im(n,s);var R=_=l.createElement("link");dt(R),Jt(R,"link",n),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function jA(n,i){wi.X(n,i);var s=go;if(s&&n){var l=Ui(s).hoistableScripts,h=yo(n),d=l.get(h);d||(d=s.querySelector(Bl(h)),d||(n=I({src:n,async:!0},i),(i=rr.get(h))&&am(n,i),d=s.createElement("script"),dt(d),Jt(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zA(n,i){wi.M(n,i);var s=go;if(s&&n){var l=Ui(s).hoistableScripts,h=yo(n),d=l.get(h);d||(d=s.querySelector(Bl(h)),d||(n=I({src:n,async:!0,type:"module"},i),(i=rr.get(h))&&am(n,i),d=s.createElement("script"),dt(d),Jt(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p_(n,i,s,l){var h=(h=an.current)?Lc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=po(s.href),s=Ui(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=po(s.href);var d=Ui(h).hoistableStyles,_=d.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=h.querySelector(zl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),rr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},rr.set(n,s),d||BA(h,n,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(s),s=Ui(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function po(n){return'href="'+Et(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function y_(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function BA(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",s),dt(i),n.head.appendChild(i))}function yo(n){return'[src="'+Et(n)+'"]'}function Bl(n){return"script[async]"+n}function v_(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Et(s.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),Jt(l,"style",h),Uc(l,s.precedence,n),i.instance=l;case"stylesheet":h=po(s.href);var d=n.querySelector(zl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=y_(s),(h=rr.get(h))&&im(l,h),d=(n.ownerDocument||n).createElement("link"),dt(d);var _=d;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Jt(d,"link",l),i.state.loading|=4,Uc(d,s.precedence,n),i.instance=d;case"script":return d=yo(s.src),(h=n.querySelector(Bl(d)))?(i.instance=h,dt(h),h):(l=s,(h=rr.get(d))&&(l=I({},s),am(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),dt(h),Jt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,Uc(l,s.precedence,n));return i.instance}function Uc(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function im(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function am(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var jc=null;function __(n,i,s){if(jc===null){var l=new Map,h=jc=new Map;h.set(s,l)}else h=jc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var d=s[h];if(!(d[It]||d[vt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function E_(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function qA(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var ql=null;function HA(){}function FA(n,i,s){if(ql===null)throw Error(a(475));var l=ql;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=po(s.href),d=n.querySelector(zl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=n.ownerDocument||n,s=y_(s),(h=rr.get(h))&&im(s,h),d=d.createElement("link"),dt(d);var _=d;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),Jt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=zc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function GA(){if(ql===null)throw Error(a(475));var n=ql;return n.stylesheets&&n.count===0&&sm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&sm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bc=null;function sm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bc=new Map,i.forEach(YA,n),Bc=null,zc.call(n))}function YA(n,i){if(!(i.state.loading&4)){var s=Bc.get(n);if(s)var l=s.get(null);else{s=new Map,Bc.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Hl={$$typeof:V,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function KA(n,i,s,l,h,d,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function w_(n,i,s,l,h,d,_,T,R,P,G,X){return n=new KA(n,i,s,_,T,R,P,X),i=1,d===!0&&(i|=24),d=tr(3,null,null,i),n.current=d,d.stateNode=n,i=Uf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},vd(d),n}function b_(n){return n?(n=Ws,n):Ws}function S_(n,i,s,l,h,d){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Xi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Zi(n,l,i),s!==null&&(_n(s,n,i),Rl(s,n,i))}function A_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function om(n,i){A_(n,i),(n=n.alternate)&&A_(n,i)}function R_(n){if(n.tag===13){var i=Fi(n,67108864);i!==null&&_n(i,n,67108864),om(n,67108864)}}var qc=!0;function WA(n,i,s,l){var h=S.T;S.T=null;var d=ae.p;try{ae.p=2,lm(n,i,s,l)}finally{ae.p=d,S.T=h}}function QA(n,i,s,l){var h=S.T;S.T=null;var d=ae.p;try{ae.p=8,lm(n,i,s,l)}finally{ae.p=d,S.T=h}}function lm(n,i,s,l){if(qc){var h=um(l);if(h===null)$d(n,i,l,Hc,s),I_(n,l);else if(XA(h,n,i,s,l))l.stopPropagation();else if(I_(n,l),i&4&&-1<$A.indexOf(n)){for(;h!==null;){var d=hr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=at(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Ht(_);T.entanglements[1]|=R,_&=~R}xr(d),!(gt&6)&&(Rc=sn()+500,Ll(0))}}break;case 13:T=Fi(d,2),T!==null&&_n(T,d,2),Cc(),om(d,2)}if(d=um(l),d===null&&$d(n,i,l,Hc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(n,i,l,null,s)}}function um(n){return n=xs(n),cm(n)}var Hc=null;function cm(n){if(Hc=null,n=gn(n),n!==null){var i=fe(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=Ie(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Hc=n,null}function D_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case St:return 2;case Dt:return 8;case lr:case Pi:return 32;case Vi:return 268435456;default:return 32}default:return 32}}var hm=!1,aa=null,sa=null,oa=null,Fl=new Map,Gl=new Map,la=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(n,i){switch(n){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function Yl(n,i,s,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=hr(i),i!==null&&R_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function XA(n,i,s,l,h){switch(i){case"focusin":return aa=Yl(aa,n,i,s,l,h),!0;case"dragenter":return sa=Yl(sa,n,i,s,l,h),!0;case"mouseover":return oa=Yl(oa,n,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Fl.set(d,Yl(Fl.get(d)||null,n,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Gl.set(d,Yl(Gl.get(d)||null,n,i,s,l,h)),!0}return!1}function C_(n){var i=gn(n.target);if(i!==null){var s=fe(i);if(s!==null){if(i=s.tag,i===13){if(i=Ie(s),i!==null){n.blockedOn=i,Bn(n.priority,function(){if(s.tag===13){var l=Ln(),h=Fi(s,l);h!==null&&_n(h,s,l),om(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=um(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Gn=l,s.target.dispatchEvent(l),Gn=null}else return i=hr(s),i!==null&&R_(i),n.blockedOn=s,!1;i.shift()}return!0}function O_(n,i,s){Fc(n)&&s.delete(i)}function ZA(){hm=!1,aa!==null&&Fc(aa)&&(aa=null),sa!==null&&Fc(sa)&&(sa=null),oa!==null&&Fc(oa)&&(oa=null),Fl.forEach(O_),Gl.forEach(O_)}function Gc(n,i){n.blockedOn===i&&(n.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZA)))}var Yc=null;function N_(n){Yc!==n&&(Yc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(cm(l||s)===null)continue;break}var d=hr(s);d!==null&&(n.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Kl(n){function i(R){return Gc(R,n)}aa!==null&&Gc(aa,n),sa!==null&&Gc(sa,n),oa!==null&&Gc(oa,n),Fl.forEach(i),Gl.forEach(i);for(var s=0;s<la.length;s++){var l=la[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<la.length&&(s=la[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&la.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[_t]||null;if(typeof d=="function")_||N_(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[_t]||null)T=_.formAction;else if(cm(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),N_(s)}}}function fm(n){this._internalRoot=n}Kc.prototype.render=fm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Ln();S_(s,l,n,i,null,null)},Kc.prototype.unmount=fm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&ho(),S_(n.current,2,null,n,null,null),Cc(),i[cr]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Li();n={blockedOn:null,target:n,priority:i};for(var s=0;s<la.length&&i!==0&&i<la[s].priority;s++);la.splice(s,0,n),s===0&&C_(n)}};var M_=e.version;if(M_!=="19.0.0")throw Error(a(527,M_,"19.0.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=$(i),n=n!==null?oe(n):null,n=n===null?null:n.stateNode,n};var JA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Dn=Wc.inject(JA),Pt=Wc}catch{}}return Ql.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",h=Qy,d=$y,_=Xy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=w_(n,1,!1,null,null,s,l,h,d,_,T,null),n[cr]=i.current,Qd(n.nodeType===8?n.parentNode:n),new fm(i)},Ql.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,h="",d=Qy,_=$y,T=Xy,R=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),i=w_(n,1,!0,i,s??null,l,h,d,_,T,R,P),i.context=b_(null),s=i.current,l=Ln(),h=Xi(l),h.callback=null,Zi(s,h,l),i.current.lanes=l,ct(i,l),xr(i),n[cr]=i.current,Qd(n),new Kc(i)},Ql.version="19.0.0",Ql}var q_;function u1(){if(q_)return gm.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=l1(),gm.exports}var c1=u1();function iT(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=iT(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function zh(){for(var r,e,t=0,a="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=iT(r))&&(a&&(a+=" "),a+=e);return a}var _m,H_;function h1(){if(H_)return _m;H_=1;const r=(g,y,E,b)=>{if(E==="length"||E==="prototype"||E==="arguments"||E==="caller")return;const O=Object.getOwnPropertyDescriptor(g,E),V=Object.getOwnPropertyDescriptor(y,E);!e(O,V)&&b||Object.defineProperty(g,E,V)},e=function(g,y){return g===void 0||g.configurable||g.writable===y.writable&&g.enumerable===y.enumerable&&g.configurable===y.configurable&&(g.writable||g.value===y.value)},t=(g,y)=>{const E=Object.getPrototypeOf(y);E!==Object.getPrototypeOf(g)&&Object.setPrototypeOf(g,E)},a=(g,y)=>`/* Wrapped ${g}*/
${y}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),f=(g,y,E)=>{const b=E===""?"":`with ${E.trim()}() `,O=a.bind(null,b,y.toString());Object.defineProperty(O,"name",u),Object.defineProperty(g,"toString",{...o,value:O})};return _m=(g,y,{ignoreNonConfigurable:E=!1}={})=>{const{name:b}=g;for(const O of Reflect.ownKeys(y))r(g,y,O,E);return t(g,y),f(g,y,b),g},_m}var $l={exports:{}},Em,F_;function f1(){return F_||(F_=1,Em=()=>{const r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}),Em}var Qc=$l.exports,G_;function d1(){return G_||(G_=1,function(r,e){var t=Qc&&Qc.__awaiter||function(f,m,g,y){return new(g||(g=Promise))(function(E,b){function O(K){try{F(y.next(K))}catch(q){b(q)}}function V(K){try{F(y.throw(K))}catch(q){b(q)}}function F(K){K.done?E(K.value):new g(function(q){q(K.value)}).then(O,V)}F((y=y.apply(f,m||[])).next())})},a=Qc&&Qc.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});const o=a(f1());function u(f,m="maxAge"){let g,y,E;const b=()=>t(this,void 0,void 0,function*(){if(g!==void 0)return;const F=K=>t(this,void 0,void 0,function*(){E=o.default();const q=K[1][m]-Date.now();if(q<=0){f.delete(K[0]),E.resolve();return}return g=K[0],y=setTimeout(()=>{f.delete(K[0]),E&&E.resolve()},q),typeof y.unref=="function"&&y.unref(),E.promise});try{for(const K of f)yield F(K)}catch{}g=void 0}),O=()=>{g=void 0,y!==void 0&&(clearTimeout(y),y=void 0),E!==void 0&&(E.reject(void 0),E=void 0)},V=f.set.bind(f);return f.set=(F,K)=>{f.has(F)&&f.delete(F);const q=V(F,K);return g&&g===F&&O(),b(),q},b(),f}e.default=u,r.exports=u,r.exports.default=u}($l,$l.exports)),$l.exports}var Tm,Y_;function m1(){if(Y_)return Tm;Y_=1;const r=h1(),e=d1(),t=new WeakMap,a=new WeakMap,o=(u,{cacheKey:f,cache:m=new Map,maxAge:g}={})=>{typeof g=="number"&&e(m);const y=function(...E){const b=f?f(E):E[0],O=m.get(b);if(O)return O.data;const V=u.apply(this,E);return m.set(b,{data:V,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),V};return r(y,u,{ignoreNonConfigurable:!0}),a.set(y,m),y};return o.decorator=(u={})=>(f,m,g)=>{const y=f[m];if(typeof y!="function")throw new TypeError("The decorated value must be a function");delete g.value,delete g.writable,g.get=function(){if(!t.has(this)){const E=o(y,u);return t.set(this,E),E}return t.get(this)}},o.clear=u=>{const f=a.get(u);if(!f)throw new TypeError("Can't clear a function that was not memoized!");if(typeof f.clear!="function")throw new TypeError("The cache Map can't be cleared!");f.clear()},Tm=o,Tm}var g1=m1();const aT=rT(g1);function p1(r){return typeof r=="string"}function y1(r,e,t){return t.indexOf(r)===e}function v1(r){return r.toLowerCase()===r}function K_(r){return r.indexOf(",")===-1?r:r.split(",")}function qm(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],t=e===void 0?"":e;return qm(t)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],t=a===void 0?"":a;return qm(t)}if(r.indexOf("-")===-1||!v1(r))return r;var o=r.split("-"),u=o[0],f=o[1],m=f===void 0?"":f;return"".concat(u,"-").concat(m.toUpperCase())}function _1(r){var e=r===void 0?{}:r,t=e.useFallbackLocale,a=t===void 0?!0:t,o=e.fallbackLocale,u=o===void 0?"en-US":o,f=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],y=0,E=m;y<E.length;y++){var b=E[y];g=g.concat(K_(b))}var O=navigator.language,V=O&&K_(O);f=f.concat(g,V)}return a&&f.push(u),f.filter(p1).map(qm).filter(y1)}var E1=aT(_1,{cacheKey:JSON.stringify});function T1(r){return E1(r)[0]||null}var sT=aT(T1,{cacheKey:JSON.stringify});function Ni(r,e,t){return function(o,u){u===void 0&&(u=t);var f=r(o)+u;return e(f)}}function bu(r){return function(t){return new Date(r(t).getTime()-1)}}function Su(r,e){return function(a){return[r(a),e(a)]}}function ft(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;var e=parseInt(r,10);if(typeof r=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(r,"."))}function Ia(r){if(r instanceof Date)return r.getMonth();throw new Error("Failed to get month from date: ".concat(r,"."))}function Bh(r){if(r instanceof Date)return r.getDate();throw new Error("Failed to get year from date: ".concat(r,"."))}function zo(r){var e=ft(r),t=e+(-e+1)%100,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}var w1=Ni(ft,zo,-100),oT=Ni(ft,zo,100),Dg=bu(oT),b1=Ni(ft,Dg,-100),lT=Su(zo,Dg);function Ca(r){var e=ft(r),t=e+(-e+1)%10,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}var uT=Ni(ft,Ca,-10),Ig=Ni(ft,Ca,10),qh=bu(Ig),cT=Ni(ft,qh,-10),hT=Su(Ca,qh);function Bo(r){var e=ft(r),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var fT=Ni(ft,Bo,-1),Cg=Ni(ft,Bo,1),Hh=bu(Cg),dT=Ni(ft,Hh,-1),S1=Su(Bo,Hh);function Og(r,e){return function(a,o){o===void 0&&(o=e);var u=ft(a),f=Ia(a)+o,m=new Date;return m.setFullYear(u,f,1),m.setHours(0,0,0,0),r(m)}}function Ts(r){var e=ft(r),t=Ia(r),a=new Date;return a.setFullYear(e,t,1),a.setHours(0,0,0,0),a}var mT=Og(Ts,-1),Ng=Og(Ts,1),Au=bu(Ng),gT=Og(Au,-1),A1=Su(Ts,Au);function R1(r,e){return function(a,o){o===void 0&&(o=e);var u=ft(a),f=Ia(a),m=Bh(a)+o,g=new Date;return g.setFullYear(u,f,m),g.setHours(0,0,0,0),r(g)}}function Ru(r){var e=ft(r),t=Ia(r),a=Bh(r),o=new Date;return o.setFullYear(e,t,a),o.setHours(0,0,0,0),o}var D1=R1(Ru,1),Mg=bu(D1),I1=Su(Ru,Mg);function pT(r){return Bh(Au(r))}var tn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},C1={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},kg=[0,1,2,3,4,5,6],wm=new Map;function O1(r){return function(t,a){var o=t||sT();wm.has(o)||wm.set(o,new Map);var u=wm.get(o);return u.has(r)||u.set(r,new Intl.DateTimeFormat(o||void 0,r).format),u.get(r)(a)}}function N1(r){var e=new Date(r);return new Date(e.setHours(12))}function ws(r){return function(e,t){return O1(r)(e,N1(t))}}var M1={day:"numeric"},k1={day:"numeric",month:"long",year:"numeric"},P1={month:"long"},V1={month:"long",year:"numeric"},x1={weekday:"short"},L1={weekday:"long"},U1={year:"numeric"},j1=ws(M1),z1=ws(k1),B1=ws(P1),yT=ws(V1),q1=ws(x1),H1=ws(L1),Fh=ws(U1),F1=kg[0],G1=kg[5],W_=kg[6];function cu(r,e){e===void 0&&(e=tn.ISO_8601);var t=r.getDay();switch(e){case tn.ISO_8601:return(t+6)%7;case tn.ISLAMIC:return(t+1)%7;case tn.HEBREW:case tn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function Y1(r){var e=zo(r);return ft(e)}function K1(r){var e=Ca(r);return ft(e)}function Hm(r,e){e===void 0&&(e=tn.ISO_8601);var t=ft(r),a=Ia(r),o=r.getDate()-cu(r,e);return new Date(t,a,o)}function W1(r,e){e===void 0&&(e=tn.ISO_8601);var t=e===tn.GREGORY?tn.GREGORY:tn.ISO_8601,a=Hm(r,e),o=ft(r)+1,u,f;do u=new Date(o,0,t===tn.ISO_8601?4:1),f=Hm(u,e),o-=1;while(r<f);return Math.round((a.getTime()-f.getTime())/(864e5*7))+1}function ds(r,e){switch(r){case"century":return zo(e);case"decade":return Ca(e);case"year":return Bo(e);case"month":return Ts(e);case"day":return Ru(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Q1(r,e){switch(r){case"century":return w1(e);case"decade":return uT(e);case"year":return fT(e);case"month":return mT(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function vT(r,e){switch(r){case"century":return oT(e);case"decade":return Ig(e);case"year":return Cg(e);case"month":return Ng(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function $1(r,e){switch(r){case"decade":return uT(e,-100);case"year":return fT(e,-10);case"month":return mT(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function X1(r,e){switch(r){case"decade":return Ig(e,100);case"year":return Cg(e,10);case"month":return Ng(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function _T(r,e){switch(r){case"century":return Dg(e);case"decade":return qh(e);case"year":return Hh(e);case"month":return Au(e);case"day":return Mg(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Z1(r,e){switch(r){case"century":return b1(e);case"decade":return cT(e);case"year":return dT(e);case"month":return gT(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function J1(r,e){switch(r){case"decade":return cT(e,-100);case"year":return dT(e,-10);case"month":return gT(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Q_(r,e){switch(r){case"century":return lT(e);case"decade":return hT(e);case"year":return S1(e);case"month":return A1(e);case"day":return I1(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function eR(r,e,t){var a=[e,t].sort(function(o,u){return o.getTime()-u.getTime()});return[ds(r,a[0]),_T(r,a[1])]}function ET(r,e,t){return t.map(function(a){return(e||Fh)(r,a)}).join(" – ")}function tR(r,e,t){return ET(r,e,lT(t))}function TT(r,e,t){return ET(r,e,hT(t))}function nR(r){return r.getDay()===new Date().getDay()}function wT(r,e){e===void 0&&(e=tn.ISO_8601);var t=r.getDay();switch(e){case tn.ISLAMIC:case tn.HEBREW:return t===G1||t===W_;case tn.ISO_8601:case tn.GREGORY:return t===W_||t===F1;default:throw new Error("Unsupported calendar type.")}}var Lr="react-calendar__navigation";function rR(r){var e=r.activeStartDate,t=r.drillUp,a=r.formatMonthYear,o=a===void 0?yT:a,u=r.formatYear,f=u===void 0?Fh:u,m=r.locale,g=r.maxDate,y=r.minDate,E=r.navigationAriaLabel,b=E===void 0?"":E,O=r.navigationAriaLive,V=r.navigationLabel,F=r.next2AriaLabel,K=F===void 0?"":F,q=r.next2Label,re=q===void 0?"»":q,Y=r.nextAriaLabel,J=Y===void 0?"":Y,ce=r.nextLabel,ue=ce===void 0?"›":ce,ye=r.prev2AriaLabel,k=ye===void 0?"":ye,A=r.prev2Label,S=A===void 0?"«":A,I=r.prevAriaLabel,M=I===void 0?"":I,x=r.prevLabel,D=x===void 0?"‹":x,rt=r.setActiveStartDate,ut=r.showDoubleView,te=r.view,ge=r.views,fe=ge.indexOf(te)>0,Ie=te!=="century",C=Q1(te,e),$=Ie?$1(te,e):void 0,oe=vT(te,e),ie=Ie?X1(te,e):void 0,ae=function(){if(C.getFullYear()<0)return!0;var Ze=Z1(te,e);return y&&y>=Ze}(),be=Ie&&function(){if($.getFullYear()<0)return!0;var Ze=J1(te,e);return y&&y>=Ze}(),Te=g&&g<oe,it=Ie&&g&&g<ie;function Oe(){rt(C,"prev")}function Ke(){rt($,"prev2")}function Be(){rt(oe,"next")}function kt(){rt(ie,"next2")}function Tn(Ze){var wn=function(){switch(te){case"century":return tR(m,f,Ze);case"decade":return TT(m,f,Ze);case"year":return f(m,Ze);case"month":return o(m,Ze);default:throw new Error("Invalid view: ".concat(te,"."))}}();return V?V({date:Ze,label:wn,locale:m||sT()||void 0,view:te}):wn}function an(){var Ze="".concat(Lr,"__label");return ee.jsxs("button",{"aria-label":b,"aria-live":O,className:Ze,disabled:!fe,onClick:t,style:{flexGrow:1},type:"button",children:[ee.jsx("span",{className:"".concat(Ze,"__labelText ").concat(Ze,"__labelText--from"),children:Tn(e)}),ut?ee.jsxs(ee.Fragment,{children:[ee.jsx("span",{className:"".concat(Ze,"__divider"),children:" – "}),ee.jsx("span",{className:"".concat(Ze,"__labelText ").concat(Ze,"__labelText--to"),children:Tn(oe)})]}):null]})}return ee.jsxs("div",{className:Lr,children:[S!==null&&Ie?ee.jsx("button",{"aria-label":k,className:"".concat(Lr,"__arrow ").concat(Lr,"__prev2-button"),disabled:be,onClick:Ke,type:"button",children:S}):null,D!==null&&ee.jsx("button",{"aria-label":M,className:"".concat(Lr,"__arrow ").concat(Lr,"__prev-button"),disabled:ae,onClick:Oe,type:"button",children:D}),an(),ue!==null&&ee.jsx("button",{"aria-label":J,className:"".concat(Lr,"__arrow ").concat(Lr,"__next-button"),disabled:Te,onClick:Be,type:"button",children:ue}),re!==null&&Ie?ee.jsx("button",{"aria-label":K,className:"".concat(Lr,"__arrow ").concat(Lr,"__next2-button"),disabled:it,onClick:kt,type:"button",children:re}):null]})}var bo=function(){return bo=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},bo.apply(this,arguments)},iR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function $_(r){return"".concat(r,"%")}function Pg(r){var e=r.children,t=r.className,a=r.count,o=r.direction,u=r.offset,f=r.style,m=r.wrap,g=iR(r,["children","className","count","direction","offset","style","wrap"]);return ee.jsx("div",bo({className:t,style:bo({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},f)},g,{children:Ye.Children.map(e,function(y,E){var b=u&&E===0?$_(100*u/a):null;return Ye.cloneElement(y,bo(bo({},y.props),{style:{flexBasis:$_(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function aR(r,e,t){return e&&e>r?e:t&&t<r?t:r}function hu(r,e){return e[0]<=r&&e[1]>=r}function sR(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function bT(r,e){return hu(r[0],e)||hu(r[1],e)}function X_(r,e,t){var a=bT(e,r),o=[];if(a){o.push(t);var u=hu(r[0],e),f=hu(r[1],e);u&&o.push("".concat(t,"Start")),f&&o.push("".concat(t,"End")),u&&f&&o.push("".concat(t,"BothEnds"))}return o}function oR(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function lR(r){if(!r)throw new Error("args is required");var e=r.value,t=r.date,a=r.hover,o="react-calendar__tile",u=[o];if(!t)return u;var f=new Date,m=function(){if(Array.isArray(t))return t;var V=r.dateType;if(!V)throw new Error("dateType is required when date is not an array of two dates");return Q_(V,t)}();if(hu(f,m)&&u.push("".concat(o,"--now")),!e||!oR(e))return u;var g=function(){if(Array.isArray(e))return e;var V=r.valueType;if(!V)throw new Error("valueType is required when value is not an array of two dates");return Q_(V,e)}();sR(g,m)?u.push("".concat(o,"--active")):bT(g,m)&&u.push("".concat(o,"--hasActive"));var y=X_(g,m,"".concat(o,"--range"));u.push.apply(u,y);var E=Array.isArray(e)?e:[e];if(a&&E.length===1){var b=a>g[0]?[g[0],a]:[a,g[0]],O=X_(b,m,"".concat(o,"--hover"));u.push.apply(u,O)}return u}function Gh(r){for(var e=r.className,t=r.count,a=t===void 0?3:t,o=r.dateTransform,u=r.dateType,f=r.end,m=r.hover,g=r.offset,y=r.renderTile,E=r.start,b=r.step,O=b===void 0?1:b,V=r.value,F=r.valueType,K=[],q=E;q<=f;q+=O){var re=o(q);K.push(y({classes:lR({date:re,dateType:u,hover:m,value:V,valueType:F}),date:re}))}return ee.jsx(Pg,{className:e,count:a,offset:g,wrap:!0,children:K})}function Yh(r){var e=r.activeStartDate,t=r.children,a=r.classes,o=r.date,u=r.formatAbbr,f=r.locale,m=r.maxDate,g=r.maxDateTransform,y=r.minDate,E=r.minDateTransform,b=r.onClick,O=r.onMouseOver,V=r.style,F=r.tileClassName,K=r.tileContent,q=r.tileDisabled,re=r.view,Y=Ye.useMemo(function(){var ce={activeStartDate:e,date:o,view:re};return typeof F=="function"?F(ce):F},[e,o,F,re]),J=Ye.useMemo(function(){var ce={activeStartDate:e,date:o,view:re};return typeof K=="function"?K(ce):K},[e,o,K,re]);return ee.jsxs("button",{className:zh(a,Y),disabled:y&&E(y)>o||m&&g(m)<o||(q==null?void 0:q({activeStartDate:e,date:o,view:re})),onClick:b?function(ce){return b(o,ce)}:void 0,onFocus:O?function(){return O(o)}:void 0,onMouseOver:O?function(){return O(o)}:void 0,style:V,type:"button",children:[u?ee.jsx("abbr",{"aria-label":u(f,o),children:t}):t,J]})}var Fm=function(){return Fm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Fm.apply(this,arguments)},uR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t},Z_="react-calendar__century-view__decades__decade";function cR(r){var e=r.classes,t=e===void 0?[]:e,a=r.currentCentury,o=r.formatYear,u=o===void 0?Fh:o,f=uR(r,["classes","currentCentury","formatYear"]),m=f.date,g=f.locale,y=[];return t&&y.push.apply(y,t),y.push(Z_),zo(m).getFullYear()!==a&&y.push("".concat(Z_,"--neighboringCentury")),ee.jsx(Yh,Fm({},f,{classes:y,maxDateTransform:qh,minDateTransform:Ca,view:"century",children:TT(g,u,m)}))}var Gm=function(){return Gm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gm.apply(this,arguments)},J_=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function hR(r){var e=r.activeStartDate,t=r.hover,a=r.showNeighboringCentury,o=r.value,u=r.valueType,f=J_(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=Y1(e),g=m+(a?119:99);return ee.jsx(Gh,{className:"react-calendar__century-view__decades",dateTransform:Ca,dateType:"decade",end:g,hover:t,renderTile:function(y){var E=y.date,b=J_(y,["date"]);return ee.jsx(cR,Gm({},f,b,{activeStartDate:e,currentCentury:m,date:E}),E.getTime())},start:m,step:10,value:o,valueType:u})}var Ym=function(){return Ym=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ym.apply(this,arguments)};function fR(r){function e(){return ee.jsx(hR,Ym({},r))}return ee.jsx("div",{className:"react-calendar__century-view",children:e()})}var Km=function(){return Km=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Km.apply(this,arguments)},dR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t},e0="react-calendar__decade-view__years__year";function mR(r){var e=r.classes,t=e===void 0?[]:e,a=r.currentDecade,o=r.formatYear,u=o===void 0?Fh:o,f=dR(r,["classes","currentDecade","formatYear"]),m=f.date,g=f.locale,y=[];return t&&y.push.apply(y,t),y.push(e0),Ca(m).getFullYear()!==a&&y.push("".concat(e0,"--neighboringDecade")),ee.jsx(Yh,Km({},f,{classes:y,maxDateTransform:Hh,minDateTransform:Bo,view:"decade",children:u(g,m)}))}var Wm=function(){return Wm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wm.apply(this,arguments)},t0=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function gR(r){var e=r.activeStartDate,t=r.hover,a=r.showNeighboringDecade,o=r.value,u=r.valueType,f=t0(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=K1(e),g=m+(a?11:9);return ee.jsx(Gh,{className:"react-calendar__decade-view__years",dateTransform:Bo,dateType:"year",end:g,hover:t,renderTile:function(y){var E=y.date,b=t0(y,["date"]);return ee.jsx(mR,Wm({},f,b,{activeStartDate:e,currentDecade:m,date:E}),E.getTime())},start:m,value:o,valueType:u})}var Qm=function(){return Qm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Qm.apply(this,arguments)};function pR(r){function e(){return ee.jsx(gR,Qm({},r))}return ee.jsx("div",{className:"react-calendar__decade-view",children:e()})}var $m=function(){return $m=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$m.apply(this,arguments)},yR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t},n0=function(r,e,t){if(t||arguments.length===2)for(var a=0,o=e.length,u;a<o;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},vR="react-calendar__year-view__months__month";function _R(r){var e=r.classes,t=e===void 0?[]:e,a=r.formatMonth,o=a===void 0?B1:a,u=r.formatMonthYear,f=u===void 0?yT:u,m=yR(r,["classes","formatMonth","formatMonthYear"]),g=m.date,y=m.locale;return ee.jsx(Yh,$m({},m,{classes:n0(n0([],t,!0),[vR],!1),formatAbbr:f,maxDateTransform:Au,minDateTransform:Ts,view:"year",children:o(y,g)}))}var Xm=function(){return Xm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Xm.apply(this,arguments)},r0=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function ER(r){var e=r.activeStartDate,t=r.hover,a=r.value,o=r.valueType,u=r0(r,["activeStartDate","hover","value","valueType"]),f=0,m=11,g=ft(e);return ee.jsx(Gh,{className:"react-calendar__year-view__months",dateTransform:function(y){var E=new Date;return E.setFullYear(g,y,1),Ts(E)},dateType:"month",end:m,hover:t,renderTile:function(y){var E=y.date,b=r0(y,["date"]);return ee.jsx(_R,Xm({},u,b,{activeStartDate:e,date:E}),E.getTime())},start:f,value:a,valueType:o})}var Zm=function(){return Zm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Zm.apply(this,arguments)};function TR(r){function e(){return ee.jsx(ER,Zm({},r))}return ee.jsx("div",{className:"react-calendar__year-view",children:e()})}var Jm=function(){return Jm=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Jm.apply(this,arguments)},wR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t},bm="react-calendar__month-view__days__day";function bR(r){var e=r.calendarType,t=r.classes,a=t===void 0?[]:t,o=r.currentMonthIndex,u=r.formatDay,f=u===void 0?j1:u,m=r.formatLongDate,g=m===void 0?z1:m,y=wR(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=y.date,b=y.locale,O=[];return a&&O.push.apply(O,a),O.push(bm),wT(E,e)&&O.push("".concat(bm,"--weekend")),E.getMonth()!==o&&O.push("".concat(bm,"--neighboringMonth")),ee.jsx(Yh,Jm({},y,{classes:O,formatAbbr:g,maxDateTransform:Mg,minDateTransform:Ru,view:"month",children:f(b,E)}))}var eg=function(){return eg=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},eg.apply(this,arguments)},i0=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function SR(r){var e=r.activeStartDate,t=r.calendarType,a=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,f=r.value,m=r.valueType,g=i0(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),y=ft(e),E=Ia(e),b=o||u,O=cu(e,t),V=b?0:O,F=(b?-O:0)+1,K=function(){if(o)return F+6*7-1;var q=pT(e);if(u){var re=new Date;re.setFullYear(y,E,q),re.setHours(0,0,0,0);var Y=7-cu(re,t)-1;return q+Y}return q}();return ee.jsx(Gh,{className:"react-calendar__month-view__days",count:7,dateTransform:function(q){var re=new Date;return re.setFullYear(y,E,q),Ru(re)},dateType:"day",hover:a,end:K,renderTile:function(q){var re=q.date,Y=i0(q,["date"]);return ee.jsx(bR,eg({},g,Y,{activeStartDate:e,calendarType:t,currentMonthIndex:E,date:re}),re.getTime())},offset:V,start:F,value:f,valueType:m})}var ST="react-calendar__month-view__weekdays",Sm="".concat(ST,"__weekday");function AR(r){for(var e=r.calendarType,t=r.formatShortWeekday,a=t===void 0?q1:t,o=r.formatWeekday,u=o===void 0?H1:o,f=r.locale,m=r.onMouseLeave,g=new Date,y=Ts(g),E=ft(y),b=Ia(y),O=[],V=1;V<=7;V+=1){var F=new Date(E,b,V-cu(y,e)),K=u(f,F);O.push(ee.jsx("div",{className:zh(Sm,nR(F)&&"".concat(Sm,"--current"),wT(F,e)&&"".concat(Sm,"--weekend")),children:ee.jsx("abbr",{"aria-label":K,title:K,children:a(f,F).replace(".","")})},V))}return ee.jsx(Pg,{className:ST,count:7,onFocus:m,onMouseOver:m,children:O})}var gh=function(){return gh=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},gh.apply(this,arguments)},a0=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t},s0="react-calendar__tile";function RR(r){var e=r.onClickWeekNumber,t=r.weekNumber,a=ee.jsx("span",{children:t});if(e){var o=r.date,u=r.onClickWeekNumber,f=r.weekNumber,m=a0(r,["date","onClickWeekNumber","weekNumber"]);return ee.jsx("button",gh({},m,{className:s0,onClick:function(g){return u(f,o,g)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=a0(r,["date","onClickWeekNumber","weekNumber"]);return ee.jsx("div",gh({},m,{className:s0,children:a}))}}function DR(r){var e=r.activeStartDate,t=r.calendarType,a=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,f=function(){if(u)return 6;var y=pT(e),E=cu(e,t),b=y-(7-E);return 1+Math.ceil(b/7)}(),m=function(){for(var y=ft(e),E=Ia(e),b=Bh(e),O=[],V=0;V<f;V+=1)O.push(Hm(new Date(y,E,b+V*7),t));return O}(),g=m.map(function(y){return W1(y,t)});return ee.jsx(Pg,{className:"react-calendar__month-view__weekNumbers",count:f,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(y,E){var b=m[E];if(!b)throw new Error("date is not defined");return ee.jsx(RR,{date:b,onClickWeekNumber:a,weekNumber:y},y)})})}var tg=function(){return tg=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},tg.apply(this,arguments)},IR=function(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t};function CR(r){if(r)for(var e=0,t=Object.entries(C1);e<t.length;e++){var a=t[e],o=a[0],u=a[1];if(u.includes(r))return o}return tn.ISO_8601}function OR(r){var e=r.activeStartDate,t=r.locale,a=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,f=u===void 0?CR(t):u,m=r.formatShortWeekday,g=r.formatWeekday,y=r.onClickWeekNumber,E=r.showWeekNumbers,b=IR(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function O(){return ee.jsx(AR,{calendarType:f,formatShortWeekday:m,formatWeekday:g,locale:t,onMouseLeave:a})}function V(){return E?ee.jsx(DR,{activeStartDate:e,calendarType:f,onClickWeekNumber:y,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function F(){return ee.jsx(SR,tg({calendarType:f},b))}var K="react-calendar__month-view";return ee.jsx("div",{className:zh(K,E?"".concat(K,"--weekNumbers"):""),children:ee.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[V(),ee.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[O(),F()]})]})})}var So=function(){return So=Object.assign||function(r){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},So.apply(this,arguments)},$c="react-calendar",ih=["century","decade","year","month"],NR=["decade","year","month","day"],Vg=new Date;Vg.setFullYear(1,0,1);Vg.setHours(0,0,0,0);var MR=new Date(864e13);function Xl(r){return r instanceof Date?r:new Date(r)}function AT(r,e){return ih.slice(ih.indexOf(r),ih.indexOf(e)+1)}function kR(r,e,t){var a=AT(e,t);return a.indexOf(r)!==-1}function xg(r,e,t){return r&&kR(r,e,t)?r:t}function RT(r){var e=ih.indexOf(r);return NR[e]}function PR(r,e){var t=Array.isArray(r)?r[e]:r;if(!t)return null;var a=Xl(t);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function DT(r,e){var t=r.value,a=r.minDate,o=r.maxDate,u=r.maxDetail,f=PR(t,e);if(!f)return null;var m=RT(u),g=function(){switch(e){case 0:return ds(m,f);case 1:return _T(m,f);default:throw new Error("Invalid index value: ".concat(e))}}();return aR(g,a,o)}var Lg=function(r){return DT(r,0)},IT=function(r){return DT(r,1)},VR=function(r){return[Lg,IT].map(function(e){return e(r)})};function CT(r){var e=r.maxDate,t=r.maxDetail,a=r.minDate,o=r.minDetail,u=r.value,f=r.view,m=xg(f,o,t),g=Lg({value:u,minDate:a,maxDate:e,maxDetail:t})||new Date;return ds(m,g)}function xR(r){var e=r.activeStartDate,t=r.defaultActiveStartDate,a=r.defaultValue,o=r.defaultView,u=r.maxDate,f=r.maxDetail,m=r.minDate,g=r.minDetail,y=r.value,E=r.view,b=xg(E,g,f),O=e||t;return O?ds(b,O):CT({maxDate:u,maxDetail:f,minDate:m,minDetail:g,value:y||a,view:E||o})}function Am(r){return r&&(!Array.isArray(r)||r.length===1)}function Xc(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var LR=Ye.forwardRef(function(e,t){var a=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,f=e.className,m=e.defaultActiveStartDate,g=e.defaultValue,y=e.defaultView,E=e.formatDay,b=e.formatLongDate,O=e.formatMonth,V=e.formatMonthYear,F=e.formatShortWeekday,K=e.formatWeekday,q=e.formatYear,re=e.goToRangeStartOnSelect,Y=re===void 0?!0:re,J=e.inputRef,ce=e.locale,ue=e.maxDate,ye=ue===void 0?MR:ue,k=e.maxDetail,A=k===void 0?"month":k,S=e.minDate,I=S===void 0?Vg:S,M=e.minDetail,x=M===void 0?"century":M,D=e.navigationAriaLabel,rt=e.navigationAriaLive,ut=e.navigationLabel,te=e.next2AriaLabel,ge=e.next2Label,fe=e.nextAriaLabel,Ie=e.nextLabel,C=e.onActiveStartDateChange,$=e.onChange,oe=e.onClickDay,ie=e.onClickDecade,ae=e.onClickMonth,be=e.onClickWeekNumber,Te=e.onClickYear,it=e.onDrillDown,Oe=e.onDrillUp,Ke=e.onViewChange,Be=e.prev2AriaLabel,kt=e.prev2Label,Tn=e.prevAriaLabel,an=e.prevLabel,Ze=e.returnValue,wn=Ze===void 0?"start":Ze,yt=e.selectRange,Tr=e.showDoubleView,Qr=e.showFixedNumberOfWeeks,$r=e.showNavigation,Xr=$r===void 0?!0:$r,Mi=e.showNeighboringCentury,Qo=e.showNeighboringDecade,ki=e.showNeighboringMonth,sn=ki===void 0?!0:ki,Os=e.showWeekNumbers,St=e.tileClassName,Dt=e.tileContent,lr=e.tileDisabled,Pi=e.value,Vi=e.view,Ns=Ye.useState(m),Zr=Ns[0],Dn=Ns[1],Pt=Ye.useState(null),Na=Pt[0],In=Pt[1],Ht=Ye.useState(Array.isArray(g)?g.map(function(Re){return Re!==null?Xl(Re):null}):g!=null?Xl(g):null),Jr=Ht[0],Ms=Ht[1],Ma=Ye.useState(y),jn=Ma[0],ur=Ma[1],at=a||Zr||xR({activeStartDate:a,defaultActiveStartDate:m,defaultValue:g,defaultView:y,maxDate:ye,maxDetail:A,minDate:I,minDetail:x,value:Pi,view:Vi}),tt=function(){var Re=function(){return yt&&Am(Jr)?Jr:Pi!==void 0?Pi:Jr}();return Re?Array.isArray(Re)?Re.map(function(qe){return qe!==null?Xl(qe):null}):Re!==null?Xl(Re):null:null}(),Cn=RT(A),We=xg(Vi||jn,x,A),on=AT(x,A),wr=yt?Na:null,br=on.indexOf(We)<on.length-1,ct=on.indexOf(We)>0,ka=Ye.useCallback(function(Re){var qe=function(){switch(wn){case"start":return Lg;case"end":return IT;case"range":return VR;default:throw new Error("Invalid returnValue.")}}();return qe({maxDate:ye,maxDetail:A,minDate:I,value:Re})},[ye,A,I,wn]),zn=Ye.useCallback(function(Re,qe){Dn(Re);var st={action:qe,activeStartDate:Re,value:tt,view:We};C&&!Xc(at,Re)&&C(st)},[at,C,tt,We]),On=Ye.useCallback(function(Re,qe){var st=function(){switch(We){case"century":return ie;case"decade":return Te;case"year":return ae;case"month":return oe;default:throw new Error("Invalid view: ".concat(We,"."))}}();st&&st(Re,qe)},[oe,ie,ae,Te,We]),xi=Ye.useCallback(function(Re,qe){if(br){On(Re,qe);var st=on[on.indexOf(We)+1];if(!st)throw new Error("Attempted to drill down from the lowest view.");Dn(Re),ur(st);var It={action:"drillDown",activeStartDate:Re,value:tt,view:st};C&&!Xc(at,Re)&&C(It),Ke&&We!==st&&Ke(It),it&&it(It)}},[at,br,C,On,it,Ke,tt,We,on]),Li=Ye.useCallback(function(){if(ct){var Re=on[on.indexOf(We)-1];if(!Re)throw new Error("Attempted to drill up from the highest view.");var qe=ds(Re,at);Dn(qe),ur(Re);var st={action:"drillUp",activeStartDate:qe,value:tt,view:Re};C&&!Xc(at,qe)&&C(st),Ke&&We!==Re&&Ke(st),Oe&&Oe(st)}},[at,ct,C,Oe,Ke,tt,We,on]),Bn=Ye.useCallback(function(Re,qe){var st=tt;On(Re,qe);var It=yt&&!Am(st),Vt;if(yt)if(It)Vt=ds(Cn,Re);else{if(!st)throw new Error("previousValue is required");if(Array.isArray(st))throw new Error("previousValue must not be an array");Vt=eR(Cn,st,Re)}else Vt=ka(Re);var gn=!yt||It||Y?CT({maxDate:ye,maxDetail:A,minDate:I,minDetail:x,value:Vt,view:We}):null;qe.persist(),Dn(gn),Ms(Vt);var hr={action:"onChange",activeStartDate:gn,value:Vt,view:We};if(C&&!Xc(at,gn)&&C(hr),$)if(yt){var Sr=Am(Vt);if(!Sr)$(Vt||null,qe);else if(o){if(Array.isArray(Vt))throw new Error("value must not be an array");$([Vt||null,null],qe)}}else $(Vt||null,qe)},[at,o,ka,Y,ye,A,I,x,C,$,On,yt,tt,Cn,We]);function qn(Re){In(Re)}function vt(){In(null)}Ye.useImperativeHandle(t,function(){return{activeStartDate:at,drillDown:xi,drillUp:Li,onChange:Bn,setActiveStartDate:zn,value:tt,view:We}},[at,xi,Li,Bn,zn,tt,We]);function _t(Re){var qe=Re?vT(We,at):ds(We,at),st=br?xi:Bn,It={activeStartDate:qe,hover:wr,locale:ce,maxDate:ye,minDate:I,onClick:st,onMouseOver:yt?qn:void 0,tileClassName:St,tileContent:Dt,tileDisabled:lr,value:tt,valueType:Cn};switch(We){case"century":return ee.jsx(fR,So({formatYear:q,showNeighboringCentury:Mi},It));case"decade":return ee.jsx(pR,So({formatYear:q,showNeighboringDecade:Qo},It));case"year":return ee.jsx(TR,So({formatMonth:O,formatMonthYear:V},It));case"month":return ee.jsx(OR,So({calendarType:u,formatDay:E,formatLongDate:b,formatShortWeekday:F,formatWeekday:K,onClickWeekNumber:be,onMouseLeave:yt?vt:void 0,showFixedNumberOfWeeks:typeof Qr<"u"?Qr:Tr,showNeighboringMonth:sn,showWeekNumbers:Os},It));default:throw new Error("Invalid view: ".concat(We,"."))}}function cr(){return Xr?ee.jsx(rR,{activeStartDate:at,drillUp:Li,formatMonthYear:V,formatYear:q,locale:ce,maxDate:ye,minDate:I,navigationAriaLabel:D,navigationAriaLive:rt,navigationLabel:ut,next2AriaLabel:te,next2Label:ge,nextAriaLabel:fe,nextLabel:Ie,prev2AriaLabel:Be,prev2Label:kt,prevAriaLabel:Tn,prevLabel:an,setActiveStartDate:zn,showDoubleView:Tr,view:We,views:on}):null}var ei=Array.isArray(tt)?tt:[tt];return ee.jsxs("div",{className:zh($c,yt&&ei.length===1&&"".concat($c,"--selectRange"),Tr&&"".concat($c,"--doubleView"),f),ref:J,children:[cr(),ee.jsxs("div",{className:"".concat($c,"__viewContainer"),onBlur:yt?vt:void 0,onMouseLeave:yt?vt:void 0,children:[_t(),Tr?_t(!0):null]})]})});const OT=6048e5,UR=864e5,o0=Symbol.for("constructDateFrom");function Ri(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&o0 in r?r[o0](e):r instanceof Date?new r.constructor(e):new Date(e)}function En(r,e){return Ri(e||r,r)}function l0(r,e,t){const a=En(r,t==null?void 0:t.in);return isNaN(e)?Ri(r,NaN):(a.setDate(a.getDate()+e),a)}let jR={};function Kh(){return jR}function gs(r,e){var m,g,y,E;const t=Kh(),a=(e==null?void 0:e.weekStartsOn)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??t.weekStartsOn??((E=(y=t.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,o=En(r,e==null?void 0:e.in),u=o.getDay(),f=(u<a?7:0)+u-a;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function ph(r,e){return gs(r,{...e,weekStartsOn:1})}function NT(r,e){const t=En(r,e==null?void 0:e.in),a=t.getFullYear(),o=Ri(t,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=ph(o),f=Ri(t,0);f.setFullYear(a,0,4),f.setHours(0,0,0,0);const m=ph(f);return t.getTime()>=u.getTime()?a+1:t.getTime()>=m.getTime()?a:a-1}function u0(r){const e=En(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function zR(r,...e){const t=Ri.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function c0(r,e){const t=En(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function BR(r,e,t){const[a,o]=zR(t==null?void 0:t.in,r,e),u=c0(a),f=c0(o),m=+u-u0(u),g=+f-u0(f);return Math.round((m-g)/UR)}function qR(r,e){const t=NT(r,e),a=Ri(r,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),ph(a)}function HR(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function FR(r){return!(!HR(r)&&typeof r!="number"||isNaN(+En(r)))}function GR(r,e){const t=En(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const YR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KR=(r,e,t)=>{let a;const o=YR[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function Ro(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const WR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$R={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XR={date:Ro({formats:WR,defaultWidth:"full"}),time:Ro({formats:QR,defaultWidth:"full"}),dateTime:Ro({formats:$R,defaultWidth:"full"})},ZR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JR=(r,e,t,a)=>ZR[r];function jr(r){return(e,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=t!=null&&t.width?String(t.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const eD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sD=(r,e)=>{const t=Number(r),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},oD={ordinalNumber:sD,era:jr({values:eD,defaultWidth:"wide"}),quarter:jr({values:tD,defaultWidth:"wide",argumentCallback:r=>r-1}),month:jr({values:nD,defaultWidth:"wide"}),day:jr({values:rD,defaultWidth:"wide"}),dayPeriod:jr({values:iD,defaultWidth:"wide",formattingValues:aD,defaultFormattingWidth:"wide"})};function zr(r){return(e,t={})=>{const a=t.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(m)?uD(m,b=>b.test(f)):lD(m,b=>b.test(f));let y;y=r.valueCallback?r.valueCallback(g):g,y=t.valueCallback?t.valueCallback(y):y;const E=e.slice(f.length);return{value:y,rest:E}}}function lD(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function uD(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function MT(r){return(e,t={})=>{const a=e.match(r.matchPattern);if(!a)return null;const o=a[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=t.valueCallback?t.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const cD=/^(\d+)(th|st|nd|rd)?/i,hD=/\d+/i,fD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dD={any:[/^b/i,/^(a|c)/i]},mD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gD={any:[/1/i,/2/i,/3/i,/4/i]},pD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_D={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ED={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wD={ordinalNumber:MT({matchPattern:cD,parsePattern:hD,valueCallback:r=>parseInt(r,10)}),era:zr({matchPatterns:fD,defaultMatchWidth:"wide",parsePatterns:dD,defaultParseWidth:"any"}),quarter:zr({matchPatterns:mD,defaultMatchWidth:"wide",parsePatterns:gD,defaultParseWidth:"any",valueCallback:r=>r+1}),month:zr({matchPatterns:pD,defaultMatchWidth:"wide",parsePatterns:yD,defaultParseWidth:"any"}),day:zr({matchPatterns:vD,defaultMatchWidth:"wide",parsePatterns:_D,defaultParseWidth:"any"}),dayPeriod:zr({matchPatterns:ED,defaultMatchWidth:"any",parsePatterns:TD,defaultParseWidth:"any"})},bD={code:"en-US",formatDistance:KR,formatLong:XR,formatRelative:JR,localize:oD,match:wD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SD(r,e){const t=En(r,e==null?void 0:e.in);return BR(t,GR(t))+1}function AD(r,e){const t=En(r,e==null?void 0:e.in),a=+ph(t)-+qR(t);return Math.round(a/OT)+1}function kT(r,e){var E,b,O,V;const t=En(r,e==null?void 0:e.in),a=t.getFullYear(),o=Kh(),u=(e==null?void 0:e.firstWeekContainsDate)??((b=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:b.firstWeekContainsDate)??o.firstWeekContainsDate??((V=(O=o.locale)==null?void 0:O.options)==null?void 0:V.firstWeekContainsDate)??1,f=Ri((e==null?void 0:e.in)||r,0);f.setFullYear(a+1,0,u),f.setHours(0,0,0,0);const m=gs(f,e),g=Ri((e==null?void 0:e.in)||r,0);g.setFullYear(a,0,u),g.setHours(0,0,0,0);const y=gs(g,e);return+t>=+m?a+1:+t>=+y?a:a-1}function RD(r,e){var m,g,y,E;const t=Kh(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??t.firstWeekContainsDate??((E=(y=t.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,o=kT(r,e),u=Ri((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),gs(u,e)}function DD(r,e){const t=En(r,e==null?void 0:e.in),a=+gs(t,e)-+RD(t,e);return Math.round(a/OT)+1}function Xe(r,e){const t=r<0?"-":"",a=Math.abs(r).toString().padStart(e,"0");return t+a}const ca={y(r,e){const t=r.getFullYear(),a=t>0?t:1-t;return Xe(e==="yy"?a%100:a,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Xe(t+1,2)},d(r,e){return Xe(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Xe(r.getHours()%12||12,e.length)},H(r,e){return Xe(r.getHours(),e.length)},m(r,e){return Xe(r.getMinutes(),e.length)},s(r,e){return Xe(r.getSeconds(),e.length)},S(r,e){const t=e.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,t-3));return Xe(o,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h0={G:function(r,e,t){const a=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return t.ordinalNumber(o,{unit:"year"})}return ca.y(r,e)},Y:function(r,e,t,a){const o=kT(r,a),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Xe(f,2)}return e==="Yo"?t.ordinalNumber(u,{unit:"year"}):Xe(u,e.length)},R:function(r,e){const t=NT(r);return Xe(t,e.length)},u:function(r,e){const t=r.getFullYear();return Xe(t,e.length)},Q:function(r,e,t){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Xe(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,e,t){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Xe(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,e,t){const a=r.getMonth();switch(e){case"M":case"MM":return ca.M(r,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(r,e,t){const a=r.getMonth();switch(e){case"L":return String(a+1);case"LL":return Xe(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(r,e,t,a){const o=DD(r,a);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Xe(o,e.length)},I:function(r,e,t){const a=AD(r);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):Xe(a,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):ca.d(r,e)},D:function(r,e,t){const a=SD(r);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):Xe(a,e.length)},E:function(r,e,t){const a=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(r,e,t,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Xe(u,2);case"eo":return t.ordinalNumber(u,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Xe(u,e.length);case"co":return t.ordinalNumber(u,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const a=r.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Xe(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const a=r.getHours();let o;switch(a===12?o=vo.noon:a===0?o=vo.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const a=r.getHours();let o;switch(a>=17?o=vo.evening:a>=12?o=vo.afternoon:a>=4?o=vo.morning:o=vo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let a=r.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return ca.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):ca.H(r,e)},K:function(r,e,t){const a=r.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):Xe(a,e.length)},k:function(r,e,t){let a=r.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):Xe(a,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):ca.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):ca.s(r,e)},S:function(r,e){return ca.S(r,e)},X:function(r,e,t){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return d0(a);case"XXXX":case"XX":return ls(a);case"XXXXX":case"XXX":default:return ls(a,":")}},x:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"x":return d0(a);case"xxxx":case"xx":return ls(a);case"xxxxx":case"xxx":default:return ls(a,":")}},O:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+f0(a,":");case"OOOO":default:return"GMT"+ls(a,":")}},z:function(r,e,t){const a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+f0(a,":");case"zzzz":default:return"GMT"+ls(a,":")}},t:function(r,e,t){const a=Math.trunc(+r/1e3);return Xe(a,e.length)},T:function(r,e,t){return Xe(+r,e.length)}};function f0(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),u=a%60;return u===0?t+String(o):t+String(o)+e+Xe(u,2)}function d0(r,e){return r%60===0?(r>0?"-":"+")+Xe(Math.abs(r)/60,2):ls(r,e)}function ls(r,e=""){const t=r>0?"-":"+",a=Math.abs(r),o=Xe(Math.trunc(a/60),2),u=Xe(a%60,2);return t+o+e+u}const m0=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PT=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ID=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],a=t[1],o=t[2];if(!o)return m0(r,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",m0(a,e)).replace("{{time}}",PT(o,e))},CD={p:PT,P:ID},OD=/^D+$/,ND=/^Y+$/,MD=["D","DD","YY","YYYY"];function kD(r){return OD.test(r)}function PD(r){return ND.test(r)}function VD(r,e,t){const a=xD(r,e,t);if(console.warn(a),MD.includes(r))throw new RangeError(a)}function xD(r,e,t){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jD=/^'([^]*?)'?$/,zD=/''/g,BD=/[a-zA-Z]/;function g0(r,e,t){var E,b,O,V,F,K,q,re;const a=Kh(),o=(t==null?void 0:t.locale)??a.locale??bD,u=(t==null?void 0:t.firstWeekContainsDate)??((b=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:b.firstWeekContainsDate)??a.firstWeekContainsDate??((V=(O=a.locale)==null?void 0:O.options)==null?void 0:V.firstWeekContainsDate)??1,f=(t==null?void 0:t.weekStartsOn)??((K=(F=t==null?void 0:t.locale)==null?void 0:F.options)==null?void 0:K.weekStartsOn)??a.weekStartsOn??((re=(q=a.locale)==null?void 0:q.options)==null?void 0:re.weekStartsOn)??0,m=En(r,t==null?void 0:t.in);if(!FR(m))throw new RangeError("Invalid time value");let g=e.match(UD).map(Y=>{const J=Y[0];if(J==="p"||J==="P"){const ce=CD[J];return ce(Y,o.formatLong)}return Y}).join("").match(LD).map(Y=>{if(Y==="''")return{isToken:!1,value:"'"};const J=Y[0];if(J==="'")return{isToken:!1,value:qD(Y)};if(h0[J])return{isToken:!0,value:Y};if(J.match(BD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return{isToken:!1,value:Y}});o.localize.preprocessor&&(g=o.localize.preprocessor(m,g));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return g.map(Y=>{if(!Y.isToken)return Y.value;const J=Y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&PD(J)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&kD(J))&&VD(J,e,String(r));const ce=h0[J[0]];return ce(m,J,o.localize,y)}).join("")}function qD(r){const e=r.match(jD);return e?e[1].replace(zD,"'"):r}function p0(r,e,t){const a=+En(r,t==null?void 0:t.in),[o,u]=[+En(e.start,t==null?void 0:t.in),+En(e.end,t==null?void 0:t.in)].sort((f,m)=>f-m);return a>=o&&a<=u}const HD={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},FD=(r,e,t)=>{let a;const o=HD[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+a:"hace "+a:a},GD={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},YD={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},KD={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WD={date:Ro({formats:GD,defaultWidth:"full"}),time:Ro({formats:YD,defaultWidth:"full"}),dateTime:Ro({formats:KD,defaultWidth:"full"})},QD={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},$D={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},XD=(r,e,t,a)=>e.getHours()!==1?$D[r]:QD[r],ZD={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},JD={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},eI={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},tI={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},nI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},rI={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},iI=(r,e)=>Number(r)+"º",aI={ordinalNumber:iI,era:jr({values:ZD,defaultWidth:"wide"}),quarter:jr({values:JD,defaultWidth:"wide",argumentCallback:r=>Number(r)-1}),month:jr({values:eI,defaultWidth:"wide"}),day:jr({values:tI,defaultWidth:"wide"}),dayPeriod:jr({values:nI,defaultWidth:"wide",formattingValues:rI,defaultFormattingWidth:"wide"})},sI=/^(\d+)(º)?/i,oI=/\d+/i,lI={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},uI={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},cI={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},hI={any:[/1/i,/2/i,/3/i,/4/i]},fI={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},dI={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},mI={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},gI={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},pI={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},yI={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},vI={ordinalNumber:MT({matchPattern:sI,parsePattern:oI,valueCallback:function(r){return parseInt(r,10)}}),era:zr({matchPatterns:lI,defaultMatchWidth:"wide",parsePatterns:uI,defaultParseWidth:"any"}),quarter:zr({matchPatterns:cI,defaultMatchWidth:"wide",parsePatterns:hI,defaultParseWidth:"any",valueCallback:r=>r+1}),month:zr({matchPatterns:fI,defaultMatchWidth:"wide",parsePatterns:dI,defaultParseWidth:"any"}),day:zr({matchPatterns:mI,defaultMatchWidth:"wide",parsePatterns:gI,defaultParseWidth:"any"}),dayPeriod:zr({matchPatterns:pI,defaultMatchWidth:"any",parsePatterns:yI,defaultParseWidth:"any"})},y0={code:"es",formatDistance:FD,formatLong:WD,formatRelative:XD,localize:aI,match:vI,options:{weekStartsOn:1,firstWeekContainsDate:1}},_I="_calendarContainer_yh7sl_5",EI="_eventDay_yh7sl_27",TI="_eventItem_yh7sl_45",wI="_eventForm_yh7sl_205",bI="_eventsList_yh7sl_269",SI="_totalContainer_yh7sl_421",AI="_selectStyled_yh7sl_431",RI="_totalButton_yh7sl_451",DI="_totalDisplay_yh7sl_479",II="_weekDetail_yh7sl_599",CI="_show_yh7sl_625",ir={calendarContainer:_I,eventDay:EI,eventItem:TI,eventForm:wI,eventsList:bI,totalContainer:SI,selectStyled:AI,totalButton:RI,totalDisplay:DI,weekDetail:II,show:CI};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},OI=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],f=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let O=(m&15)<<2|y>>6,V=y&63;g||(V=64,f||(O=64)),a.push(t[E],t[b],t[O],t[V])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(VT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new NI;const O=u<<2|m>>4;if(a.push(O),y!==64){const V=m<<4&240|y>>2;if(a.push(V),b!==64){const F=y<<6&192|b;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(r){const e=VT(r);return xT.encodeByteArray(e,!0)},yh=function(r){return MI(r).replace(/\./g,"")},LT=function(r){try{return xT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>kI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof v0>"u")return;const r=v0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LT(r[1]);return e&&JSON.parse(e)},Wh=()=>{try{return PI()||VI()||xI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UT=r=>{var e,t;return(t=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},LI=r=>{const e=UT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},jT=()=>{var r;return(r=Wh())===null||r===void 0?void 0:r.config},zT=r=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[yh(JSON.stringify(t)),yh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function BI(){var r;const e=(r=Wh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FI(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GI(){return!BI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function YI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Er extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=KI,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bs.prototype.create)}}class bs{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?WI(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,a)}}function WI(r,e){return r.replace(QI,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const QI=/\{\$([^}]+)}/g;function $I(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fu(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(_0(u)&&_0(f)){if(!fu(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function _0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function XI(r,e){const t=new ZI(r,e);return t.subscribe.bind(t)}class ZI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");JI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1e3,tC=2,nC=4*60*60*1e3,rC=.5;function E0(r,e=eC,t=tC){const a=e*Math.pow(t,r),o=Math.round(rC*a*(Math.random()-.5)*2);return Math.min(nC,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class vr{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new UI;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sC(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(r){return r===us?void 0:r}function sC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const lC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},uC=ke.INFO,cC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},hC=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=cC[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=uC,this._logHandler=hC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const fC=(r,e)=>e.some(t=>r instanceof t);let T0,w0;function dC(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mC(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,ng=new WeakMap,GT=new WeakMap,Dm=new WeakMap,Ug=new WeakMap;function gC(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(ya(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&FT.set(t,r)}).catch(()=>{}),Ug.set(e,r),e}function pC(r){if(ng.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ng.set(r,e)}let rg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ng.get(r);if(e==="objectStoreNames")return r.objectStoreNames||GT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ya(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yC(r){rg=r(rg)}function vC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Im(this),e,...t);return GT.set(a,e.sort?e.sort():[e]),ya(a)}:mC().includes(r)?function(...e){return r.apply(Im(this),e),ya(FT.get(this))}:function(...e){return ya(r.apply(Im(this),e))}}function _C(r){return typeof r=="function"?vC(r):(r instanceof IDBTransaction&&pC(r),fC(r,dC())?new Proxy(r,rg):r)}function ya(r){if(r instanceof IDBRequest)return gC(r);if(Dm.has(r))return Dm.get(r);const e=_C(r);return e!==r&&(Dm.set(r,e),Ug.set(e,r)),e}const Im=r=>Ug.get(r);function YT(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ya(f);return a&&f.addEventListener("upgradeneeded",g=>{a(ya(f.result),g.oldVersion,g.newVersion,ya(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const EC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],Cm=new Map;function b0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=TC.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||EC.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return Cm.set(e,u),u}yC(r=>({...r,get:(e,t,a)=>b0(e,t)||r.get(e,t,a),has:(e,t)=>!!b0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bC(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function bC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",S0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Qh("@firebase/app"),SC="@firebase/app-compat",AC="@firebase/analytics-compat",RC="@firebase/analytics",DC="@firebase/app-check-compat",IC="@firebase/app-check",CC="@firebase/auth",OC="@firebase/auth-compat",NC="@firebase/database",MC="@firebase/data-connect",kC="@firebase/database-compat",PC="@firebase/functions",VC="@firebase/functions-compat",xC="@firebase/installations",LC="@firebase/installations-compat",UC="@firebase/messaging",jC="@firebase/messaging-compat",zC="@firebase/performance",BC="@firebase/performance-compat",qC="@firebase/remote-config",HC="@firebase/remote-config-compat",FC="@firebase/storage",GC="@firebase/storage-compat",YC="@firebase/firestore",KC="@firebase/vertexai",WC="@firebase/firestore-compat",QC="firebase",$C="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",XC={[ig]:"fire-core",[SC]:"fire-core-compat",[RC]:"fire-analytics",[AC]:"fire-analytics-compat",[IC]:"fire-app-check",[DC]:"fire-app-check-compat",[CC]:"fire-auth",[OC]:"fire-auth-compat",[NC]:"fire-rtdb",[MC]:"fire-data-connect",[kC]:"fire-rtdb-compat",[PC]:"fire-fn",[VC]:"fire-fn-compat",[xC]:"fire-iid",[LC]:"fire-iid-compat",[UC]:"fire-fcm",[jC]:"fire-fcm-compat",[zC]:"fire-perf",[BC]:"fire-perf-compat",[qC]:"fire-rc",[HC]:"fire-rc-compat",[FC]:"fire-gcs",[GC]:"fire-gcs-compat",[YC]:"fire-fst",[WC]:"fire-fst-compat",[KC]:"fire-vertex","fire-js":"fire-js",[QC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,ZC=new Map,sg=new Map;function A0(r,e){try{r.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Yr(r){const e=r.name;if(sg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,r);for(const t of vh.values())A0(t,r);for(const t of ZC.values())A0(t,r);return!0}function Ss(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},va=new bs("app","Firebase",JC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=$C;function KT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw va.create("bad-app-name",{appName:String(o)});if(t||(t=jT()),!t)throw va.create("no-options");const u=vh.get(o);if(u){if(fu(t,u.options)&&fu(a,u.config))return u;throw va.create("duplicate-app",{appName:o})}const f=new oC(o);for(const g of sg.values())f.addComponent(g);const m=new eO(t,a,f);return vh.set(o,m),m}function jg(r=ag){const e=vh.get(r);if(!e&&r===ag&&jT())return KT();if(!e)throw va.create("no-app",{appName:r});return e}function sr(r,e,t){var a;let o=(a=XC[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(m.join(" "));return}Yr(new vr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebase-heartbeat-database",nO=1,du="firebase-heartbeat-store";let Om=null;function WT(){return Om||(Om=YT(tO,nO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(du)}catch(t){console.warn(t)}}}}).catch(r=>{throw va.create("idb-open",{originalErrorMessage:r.message})})),Om}async function rO(r){try{const t=(await WT()).transaction(du),a=await t.objectStore(du).get(QT(r));return await t.done,a}catch(e){if(e instanceof Er)Di.warn(e.message);else{const t=va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function R0(r,e){try{const a=(await WT()).transaction(du,"readwrite");await a.objectStore(du).put(e,QT(r)),await a.done}catch(t){if(t instanceof Er)Di.warn(t.message);else{const a=va.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(a.message)}}}function QT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=1024,aO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lO(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=D0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>aO){const f=uO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Di.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=D0(),{heartbeatsToSend:a,unsentEntries:o}=oO(this._heartbeatsCache.heartbeats),u=yh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Di.warn(t),""}}}function D0(){return new Date().toISOString().substring(0,10)}function oO(r,e=iO){const t=[];let a=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),I0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),I0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class lO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return R0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return R0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function I0(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function uO(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(r){Yr(new vr("platform-logger",e=>new wC(e),"PRIVATE")),Yr(new vr("heartbeat",e=>new sO(e),"PRIVATE")),sr(ig,S0,r),sr(ig,S0,"esm2017"),sr("fire-js","")}cO("");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,$T;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function S(){}S.prototype=A.prototype,k.D=A.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(I,M,x){for(var D=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)D[rt-2]=arguments[rt];return A.prototype[M].apply(I,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,S){S||(S=0);var I=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)I[M]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=k.g[0],S=k.g[1],M=k.g[2];var x=k.g[3],D=A+(x^S&(M^x))+I[0]+3614090360&4294967295;A=S+(D<<7&4294967295|D>>>25),D=x+(M^A&(S^M))+I[1]+3905402710&4294967295,x=A+(D<<12&4294967295|D>>>20),D=M+(S^x&(A^S))+I[2]+606105819&4294967295,M=x+(D<<17&4294967295|D>>>15),D=S+(A^M&(x^A))+I[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=A+(x^S&(M^x))+I[4]+4118548399&4294967295,A=S+(D<<7&4294967295|D>>>25),D=x+(M^A&(S^M))+I[5]+1200080426&4294967295,x=A+(D<<12&4294967295|D>>>20),D=M+(S^x&(A^S))+I[6]+2821735955&4294967295,M=x+(D<<17&4294967295|D>>>15),D=S+(A^M&(x^A))+I[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=A+(x^S&(M^x))+I[8]+1770035416&4294967295,A=S+(D<<7&4294967295|D>>>25),D=x+(M^A&(S^M))+I[9]+2336552879&4294967295,x=A+(D<<12&4294967295|D>>>20),D=M+(S^x&(A^S))+I[10]+4294925233&4294967295,M=x+(D<<17&4294967295|D>>>15),D=S+(A^M&(x^A))+I[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=A+(x^S&(M^x))+I[12]+1804603682&4294967295,A=S+(D<<7&4294967295|D>>>25),D=x+(M^A&(S^M))+I[13]+4254626195&4294967295,x=A+(D<<12&4294967295|D>>>20),D=M+(S^x&(A^S))+I[14]+2792965006&4294967295,M=x+(D<<17&4294967295|D>>>15),D=S+(A^M&(x^A))+I[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=A+(M^x&(S^M))+I[1]+4129170786&4294967295,A=S+(D<<5&4294967295|D>>>27),D=x+(S^M&(A^S))+I[6]+3225465664&4294967295,x=A+(D<<9&4294967295|D>>>23),D=M+(A^S&(x^A))+I[11]+643717713&4294967295,M=x+(D<<14&4294967295|D>>>18),D=S+(x^A&(M^x))+I[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=A+(M^x&(S^M))+I[5]+3593408605&4294967295,A=S+(D<<5&4294967295|D>>>27),D=x+(S^M&(A^S))+I[10]+38016083&4294967295,x=A+(D<<9&4294967295|D>>>23),D=M+(A^S&(x^A))+I[15]+3634488961&4294967295,M=x+(D<<14&4294967295|D>>>18),D=S+(x^A&(M^x))+I[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=A+(M^x&(S^M))+I[9]+568446438&4294967295,A=S+(D<<5&4294967295|D>>>27),D=x+(S^M&(A^S))+I[14]+3275163606&4294967295,x=A+(D<<9&4294967295|D>>>23),D=M+(A^S&(x^A))+I[3]+4107603335&4294967295,M=x+(D<<14&4294967295|D>>>18),D=S+(x^A&(M^x))+I[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=A+(M^x&(S^M))+I[13]+2850285829&4294967295,A=S+(D<<5&4294967295|D>>>27),D=x+(S^M&(A^S))+I[2]+4243563512&4294967295,x=A+(D<<9&4294967295|D>>>23),D=M+(A^S&(x^A))+I[7]+1735328473&4294967295,M=x+(D<<14&4294967295|D>>>18),D=S+(x^A&(M^x))+I[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=A+(S^M^x)+I[5]+4294588738&4294967295,A=S+(D<<4&4294967295|D>>>28),D=x+(A^S^M)+I[8]+2272392833&4294967295,x=A+(D<<11&4294967295|D>>>21),D=M+(x^A^S)+I[11]+1839030562&4294967295,M=x+(D<<16&4294967295|D>>>16),D=S+(M^x^A)+I[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=A+(S^M^x)+I[1]+2763975236&4294967295,A=S+(D<<4&4294967295|D>>>28),D=x+(A^S^M)+I[4]+1272893353&4294967295,x=A+(D<<11&4294967295|D>>>21),D=M+(x^A^S)+I[7]+4139469664&4294967295,M=x+(D<<16&4294967295|D>>>16),D=S+(M^x^A)+I[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=A+(S^M^x)+I[13]+681279174&4294967295,A=S+(D<<4&4294967295|D>>>28),D=x+(A^S^M)+I[0]+3936430074&4294967295,x=A+(D<<11&4294967295|D>>>21),D=M+(x^A^S)+I[3]+3572445317&4294967295,M=x+(D<<16&4294967295|D>>>16),D=S+(M^x^A)+I[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=A+(S^M^x)+I[9]+3654602809&4294967295,A=S+(D<<4&4294967295|D>>>28),D=x+(A^S^M)+I[12]+3873151461&4294967295,x=A+(D<<11&4294967295|D>>>21),D=M+(x^A^S)+I[15]+530742520&4294967295,M=x+(D<<16&4294967295|D>>>16),D=S+(M^x^A)+I[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=A+(M^(S|~x))+I[0]+4096336452&4294967295,A=S+(D<<6&4294967295|D>>>26),D=x+(S^(A|~M))+I[7]+1126891415&4294967295,x=A+(D<<10&4294967295|D>>>22),D=M+(A^(x|~S))+I[14]+2878612391&4294967295,M=x+(D<<15&4294967295|D>>>17),D=S+(x^(M|~A))+I[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=A+(M^(S|~x))+I[12]+1700485571&4294967295,A=S+(D<<6&4294967295|D>>>26),D=x+(S^(A|~M))+I[3]+2399980690&4294967295,x=A+(D<<10&4294967295|D>>>22),D=M+(A^(x|~S))+I[10]+4293915773&4294967295,M=x+(D<<15&4294967295|D>>>17),D=S+(x^(M|~A))+I[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=A+(M^(S|~x))+I[8]+1873313359&4294967295,A=S+(D<<6&4294967295|D>>>26),D=x+(S^(A|~M))+I[15]+4264355552&4294967295,x=A+(D<<10&4294967295|D>>>22),D=M+(A^(x|~S))+I[6]+2734768916&4294967295,M=x+(D<<15&4294967295|D>>>17),D=S+(x^(M|~A))+I[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=A+(M^(S|~x))+I[4]+4149444226&4294967295,A=S+(D<<6&4294967295|D>>>26),D=x+(S^(A|~M))+I[11]+3174756917&4294967295,x=A+(D<<10&4294967295|D>>>22),D=M+(A^(x|~S))+I[2]+718787259&4294967295,M=x+(D<<15&4294967295|D>>>17),D=S+(x^(M|~A))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+x&4294967295}a.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var S=A-this.blockSize,I=this.B,M=this.h,x=0;x<A;){if(M==0)for(;x<=S;)o(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<A;)if(I[M++]=k.charCodeAt(x++),M==this.blockSize){o(this,I),M=0;break}}else for(;x<A;)if(I[M++]=k[x++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=A},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var S=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=S&255,S/=256;for(this.u(k),k=Array(16),A=S=0;4>A;++A)for(var I=0;32>I;I+=8)k[S++]=this.g[A]>>>I&255;return k};function u(k,A){var S=m;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=A(k)}function f(k,A){this.h=A;for(var S=[],I=!0,M=k.length-1;0<=M;M--){var x=k[M]|0;I&&x==A||(S[M]=x,I=!1)}this.g=S}var m={};function g(k){return-128<=k&&128>k?u(k,function(A){return new f([A|0],0>A?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return q(y(-k));for(var A=[],S=1,I=0;k>=S;I++)A[I]=k/S|0,S*=4294967296;return new f(A,0)}function E(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return q(E(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(A,8)),I=b,M=0;M<k.length;M+=8){var x=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+x),A);8>x?(x=y(Math.pow(A,x)),I=I.j(x).add(y(D))):(I=I.j(S),I=I.add(y(D)))}return I}var b=g(0),O=g(1),V=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-q(this).m();for(var k=0,A=1,S=0;S<this.g.length;S++){var I=this.i(S);k+=(0<=I?I:4294967296+I)*A,A*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if(K(this))return"-"+q(this).toString(k);for(var A=y(Math.pow(k,6)),S=this,I="";;){var M=ce(S,A).g;S=re(S,M.j(A));var x=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=M,F(S))return x+I;for(;6>x.length;)x="0"+x;I=x+I}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function K(k){return k.h==-1}r.l=function(k){return k=re(this,k),K(k)?-1:F(k)?0:1};function q(k){for(var A=k.g.length,S=[],I=0;I<A;I++)S[I]=~k.g[I];return new f(S,~k.h).add(O)}r.abs=function(){return K(this)?q(this):this},r.add=function(k){for(var A=Math.max(this.g.length,k.g.length),S=[],I=0,M=0;M<=A;M++){var x=I+(this.i(M)&65535)+(k.i(M)&65535),D=(x>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);I=D>>>16,x&=65535,D&=65535,S[M]=D<<16|x}return new f(S,S[S.length-1]&-2147483648?-1:0)};function re(k,A){return k.add(q(A))}r.j=function(k){if(F(this)||F(k))return b;if(K(this))return K(k)?q(this).j(q(k)):q(q(this).j(k));if(K(k))return q(this.j(q(k)));if(0>this.l(V)&&0>k.l(V))return y(this.m()*k.m());for(var A=this.g.length+k.g.length,S=[],I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<k.g.length;M++){var x=this.i(I)>>>16,D=this.i(I)&65535,rt=k.i(M)>>>16,ut=k.i(M)&65535;S[2*I+2*M]+=D*ut,Y(S,2*I+2*M),S[2*I+2*M+1]+=x*ut,Y(S,2*I+2*M+1),S[2*I+2*M+1]+=D*rt,Y(S,2*I+2*M+1),S[2*I+2*M+2]+=x*rt,Y(S,2*I+2*M+2)}for(I=0;I<A;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=A;I<2*A;I++)S[I]=0;return new f(S,0)};function Y(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function J(k,A){this.g=k,this.h=A}function ce(k,A){if(F(A))throw Error("division by zero");if(F(k))return new J(b,b);if(K(k))return A=ce(q(k),A),new J(q(A.g),q(A.h));if(K(A))return A=ce(k,q(A)),new J(q(A.g),A.h);if(30<k.g.length){if(K(k)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var S=O,I=A;0>=I.l(k);)S=ue(S),I=ue(I);var M=ye(S,1),x=ye(I,1);for(I=ye(I,2),S=ye(S,2);!F(I);){var D=x.add(I);0>=D.l(k)&&(M=M.add(S),x=D),I=ye(I,1),S=ye(S,1)}return A=re(k,M.j(A)),new J(M,A)}for(M=b;0<=k.l(A);){for(S=Math.max(1,Math.floor(k.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),x=y(S),D=x.j(A);K(D)||0<D.l(k);)S-=I,x=y(S),D=x.j(A);F(x)&&(x=O),M=M.add(x),k=re(k,D)}return new J(M,k)}r.A=function(k){return ce(this,k).h},r.and=function(k){for(var A=Math.max(this.g.length,k.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)&k.i(I);return new f(S,this.h&k.h)},r.or=function(k){for(var A=Math.max(this.g.length,k.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)|k.i(I);return new f(S,this.h|k.h)},r.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)^k.i(I);return new f(S,this.h^k.h)};function ue(k){for(var A=k.g.length+1,S=[],I=0;I<A;I++)S[I]=k.i(I)<<1|k.i(I-1)>>>31;return new f(S,k.h)}function ye(k,A){var S=A>>5;A%=32;for(var I=k.g.length-S,M=[],x=0;x<I;x++)M[x]=0<A?k.i(x+S)>>>A|k.i(x+S+1)<<32-A:k.i(x+S);return new f(M,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,$T=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,_a=f}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,eu,ZT,ah,og,JT,ew,tw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(c,p){if(p)e:{var v=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in v))break e;v=v[U]}c=c[c.length-1],w=v[c],p=p(w),p!=w&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,w=!1,U={next:function(){if(!w&&v<c.length){var B=v++;return{value:p(B,c[B]),done:!1}}return w=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,w),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function O(c,p,v){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,O.apply(null,arguments)}function V(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function F(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,U,B){for(var ne=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ne[Le-2]=arguments[Le];return p.prototype[U].apply(w,ne)}}function K(c){const p=c.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=c[w];return v}return[]}function q(c,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const U=c.length||0,B=w.length||0;c.length=U+B;for(let ne=0;ne<B;ne++)c[U+ne]=w[ne]}else c.push(w)}}class re{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Y(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ye(c,p,v){for(const w in c)p.call(v,c[w],w,c)}function k(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function A(c){const p={};for(const v in c)p[v]=c[v];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(v in w)c[v]=w[v];for(let B=0;B<S.length;B++)v=S[B],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function M(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function x(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ie;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class rt{constructor(){this.h=this.g=null}add(p,v){const w=ut.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ut=new re(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,fe=!1,Ie=new rt,C=()=>{const c=m.Promise.resolve(void 0);ge=()=>{c.then($)}};var $=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){x(v)}var p=ut;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}fe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function be(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ue){e:{try{ce(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}F(be,ie);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ke(c,p,v,w,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=U,this.key=++Oe,this.da=this.fa=!1}function Be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kt(c){this.src=c,this.g={},this.h=0}kt.prototype.add=function(c,p,v,w,U){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var ne=an(c,p,w,U);return-1<ne?(p=c[ne],v||(p.fa=!1)):(p=new Ke(p,this.src,B,!!w,U),p.fa=v,c.push(p)),p};function Tn(c,p){var v=p.type;if(v in c.g){var w=c.g[v],U=Array.prototype.indexOf.call(w,p,void 0),B;(B=0<=U)&&Array.prototype.splice.call(w,U,1),B&&(Be(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function an(c,p,v,w){for(var U=0;U<c.length;++U){var B=c[U];if(!B.da&&B.listener==p&&B.capture==!!v&&B.ha==w)return U}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),wn={};function yt(c,p,v,w,U){if(Array.isArray(p)){for(var B=0;B<p.length;B++)yt(c,p[B],v,w,U);return null}return v=Os(v),c&&c[it]?c.K(p,v,y(w)?!!w.capture:!1,U):Tr(c,p,v,!1,w,U)}function Tr(c,p,v,w,U,B){if(!p)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,Le=ki(c);if(Le||(c[Ze]=Le=new kt(c)),v=Le.add(p,v,w,ne,B),v.proxy)return v;if(w=Qr(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ae||(U=ne),U===void 0&&(U=!1),c.addEventListener(p.toString(),w,U);else if(c.attachEvent)c.attachEvent(Mi(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function c(v){return p.call(c.src,c.listener,v)}const p=Qo;return c}function $r(c,p,v,w,U){if(Array.isArray(p))for(var B=0;B<p.length;B++)$r(c,p[B],v,w,U);else w=y(w)?!!w.capture:!!w,v=Os(v),c&&c[it]?(c=c.i,p=String(p).toString(),p in c.g&&(B=c.g[p],v=an(B,v,w,U),-1<v&&(Be(B[v]),Array.prototype.splice.call(B,v,1),B.length==0&&(delete c.g[p],c.h--)))):c&&(c=ki(c))&&(p=c.g[p.toString()],c=-1,p&&(c=an(p,v,w,U)),(v=-1<c?p[c]:null)&&Xr(v))}function Xr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[it])Tn(p.i,c);else{var v=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(v,w,c.capture):p.detachEvent?p.detachEvent(Mi(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=ki(p))?(Tn(v,c),v.h==0&&(v.src=null,p[Ze]=null)):Be(c)}}}function Mi(c){return c in wn?wn[c]:wn[c]="on"+c}function Qo(c,p){if(c.da)c=!0;else{p=new be(p,this);var v=c.listener,w=c.ha||c.src;c.fa&&Xr(c),c=v.call(w,p)}return c}function ki(c){return c=c[Ze],c instanceof kt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Os(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(p){return c.handleEvent(p)}),c[sn])}function St(){oe.call(this),this.i=new kt(this),this.M=this,this.F=null}F(St,oe),St.prototype[it]=!0,St.prototype.removeEventListener=function(c,p,v,w){$r(this,c,p,v,w)};function Dt(c,p){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var U=p;p=new ie(w,c),I(p,U)}if(U=!0,v)for(var B=v.length-1;0<=B;B--){var ne=p.g=v[B];U=lr(ne,w,!0,p)&&U}if(ne=p.g=c,U=lr(ne,w,!0,p)&&U,U=lr(ne,w,!1,p)&&U,v)for(B=0;B<v.length;B++)ne=p.g=v[B],U=lr(ne,w,!1,p)&&U}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],w=0;w<v.length;w++)Be(v[w]);delete c.g[p],c.h--}}this.F=null},St.prototype.K=function(c,p,v,w){return this.i.add(String(c),p,!1,v,w)},St.prototype.L=function(c,p,v,w){return this.i.add(String(c),p,!0,v,w)};function lr(c,p,v,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,B=0;B<p.length;++B){var ne=p[B];if(ne&&!ne.da&&ne.capture==v){var Le=ne.listener,xt=ne.ha||ne.src;ne.fa&&Tn(c.i,ne),U=Le.call(xt,w)!==!1&&U}}return U&&!w.defaultPrevented}function Pi(c,p,v){if(typeof c=="function")v&&(c=O(c,v));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Vi(c){c.g=Pi(()=>{c.g=null,c.i&&(c.i=!1,Vi(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ns extends oe{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(c){oe.call(this),this.h=c,this.g={}}F(Zr,oe);var Dn=[];function Pt(c){ye(c.g,function(p,v){this.g.hasOwnProperty(v)&&Xr(p)},c),c.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Pt(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=m.JSON.stringify,In=m.JSON.parse,Ht=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Jr(){}Jr.prototype.h=null;function Ms(c){return c.h||(c.h=c.i())}function Ma(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){ie.call(this,"d")}F(ur,ie);function at(){ie.call(this,"c")}F(at,ie);var tt={},Cn=null;function We(){return Cn=Cn||new St}tt.La="serverreachability";function on(c){ie.call(this,tt.La,c)}F(on,ie);function wr(c){const p=We();Dt(p,new on(p))}tt.STAT_EVENT="statevent";function br(c,p){ie.call(this,tt.STAT_EVENT,c),this.stat=p}F(br,ie);function ct(c){const p=We();Dt(p,new br(p,c))}tt.Ma="timingevent";function ka(c,p){ie.call(this,tt.Ma,c),this.size=p}F(ka,ie);function zn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function xi(c,p,v,w,U,B){c.info(function(){if(c.g)if(B)for(var ne="",Le=B.split("&"),xt=0;xt<Le.length;xt++){var Ue=Le[xt].split("=");if(1<Ue.length){var Gt=Ue[0];Ue=Ue[1];var Lt=Gt.split("_");ne=2<=Lt.length&&Lt[1]=="type"?ne+(Gt+"="+Ue+"&"):ne+(Gt+"=redacted&")}}else ne=null;else ne=B;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+p+`
`+v+`
`+ne})}function Li(c,p,v,w,U,B,ne){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+p+`
`+v+`
`+B+" "+ne})}function Bn(c,p,v,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+vt(c,v)+(w?" "+w:"")})}function qn(c,p){c.info(function(){return"TIMEOUT: "+p})}On.prototype.info=function(){};function vt(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var U=w[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Na(v)}catch{return p}}var _t={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function Re(){}F(Re,Jr),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},ei=new Re;function qe(c,p,v,w){this.j=c,this.i=p,this.l=v,this.R=w||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}var It={},Vt={};function gn(c,p,v){c.L=1,c.v=xa(Et(p)),c.m=v,c.P=!0,hr(c,null)}function hr(c,p){c.F=Date.now(),dt(c),c.A=Et(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ri(v.i,"t",w),c.C=0,v=c.j.J,c.h=new st,c.g=Wu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Ns(O(c.Y,c,c.g),c.O)),p=c.U,v=c.g,w=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Dn[0]=U.toString()),U=Dn);for(var B=0;B<U.length;B++){var ne=yt(v,U[B],w||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),wr(),xi(c.i,c.u,c.A,c.l,c.R,c.m)}qe.prototype.ca=function(c){c=c.target;const p=this.M;p&&Kn(c)==3?p.j():this.Y(c)},qe.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=Kn(this.g);var p=this.g.Ba();const oi=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Lt!=4||p==7||(p==8||0>=oi?wr(3):wr(2)),ks(this);var v=this.g.Z();this.X=v;t:if(Sr(this)){var w=zu(this.g);c="";var U=w.length,B=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Nn(this);var ne="";break t}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(w[p],{stream:!(B&&p==U-1)});w.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Li(this.i,this.u,this.A,this.l,this.R,Lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Bn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mn(this,v);else{this.o=!1,this.s=3,ct(12),bn(this),Nn(this);break e}}if(this.P){v=!0;let $t;for(;!this.J&&this.C<ne.length;)if($t=Ui(this,ne),$t==Vt){Lt==4&&(this.s=4,ct(14),v=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if($t==It){this.s=4,ct(15),Bn(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Bn(this.i,this.l,$t,null),Mn(this,$t);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ne.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)Bn(this.i,this.l,ne,"[Invalid Chunked Response]"),bn(this),Nn(this);else if(0<ne.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Ha(Gt),Gt.M=!0,ct(11))}}else Bn(this.i,this.l,ne,null),Mn(this,ne);Lt==4&&bn(this),this.o&&!this.J&&(Lt==4?Gu(this.j,this):(this.o=!1,dt(this)))}else wf(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),bn(this),Nn(this)}}}catch{}finally{}};function Sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ui(c,p){var v=c.C,w=p.indexOf(`
`,v);return w==-1?Vt:(v=Number(p.substring(v,w)),isNaN(v)?It:(w+=1,w+v>p.length?Vt:(p=p.slice(w,w+v),c.C=w+v,p)))}qe.prototype.cancel=function(){this.J=!0,bn(this)};function dt(c){c.S=Date.now()+c.I,$o(c,c.I)}function $o(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(O(c.ba,c),p)}function ks(c){c.B&&(m.clearTimeout(c.B),c.B=null)}qe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qn(this.i,this.A),this.L!=2&&(wr(),ct(17)),bn(this),this.s=2,Nn(this)):$o(this,this.S-c)};function Nn(c){c.j.G==0||c.J||Gu(c.j,c)}function bn(c){ks(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Pt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Mn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||ji(v.h,c))){if(!c.K&&ji(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Hs(v),Bs(v);else break e;ol(v),ct(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=zn(O(v.Za,v),6e3));if(1>=Vu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else si(v,11)}else if((c.K||v.g==c)&&Hs(v),!Y(p))for(U=v.Da.g.parse(p),p=0;p<U.length;p++){let Ue=U[p];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Gt=Ue[3];Gt!=null&&(v.la=Gt,v.j.info("VER="+v.la));const Lt=Ue[4];Lt!=null&&(v.Aa=Lt,v.j.info("SVER="+v.Aa));const oi=Ue[5];oi!=null&&typeof oi=="number"&&0<oi&&(w=1.5*oi,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const $t=c.g;if($t){const Nr=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=w.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(zi(B,B.h),B.h=null))}if(w.D){const ul=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(w.ya=ul,He(w.I,w.D,ul))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ne=c;if(w.qa=Ku(w,w.J?w.ia:null,w.W),ne.K){Hn(w.h,ne);var Le=ne,xt=w.L;xt&&(Le.I=xt),Le.B&&(ks(Le),dt(Le)),w.g=ne}else Hu(w);0<v.i.length&&qs(v)}else Ue[0]!="stop"&&Ue[0]!="close"||si(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?si(v,7):al(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}wr(4)}catch{}}var yf=class{constructor(c,p){this.g=c,this.map=p}};function Xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vu(c){return c.h?1:c.g?c.g.size:0}function ji(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function zi(c,p){c.g?c.g.add(p):c.h=p}function Hn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Xo.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return K(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,w=0;w<v;w++)p.push(c[w]);return p}p=[],v=0;for(w in c)p[v++]=c[w];return p}function vf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const w in c)p[v++]=w;return p}}}function Pa(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=vf(c),w=xu(c),U=w.length,B=0;B<U;B++)p.call(void 0,w[B],v&&v[B],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),U=null;if(0<=w){var B=c[v].substring(0,w);U=c[v].substring(w+1)}else B=c[v];p(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ti){this.h=c.h,Bi(this,c.j),this.o=c.o,this.g=c.g,Va(this,c.s),this.l=c.l;var p=c.i,v=new Ar;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Vs(this,v),this.m=c.m}else c&&(p=String(c).match(Jo))?(this.h=!1,Bi(this,p[1]||"",!0),this.o=qi(p[2]||""),this.g=qi(p[3]||"",!0),Va(this,p[4]),this.l=qi(p[5]||"",!0),Vs(this,p[6]||"",!0),this.m=qi(p[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}ti.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Fn(p,el,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Fn(p,el,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Fn(v,v.charAt(0)=="/"?tl:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Fn(v,Tf)),c.join("")};function Et(c){return new ti(c)}function Bi(c,p,v){c.j=v?qi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Va(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Vs(c,p,v){p instanceof Ar?(c.i=p,nl(c.i,c.h)):(v||(p=Fn(p,Ef)),c.i=new Ar(p,c.h))}function He(c,p,v){c.i.set(p,v)}function xa(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,_f),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _f(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,Lu=/[#\?:]/g,tl=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function Ar(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Gn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ps(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,p){Gn(this),this.i=null,c=ii(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function xs(c,p){Gn(c),p=ii(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ni(c,p){return Gn(c),p=ii(c,p),c.g.has(p)}r.forEach=function(c,p){Gn(this),this.g.forEach(function(v,w){v.forEach(function(U){c.call(p,U,w,this)},this)},this)},r.na=function(){Gn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const U=c[w];for(let B=0;B<U.length;B++)v.push(p[w])}return v},r.V=function(c){Gn(this);let p=[];if(typeof c=="string")ni(this,c)&&(p=p.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Gn(this),this.i=null,c=ii(this,c),ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ri(c,p,v){xs(c,p),0<v.length&&(c.i=null,c.g.set(ii(c,p),K(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const B=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var U=B;ne[w]!==""&&(U+="="+encodeURIComponent(String(ne[w]))),c.push(U)}}return this.i=c.join("&")};function ii(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function nl(c,p){p&&!c.j&&(Gn(c),c.i=null,c.g.forEach(function(v,w){var U=w.toLowerCase();w!=U&&(xs(this,w),ri(this,U,v))},c)),c.j=p}function Uu(c,p){const v=new On;if(m.Image){const w=new Image;w.onload=V(Yn,v,"TestLoadImage: loaded",!0,p,w),w.onerror=V(Yn,v,"TestLoadImage: error",!1,p,w),w.onabort=V(Yn,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=V(Yn,v,"TestLoadImage: timeout",!1,p,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function La(c,p){const v=new On,w=new AbortController,U=setTimeout(()=>{w.abort(),Yn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(B=>{clearTimeout(U),B.ok?Yn(v,"TestPingServer: ok",!0,p):Yn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Yn(v,"TestPingServer: error",!1,p)})}function Yn(c,p,v,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(v)}catch{}}function Ua(){this.g=new Ht}function Rr(c,p,v){const w=v||"";try{Pa(c,function(U,B){let ne=U;y(U)&&(ne=Na(U)),p.push(w+B+"="+encodeURIComponent(ne))})}catch(U){throw p.push(w+"type="+encodeURIComponent("_badmap")),U}}function Hi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Hi,Jr),Hi.prototype.g=function(){return new ai(this.l,this.j)},Hi.prototype.i=function(c){return function(){return c}}({});function ai(c,p){St.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ai,St),r=ai.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ir(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Dr(this):Ir(this),this.readyState==3&&rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},r.Qa=function(c){this.g&&(this.response=c,Dr(this))},r.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ir(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let p="";return ye(c,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Ft(c,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=il(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,p,v))}function Qe(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Qe,St);var Ls=/^https?$/i,ja=["POST","PUT"];r=Qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Ms(this.o):Ms(ei),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){ju(this,B);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)v.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())v.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ja,p,void 0))||w||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){ju(this,B)}};function ju(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Us(c),Cr(c)}function Us(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},r.bb=function(){js(this)};function js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)Pi(c.Ea,0,c);else if(Dt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=ne===0){var U=String(c.D).match(Jo)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),w=!Ls.test(U?U.toLowerCase():"")}v=w}if(v)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var B=2<Kn(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",Us(c)}}finally{Cr(c)}}}}function Cr(c,p){if(c.g){za(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Dt(c,"ready");try{v.onreadystatechange=w}catch{}}}function za(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),In(p)}};function zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wf(c){const p={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Y(c[w]))continue;var v=M(c[w]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=p[U]||[];p[U]=B,B.push(v)}k(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function zs(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xo(c&&c.concurrentRequestLimit),this.Da=new Ua,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=zs.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,w){ct(0),this.W=c,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ku(this,null,this.W),qs(this)};function al(c){if(Bu(c),c.G==3){var p=c.U++,v=Et(c.I);if(He(v,"SID",c.K),He(v,"RID",p),He(v,"TYPE","terminate"),qa(c,v),p=new qe(c,c.j,p),p.L=2,p.v=xa(Et(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Wu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),dt(p)}Yu(c)}function Bs(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function Bu(c){Bs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function qs(c){if(!Zo(c.h)&&!c.s){c.s=!0;var p=c.Ga;ge||C(),fe||(ge(),fe=!0),Ie.add(p,c),c.B=0}}function bf(c,p){return Vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(O(c.Ga,c,p),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new qe(this,this.j,c);let B=this.o;if(this.S&&(B?(B=A(B),I(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=qu(this,U,p),v=Et(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),qa(this,v),B&&(this.O?p="headers="+encodeURIComponent(String(il(B)))+"&"+p:this.m&&Ft(v,this.m,B)),zi(this.h,U),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",p),He(v,"SID","null"),U.T=!0,gn(U,v,null)):gn(U,v,p),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||Zo(this.h)||sl(this))};function sl(c,p){var v;p?v=p.l:v=c.U++;const w=Et(c.I);He(w,"SID",c.K),He(w,"RID",v),He(w,"AID",c.T),qa(c,w),c.m&&c.o&&Ft(w,c.m,c.o),v=new qe(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zi(c.h,v),gn(v,w,p)}function qa(c,p){c.H&&ye(c.H,function(v,w){He(p,w,v)}),c.l&&Pa({},function(v,w){He(p,w,v)})}function qu(c,p,v){v=Math.min(c.i.length,v);var w=c.l?O(c.l.Na,c.l,c):null;e:{var U=c.i;let B=-1;for(;;){const ne=["count="+v];B==-1?0<v?(B=U[0].g,ne.push("ofs="+B)):B=0:ne.push("ofs="+B);let Le=!0;for(let xt=0;xt<v;xt++){let Ue=U[xt].g;const Gt=U[xt].map;if(Ue-=B,0>Ue)B=Math.max(0,U[xt].g-100),Le=!1;else try{Rr(Gt,ne,"req"+Ue+"_")}catch{w&&w(Gt)}}if(Le){w=ne.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,w}function Hu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ge||C(),fe||(ge(),fe=!0),Ie.add(p,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(O(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(O(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Bs(this),Fu(this))};function Ha(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new qe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Et(c.qa);He(p,"RID","rpc"),He(p,"SID",c.K),He(p,"AID",c.T),He(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(p,"TO",c.ja),He(p,"TYPE","xmlhttp"),qa(c,p),c.m&&c.o&&Ft(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=xa(Et(p)),v.m=null,v.P=!0,hr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Bs(this),ol(this),ct(19))};function Hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,p){var v=null;if(c.g==p){Hs(c),Ha(c),c.g=null;var w=2}else if(ji(c.h,p))v=p.D,Hn(c.h,p),w=1;else return;if(c.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;w=We(),Dt(w,new ka(w,v)),qs(c)}else Hu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(w==1&&bf(c,p)||w==2&&ol(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),U){case 1:si(c,5);break;case 4:si(c,10);break;case 3:si(c,6);break;default:si(c,2)}}}function ll(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function si(c,p){if(c.j.info("Error code "+p),p==2){var v=O(c.fb,c),w=c.Xa;const U=!w;w=new ti(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bi(w,"https"),xa(w),U?Uu(w.toString(),v):La(w.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(p),Yu(c),Bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const p=pn(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ka,p),q(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ku(c,p,v){var w=v instanceof ti?Et(v):new ti(v);if(w.g!="")p&&(w.g=p+"."+w.g),Va(w,w.s);else{var U=m.location;w=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var B=new ti(null);w&&Bi(B,w),p&&(B.g=p),U&&Va(B,U),v&&(B.l=v),w=B}return v=c.D,p=c.ya,v&&p&&He(w,v,p),He(w,"VER",c.la),qa(c,w),w}function Wu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Qe(new Hi({eb:v})):new Qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fs(){}Fs.prototype.g=function(c,p){return new yn(c,p)};function yn(c,p){St.call(this),this.g=new zs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!Y(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Y(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Or(this)}F(yn,St),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){al(this.g)},yn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Na(c),c=v);p.i.push(new yf(p.Ya++,c)),p.G==3&&qs(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,yn.aa.N.call(this)};function $u(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}F($u,ur);function Xu(){at.call(this),this.status=1}F(Xu,at);function Or(c){this.g=c}F(Or,Qu),Or.prototype.ua=function(){Dt(this.g,"a")},Or.prototype.ta=function(c){Dt(this.g,new $u(c))},Or.prototype.sa=function(c){Dt(this.g,new Xu)},Or.prototype.ra=function(){Dt(this.g,"b")},Fs.prototype.createWebChannel=Fs.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tw=function(){return new Fs},ew=function(){return We()},JT=tt,og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,ah=_t,cr.COMPLETE="complete",ZT=cr,Ma.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",St.prototype.listen=St.prototype.K,eu=Ma,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,XT=Qe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",N0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Qh("@firebase/firestore");function _o(){return ps.logLevel}function se(r,...e){if(ps.logLevel<=ke.DEBUG){const t=e.map(zg);ps.debug(`Firestore (${Ho}): ${r}`,...t)}}function Ii(r,...e){if(ps.logLevel<=ke.ERROR){const t=e.map(zg);ps.error(`Firestore (${Ho}): ${r}`,...t)}}function Mo(r,...e){if(ps.logLevel<=ke.WARN){const t=e.map(zg);ps.warn(`Firestore (${Ho}): ${r}`,...t)}}function zg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+r;throw Ii(e),new Error(e)}function $e(r,e){r||Ee()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class fO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,t(g)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string"),new nw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new hn(e)}}class mO{constructor(e,t,a){this.l=e,this.h=t,this.P=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gO{constructor(e,t,a){this.l=e,this.h=t,this.P=a}getToken(){return Promise.resolve(new mO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const a=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new M0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new M0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=yO(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function xe(r,e){return r<e?-1:r>e?1:0}function ko(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,P0=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*P0);return new Bt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<k0)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Bt(0,0))}static max(){return new we(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__name__";class Ur{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ee(),a===void 0?a=e.length-t:a>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=Ur.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const a=Ur.isNumericId(e),o=Ur.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class ht extends Ur{construct(e,t,a){return new ht(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ur{construct(e,t,a){return new nn(e,t,a)}static isValidIdentifier(e){return vO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new nn([V0])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ht.fromString(e))}static fromName(e){return new pe(ht.fromString(e).popFirst(5))}static empty(){return new pe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function _O(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new Bt(t+1,0):new Bt(t,a));return new wa(o,pe.empty(),e)}function EO(r){return new wa(r.readTime,r.key,mu)}class wa{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new wa(we.min(),pe.empty(),mu)}static max(){return new wa(we.max(),pe.empty(),mu)}}function TO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==wO)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,a)=>{t(e)})}static reject(e){return new Q((t,a)=>{a(e)})}static waitFor(e){return new Q((t,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},g=>a(g))}),f=!0,u===o&&t()})}static or(e){let t=Q.resolve(!1);for(const a of e)t=t.next(o=>o?Q.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,u)=>{a.push(t.call(this,o,u))}),this.waitFor(a)}static mapArray(e,t){return new Q((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,t){return new Q((a,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):a()};u()})}}function SO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.oe(a),this._e=a=>t.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Xh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function AO(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="";function RO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=x0(e)),e=DO(r.get(t),e);return x0(e)}function DO(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case iw:t+="";break;default:t+=u}}return t}function x0(r){return r+iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function As(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function aw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new en(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,a,o,u){return this}insert(e,t,a){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new yr([])}unionWith(e){let t=new qt(nn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sw("Invalid base64 string: "+u):u}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(r){if($e(!!r),typeof r=="string"){let e=0;const t=IO.exec(r);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(r.seconds),nanos:Rt(r.nanos)}}function Rt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Sa(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="server_timestamp",lw="__type__",uw="__previous_value__",cw="__local_write_time__";function qg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===ow}function Zh(r){const e=r.mapValue.fields[uw];return qg(e)?Zh(e):e}function gu(r){const e=ba(r.mapValue.fields[cw].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,a,o,u,f,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Eh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__type__",OO="__max__",eh={mapValue:{}},fw="__vector__",Th="value";function Aa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qg(r)?4:MO(r)?9007199254740991:NO(r)?10:11:Ee()}function Kr(r,e){if(r===e)return!0;const t=Aa(r);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return gu(r).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ba(o.timestampValue),m=ba(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Sa(o.bytesValue).isEqual(Sa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),m=Rt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Kr(f[g],m[g])))return!1;return!0}(r,e);default:return Ee()}}function yu(r,e){return(r.values||[]).find(t=>Kr(t,e))!==void 0}function Po(r,e){if(r===e)return 0;const t=Aa(r),a=Aa(e);if(t!==a)return xe(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Rt(u.integerValue||u.doubleValue),g=Rt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return j0(r.timestampValue,e.timestampValue);case 4:return j0(gu(r),gu(e));case 5:return xe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Sa(u),g=Sa(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xe(m[y],g[y]);if(E!==0)return E}return xe(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=xe(Rt(u.latitude),Rt(f.latitude));return m!==0?m:xe(Rt(u.longitude),Rt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const b=u.fields||{},O=f.fields||{},V=(m=b[Th])===null||m===void 0?void 0:m.arrayValue,F=(g=O[Th])===null||g===void 0?void 0:g.arrayValue,K=xe(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=F==null?void 0:F.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:z0(V,F)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const O=xe(g[b],E[b]);if(O!==0)return O;const V=Po(m[g[b]],y[E[b]]);if(V!==0)return V}return xe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function j0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=ba(r),a=ba(e),o=xe(t.seconds,a.seconds);return o!==0?o:xe(t.nanos,a.nanos)}function z0(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=Po(t[o],a[o]);if(u)return u}return xe(t.length,a.length)}function Vo(r){return lg(r)}function lg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=ba(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Sa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=lg(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${lg(t.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function sh(r){switch(Aa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return Sa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+sh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return As(a.fields,(u,f)=>{o+=u.length+sh(f)}),o}(r.mapValue);default:throw Ee()}}function ug(r){return!!r&&"integerValue"in r}function Hg(r){return!!r&&"arrayValue"in r}function B0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function NO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hw])===null||t===void 0?void 0:t.stringValue)===fw}function iu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=iu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function MO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=nn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,a,o),a={},o=[],t=m.popLast()}f?a[m.lastSegment()]=iu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){As(t,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new ar(iu(this.value))}}function dw(r){const e=[];return As(r.fields,(t,a)=>{const o=new nn([t]);if(oh(a)){const u=dw(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,a,o,u,f,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,we.min(),we.min(),we.min(),ar.empty(),0)}static newFoundDocument(e,t,a,o){return new fn(e,1,t,we.min(),a,o,0)}static newNoDocument(e,t){return new fn(e,2,t,we.min(),we.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,we.min(),we.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.position=e,this.inclusive=t}}function H0(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=pe.comparator(pe.fromName(f.referenceValue),t.key):a=Po(f,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function F0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Kr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function kO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class zt extends mw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new VO(e,t,a):t==="array-contains"?new UO(e,a):t==="in"?new jO(e,a):t==="not-in"?new zO(e,a):t==="array-contains-any"?new BO(e,a):new zt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new xO(e,a):new LO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Po(t,this.value)):t!==null&&Aa(this.value)===Aa(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends mw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Wr(e,t)}matches(e){return gw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gw(r){return r.op==="and"}function pw(r){return PO(r)&&gw(r)}function PO(r){for(const e of r.filters)if(e instanceof Wr)return!1;return!0}function cg(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+Vo(r.value);if(pw(r))return r.filters.map(e=>cg(e)).join(",");{const e=r.filters.map(t=>cg(t)).join(",");return`${r.op}(${e})`}}function yw(r,e){return r instanceof zt?function(a,o){return o instanceof zt&&a.op===o.op&&a.field.isEqual(o.field)&&Kr(a.value,o.value)}(r,e):r instanceof Wr?function(a,o){return o instanceof Wr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&yw(f,o.filters[m]),!0):!1}(r,e):void Ee()}function vw(r){return r instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Vo(t.value)}`}(r):r instanceof Wr?function(t){return t.op.toString()+" {"+t.getFilters().map(vw).join(" ,")+"}"}(r):"Filter"}class VO extends zt{constructor(e,t,a){super(e,t,a),this.key=pe.fromName(a.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class xO extends zt{constructor(e,t){super(e,"in",t),this.keys=_w("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LO extends zt{constructor(e,t){super(e,"not-in",t),this.keys=_w("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _w(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>pe.fromName(a.referenceValue))}class UO extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&yu(t.arrayValue,this.value)}}class jO extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}}class zO extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yu(this.value.arrayValue,t)}}class BO extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>yu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function G0(r,e=null,t=[],a=[],o=null,u=null,f=null){return new qO(r,e,t,a,o,u,f)}function Fg(r){const e=Ae(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>cg(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Vo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Vo(a)).join(",")),e.le=t}return e.le}function Gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!kO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!yw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!F0(r.startAt,e.startAt)&&F0(r.endAt,e.endAt)}function hg(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HO(r,e,t,a,o,u,f,m){return new Jh(r,e,t,a,o,u,f,m)}function Yg(r){return new Jh(r)}function Y0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FO(r){return r.collectionGroup!==null}function au(r){const e=Ae(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qt(nn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new bh(u,a))}),t.has(nn.keyField().canonicalString())||e.he.push(new bh(nn.keyField(),a))}return e.he}function Br(r){const e=Ae(r);return e.Pe||(e.Pe=GO(e,au(r))),e.Pe}function GO(r,e){if(r.limitType==="F")return G0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const t=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function fg(r,e,t){return new Jh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ef(r,e){return Gg(Br(r),Br(e))&&r.limitType===e.limitType}function Ew(r){return`${Fg(Br(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>vw(o)).join(", ")}]`),Xh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Vo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Vo(o)).join(",")),`Target(${a})`}(Br(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):pe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of au(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=H0(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,au(a),o)||a.endAt&&!function(f,m,g){const y=H0(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,au(a),o))}(r,e)}function YO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Tw(r){return(e,t)=>{let a=!1;for(const o of au(r)){const u=KO(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function KO(r,e,t){const a=r.field.isKeyField()?pe.comparator(e.key,t.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Po(g,y):Ee()}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(t,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new pt(pe.comparator);function Ci(){return WO}const ww=new pt(pe.comparator);function tu(...r){let e=ww;for(const t of r)e=e.insert(t.key,t);return e}function bw(r){let e=ww;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function cs(){return su()}function Sw(){return su()}function su(){return new Rs(r=>r.toString(),(r,e)=>r.isEqual(e))}const QO=new pt(pe.comparator),$O=new qt(pe.comparator);function Pe(...r){let e=$O;for(const t of r)e=e.add(t);return e}const XO=new qt(xe);function ZO(){return XO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Aw(r){return{integerValue:""+r}}function JO(r,e){return AO(e)?Aw(e):Kg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function eN(r,e,t){return r instanceof Sh?function(o,u){const f={fields:{[lw]:{stringValue:ow},[cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qg(u)&&(u=Zh(u)),u&&(f.fields[uw]=u),{mapValue:f}}(t,e):r instanceof vu?Dw(r,e):r instanceof _u?Iw(r,e):function(o,u){const f=Rw(o,u),m=K0(f)+K0(o.Ie);return ug(f)&&ug(o.Ie)?Aw(m):Kg(o.serializer,m)}(r,e)}function tN(r,e,t){return r instanceof vu?Dw(r,e):r instanceof _u?Iw(r,e):t}function Rw(r,e){return r instanceof Ah?function(a){return ug(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Sh extends nf{}class vu extends nf{constructor(e){super(),this.elements=e}}function Dw(r,e){const t=Cw(e);for(const a of r.elements)t.some(o=>Kr(o,a))||t.push(a);return{arrayValue:{values:t}}}class _u extends nf{constructor(e){super(),this.elements=e}}function Iw(r,e){let t=Cw(e);for(const a of r.elements)t=t.filter(o=>!Kr(o,a));return{arrayValue:{values:t}}}class Ah extends nf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function K0(r){return Rt(r.integerValue||r.doubleValue)}function Cw(r){return Hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nN(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof vu&&o instanceof vu||a instanceof _u&&o instanceof _u?ko(a.elements,o.elements,Kr):a instanceof Ah&&o instanceof Ah?Kr(a.Ie,o.Ie):a instanceof Sh&&o instanceof Sh}(r.transform,e.transform)}class rN{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function Ow(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wg(r.key,qr.none()):new Iu(r.key,r.data,qr.none());{const t=r.data,a=ar.empty();let o=new qt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ds(r.key,a,new yr(o.toArray()),qr.none())}}function iN(r,e,t){r instanceof Iu?function(o,u,f){const m=o.value.clone(),g=Q0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Ds?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Q0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(Nw(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function ou(r,e,t,a){return r instanceof Iu?function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=$0(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ds?function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=$0(u.fieldTransforms,g,f),E=f.data;return E.setAll(Nw(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,t,a):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,t)}function aN(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=Rw(a.transform,o||null);u!=null&&(t===null&&(t=ar.empty()),t.set(a.field,u))}return t||null}function W0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ko(a,o,(u,f)=>nN(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Iu extends rf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends rf{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function Q0(r,e,t){const a=new Map;$e(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,tN(f,m,t[o]))}return a}function $0(r,e,t){const a=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);a.set(o.field,eN(u,f,e))}return a}class Wg extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sN extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iN(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=ou(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=ou(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Sw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=Ow(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(t,a)=>W0(t,a))&&ko(this.baseMutations,e.baseMutations,(t,a)=>W0(t,a))}}class Qg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){$e(e.mutations.length===a.length);let o=function(){return QO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Qg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,ze;function cN(r){switch(r){case Z.OK:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee()}}function Mw(r){if(r===void 0)return Ii("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Mt.OK:return Z.OK;case Mt.CANCELLED:return Z.CANCELLED;case Mt.UNKNOWN:return Z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Z.INTERNAL;case Mt.UNAVAILABLE:return Z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Z.NOT_FOUND;case Mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Mt.ABORTED:return Z.ABORTED;case Mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Mt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(ze=Mt||(Mt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new _a([4294967295,4294967295],0);function X0(r){const e=hN().encode(r),t=new $T;return t.update(e),new Uint8Array(t.digest())}function Z0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _a([t,a],0),new _a([o,u],0)]}class $g{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(a<0)throw new nu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=_a.fromNumber(this.Ee)}Ae(e,t,a){let o=e.add(t.multiply(_a.fromNumber(a)));return o.compare(fN)===1&&(o=new _a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=X0(e),[a,o]=Z0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $g(u,o,t);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const t=X0(e),[a,o]=Z0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new af(we.min(),o,new pt(xe),Ci(),Pe())}}class Cu{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Cu(a,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,a,o){this.me=e,this.removedTargetIds=t,this.key=a,this.fe=o}}class kw{constructor(e,t){this.targetId=e,this.ge=t}}class Pw{constructor(e,t,a=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class J0{constructor(){this.pe=0,this.ye=eE(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),a=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Ee()}}),new Cu(this.we,this.Se,e,t,a)}Me(){this.be=!1,this.ye=eE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class dN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ci(),this.$e=th(),this.Ke=th(),this.Ue=new pt(xe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const a=this.He(t);switch(e.state){case 0:this.Je(t)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(t);break;case 3:this.Je(t)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),a.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((a,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,a=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(hg(u))if(a===0){const f=new pe(u.path);this.ze(t,f,fn.newNoDocument(f,we.min()))}else $e(a===1);else{const f=this.et(t);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=Sa(a).toUint8Array()}catch(g){if(g instanceof sw)return Mo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new $g(f,o,u)}catch(g){return Mo(g instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,a){return t.ge.count===a-this.st(e,t.targetId)?0:2}st(e,t){const a=this.ke.getRemoteKeysForTarget(t);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&hg(m.target)){const g=new pe(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,fn.newNoDocument(g,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let a=Pe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new af(e,t,this.Ue,this.Qe,a);return this.Qe=Ci(),this.$e=th(),this.Ke=th(),this.Ue=new pt(xe),o}Ge(e,t){if(!this.Je(e))return;const a=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,a),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),a&&(this.Qe=this.Qe.insert(t,a))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new J0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qt(xe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(xe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new J0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function th(){return new pt(pe.comparator)}function eE(){return new pt(pe.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},gN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pN={and:"AND",or:"OR"};class yN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dg(r,e){return r.useProto3Json||Xh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vN(r,e){return Rh(r,e.toTimestamp())}function Hr(r){return $e(!!r),we.fromTimestamp(function(t){const a=ba(t);return new Bt(a.seconds,a.nanos)}(r))}function Xg(r,e){return mg(r,e).canonicalString()}function mg(r,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function xw(r){const e=ht.fromString(r);return $e(Bw(e)),e}function gg(r,e){return Xg(r.databaseId,e.path)}function Nm(r,e){const t=xw(e);if(t.get(1)!==r.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Uw(t))}function Lw(r,e){return Xg(r.databaseId,e)}function _N(r){const e=xw(r);return e.length===4?ht.emptyPath():Uw(e)}function pg(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uw(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function tE(r,e,t){return{name:gg(r,e),fields:t.value.mapValue.fields}}function EN(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?($e(E===void 0||typeof E=="string"),rn.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),rn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:Mw(y.code);return new me(E,y.message||"")}(f);t=new Pw(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Nm(r,a.document.name),u=Hr(a.document.updateTime),f=a.document.createTime?Hr(a.document.createTime):we.min(),m=new ar({mapValue:{fields:a.document.fields}}),g=fn.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];t=new uh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Nm(r,a.document),u=a.readTime?Hr(a.readTime):we.min(),f=fn.newNoDocument(o,u),m=a.removedTargetIds||[];t=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Nm(r,a.document),u=a.removedTargetIds||[];t=new uh([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new uN(o,u),m=a.targetId;t=new kw(m,f)}}return t}function TN(r,e){let t;if(e instanceof Iu)t={update:tE(r,e.key,e.value)};else if(e instanceof Wg)t={delete:gg(r,e.key)};else if(e instanceof Ds)t={update:tE(r,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof sN))return Ee();t={verify:gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),t}function wN(r,e){return r&&r.length>0?($e(e!==void 0),r.map(t=>function(o,u){let f=o.updateTime?Hr(o.updateTime):Hr(u);return f.isEqual(we.min())&&(f=Hr(u)),new rN(f,o.transformResults||[])}(t,e))):[]}function bN(r,e){return{documents:[Lw(r,e.path)]}}function SN(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Lw(r,o);const u=function(y){if(y.length!==0)return zw(Wr.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(O){return{field:To(O.field),direction:DN(O.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=dg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function AN(r){let e=_N(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){$e(a===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const O=jw(b);return O instanceof Wr&&pw(O)?O.getFilters():[O]}(t.where));let f=[];t.orderBy&&(f=function(b){return b.map(O=>function(F){return new bh(wo(F.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(O))}(t.orderBy));let m=null;t.limit&&(m=function(b){let O;return O=typeof b=="object"?b.value:b,Xh(O)?null:O}(t.limit));let g=null;t.startAt&&(g=function(b){const O=!!b.before,V=b.values||[];return new wh(V,O)}(t.startAt));let y=null;return t.endAt&&(y=function(b){const O=!b.before,V=b.values||[];return new wh(V,O)}(t.endAt)),HO(e,o,f,u,m,"F",g,y)}function RN(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=wo(t.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(t.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=wo(t.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(t){return zt.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Wr.create(t.compositeFilter.filters.map(a=>jw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(r):Ee()}function DN(r){return mN[r]}function IN(r){return gN[r]}function CN(r){return pN[r]}function To(r){return{fieldPath:r.canonicalString()}}function wo(r){return nn.fromServerFormat(r.fieldPath)}function zw(r){return r instanceof zt?function(t){if(t.op==="=="){if(q0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(B0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(B0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:IN(t.op),value:t.value}}}(r):r instanceof Wr?function(t){const a=t.getFilters().map(o=>zw(o));return a.length===1?a[0]:{compositeFilter:{op:CN(t.op),filters:a}}}(r):Ee()}function ON(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t,a,o,u=we.min(),f=we.min(),m=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Tt=e}}function MN(r){const e=AN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Tn=new PN}addToCollectionParentIndex(e,t){return this.Tn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(wa.min())}updateCollectionGroup(e,t,a){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class PN{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new qt(ht.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qw=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(qw,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new xo(0)}static Un(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="LruGarbageCollector",VN=1048576;function iE([r,e],[t,a]){const o=xe(r,t);return o===0?xe(e,a):o}class xN{constructor(e){this.Hn=e,this.buffer=new qt(iE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();iE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(rE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Go(t)?se(rE,"Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.er(3e5)})}}class UN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return Q.resolve($h.ae);const a=new xN(t);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.tr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(nE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(e,a,t))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(y=Date.now(),_o()<=ke.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function jN(r,e){return new UN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.changes=new Rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?Q.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&ou(a.mutation,o,yr.empty(),Bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Pe()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Pe()){const o=cs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(u=>{let f=tu();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const a=cs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Pe()))}populateOverlays(e,t,a){const o=[];return a.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,a,o){let u=Ci();const f=su(),m=function(){return su()}();return t.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ds)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ou(E.mutation,y,E.mutation.getFieldMask(),Bt.now())):f.set(y.key,yr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),t.forEach((y,E)=>{var b;return m.set(y,new BN(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const a=su();let o=new pt((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let E=a.get(g)||yr.empty();E=m.applyToLocalView(y,E),a.set(g,E);const b=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=Sw();E.forEach(O=>{if(!u.has(O)){const V=Ow(t.get(O),a.get(O));V!==null&&b.set(O,V),u=u.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return Q.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):Q.resolve(cs());let m=mu,g=u;return f.next(y=>Q.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(O=>{g=g.insert(E,O)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Pe())).next(E=>({batchId:m,changes:bw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(a=>{let o=tu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(e,u).next(m=>Q.forEach(m,g=>{const y=function(b,O){return new Jh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((b,O)=>{f=f.insert(b,O)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))});let m=tu();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&ou(E.mutation,y,yr.empty(),Bt.now()),tf(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Q.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:MN(o.bundledQuery),readTime:Hr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new pt(pe.comparator),this.Rr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const a=cs();return Q.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,u)=>{this.Et(e,t,u)}),Q.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,t,a){const o=cs(),u=t.length+1,f=new pe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new pt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=cs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=cs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Q.resolve(m)}Et(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new lN(t,a));let u=this.Rr.get(t);u===void 0&&(u=Pe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Vr=new qt(Qt.mr),this.gr=new qt(Qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const a=new Qt(e,t);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.wr(new Qt(e,t))}Sr(e,t){e.forEach(a=>this.removeReference(a,t))}br(e){const t=new pe(new ht([])),a=new Qt(t,e),o=new Qt(t,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pe(new ht([])),a=new Qt(t,e),o=new Qt(t,e+1);let u=Pe();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Qt(e,0),a=this.Vr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pe.comparator(e.key,t.key)||xe(e.Cr,t.Cr)}static pr(e,t){return xe(e.Cr,t.Cr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Qt.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oN(u,t,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(e,t){return Q.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Nr(a),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Bg:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new qt(xe);return t.forEach(o=>{const u=new Qt(o,0),f=new Qt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;pe.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new pe(u),0);let m=new qt(xe);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),Q.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(t.mutations,o=>{const u=new Qt(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,t){const a=new Qt(t,0),o=this.Mr.firstAfterOrEqual(a);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.kr=e,this.docs=function(){return new pt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Q.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let a=Ci();return t.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),Q.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=Ci();const f=t.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||TO(EO(E),a)<=0||(o.has(E.key)||tf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Ee()}qr(e,t){return Q.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new WN(this)}getSize(e){return Q.resolve(this.size)}}class WN extends zN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Q.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.persistence=e,this.Qr=new Rs(t=>Fg(t),Gg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Zg,this.targetCount=0,this.Ur=xo.Kn()}forEachTarget(e,t){return this.Qr.forEach((a,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.$r&&(this.$r=t),Q.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.zn(t),Q.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const a=this.Qr.get(t)||null;return Q.resolve(a)}addMatchingKeys(e,t,a){return this.Kr.yr(t,a),Q.resolve()}removeMatchingKeys(e,t,a){this.Kr.Sr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Kr.vr(t);return Q.resolve(a)}containsKey(e,t){return Q.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $h(0),this.zr=!1,this.zr=!0,this.jr=new GN,this.referenceDelegate=e(this),this.Hr=new QN(this),this.indexManager=new kN,this.remoteDocumentCache=function(o){return new KN(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new NN(t),this.Yr=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Wr[e.toKey()];return a||(a=new YN(t,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,a){se("MemoryPersistence","Starting transaction:",e);const o=new $N(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,t)))}}class $N extends bO{constructor(e){super(),this.currentSequenceNumber=e}}class Jg{constructor(e){this.persistence=e,this.ti=new Zg,this.ni=null}static ri(e){return new Jg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,a){return this.ti.addReference(a,t),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,t,a){return this.ti.removeReference(a,t),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Q.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const o=pe.fromPath(a);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(a=>{a?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Q.or([()=>Q.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Dh{constructor(e,t){this.persistence=e,this.oi=new Rs(a=>RO(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=jN(this,t)}static ri(e,t){return new Dh(e,t)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}sr(e){let t=0;return this.rr(e,a=>{t++}).next(()=>t)}rr(e,t){return Q.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?Q.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(m=>{m||(a++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}ar(e,t,a){return Q.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Q.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Hi=a,this.Ji=o}static Yi(e,t){let a=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ep(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GI()?8:SO(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new XN;return this._s(e,t,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,f,m.size)})}).next(()=>u.result)}us(e,t,a,o){return a.documentReadCount<this.es?(_o()<=ke.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(_o()<=ke.DEBUG&&se("QueryEngine","Query:",Eo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(_o()<=ke.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):Q.resolve())}rs(e,t){if(Y0(t))return Q.resolve(null);let a=Br(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=fg(t,null,"F"),a=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.cs(t,m);return this.ls(t,y,f,g.readTime)?this.rs(e,fg(t,null,"F")):this.hs(e,y,t,g)}))})))}ss(e,t,a,o){return Y0(t)||o.isEqual(we.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(t,u);return this.ls(t,f,a,o)?Q.resolve(null):(_o()<=ke.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.hs(e,f,t,_O(o,mu)).next(m=>m))})}cs(e,t){let a=new qt(Tw(e));return t.forEach((o,u)=>{tf(e,u)&&(a=a.add(u))}),a}ls(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,a){return _o()<=ke.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ns.getDocumentsMatchingQuery(e,t,wa.min(),a)}hs(e,t,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="LocalStore",JN=3e8;class e2{constructor(e,t,a,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new pt(xe),this.Is=new Rs(u=>Fg(u),Gg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function t2(r,e,t,a){return new e2(r,e,t,a)}async function Fw(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function n2(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const b=y.batch,O=b.keys();let V=Q.resolve();return O.forEach(F=>{V=V.next(()=>E.getEntry(g,F)).next(K=>{const q=y.docVersions.get(F);$e(q!==null),K.version.compareTo(q)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(t,a,e,u).next(()=>u.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function Gw(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function r2(r,e){const t=Ae(r),a=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const O=o.get(b);if(!O)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let V=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?V=V.withResumeToken(rn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,a)),o=o.insert(b,V),function(K,q,re){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=JN?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0}(O,V,E)&&m.push(t.Hr.updateTargetData(u,V))});let g=Ci(),y=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(i2(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return Q.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.Ts=o,u))}function i2(r,e,t){let a=Pe(),o=Pe();return t.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Ci();return t.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):se(tp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function a2(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Bg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function s2(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Hr.getTargetData(a,e).next(u=>u?(o=u,Q.resolve(o)):t.Hr.allocateTargetId(a).next(f=>(o=new pa(e,f,"TargetPurposeListen",a.currentSequenceNumber),t.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(a.targetId,a),t.Is.set(e,a.targetId)),a})}async function yg(r,e,t){const a=Ae(r),o=a.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Go(f))throw f;se(tp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function aE(r,e,t){const a=Ae(r);let o=we.min(),u=Pe();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const b=Ae(g),O=b.Is.get(E);return O!==void 0?Q.resolve(b.Ts.get(O)):b.Hr.getTargetData(y,E)}(a,f,Br(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,t?o:we.min(),t?u:Pe())).next(m=>(o2(a,YO(e),m),{documents:m,gs:u})))}function o2(r,e,t){let a=r.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class sE{constructor(){this.activeTargetIds=ZO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l2{constructor(){this.ho=new sE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,a){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new sE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class lE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function vg(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,t,a,o,u){const f=vg(),m=this.bo(e,t.toUriEncodedString());se(Mm,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(y=>(se(Mm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Mo(Mm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,t,a,o,u,f){return this.So(e,t,a,o,u)}Do(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const a=c2[e];return`${this.po}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class d2 extends h2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,a,o){const u=vg();return new Promise((f,m)=>{const g=new XT;g.setWithCredentials(!0),g.listenOnce(ZT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ah.NO_ERROR:const E=g.getResponseJson();se(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case ah.TIMEOUT:se(cn,`RPC '${e}' ${u} timed out`),m(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=g.getStatus();if(se(cn,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O==null?void 0:O.error;if(V&&V.status&&V.message){const F=function(q){const re=q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN}(V.status);m(new me(F,V.message))}else m(new me(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(cn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);se(cn,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",y,a,15)})}Wo(e,t,a){const o=vg(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=tw(),m=ew(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,a),g.encodeInitMessageHeaders=!0;const E=u.join("");se(cn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);let O=!1,V=!1;const F=new f2({Fo:q=>{V?se(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(O||(se(cn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),O=!0),se(cn,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),K=(q,re,Y)=>{q.listen(re,J=>{try{Y(J)}catch(ce){setTimeout(()=>{throw ce},0)}})};return K(b,eu.EventType.OPEN,()=>{V||(se(cn,`RPC '${e}' stream ${o} transport opened.`),F.Qo())}),K(b,eu.EventType.CLOSE,()=>{V||(V=!0,se(cn,`RPC '${e}' stream ${o} transport closed`),F.Ko())}),K(b,eu.EventType.ERROR,q=>{V||(V=!0,Mo(cn,`RPC '${e}' stream ${o} transport errored:`,q),F.Ko(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),K(b,eu.EventType.MESSAGE,q=>{var re;if(!V){const Y=q.data[0];$e(!!Y);const J=Y,ce=(J==null?void 0:J.error)||((re=J[0])===null||re===void 0?void 0:re.error);if(ce){se(cn,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let ye=function(S){const I=Mt[S];if(I!==void 0)return Mw(I)}(ue),k=ce.message;ye===void 0&&(ye=Z.INTERNAL,k="Unknown error status: "+ue+" with message "+ce.message),V=!0,F.Ko(new me(ye,k)),b.close()}else se(cn,`RPC '${e}' stream ${o} received:`,Y),F.Uo(Y)}}),K(m,JT.STAT_EVENT,q=>{q.stat===og.PROXY?se(cn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===og.NOPROXY&&se(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return new yN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-a);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class Kw{constructor(e,t,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Yw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===t&&this.V_(a,o)},a=>{e(()=>{const o=new me(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,t){const a=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(se(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m2 extends Kw{constructor(e,t,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=EN(this.serializer,e),a=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Hr(f.readTime):we.min()}(e);return this.listener.p_(t,a)}y_(e){const t={};t.database=pg(this.serializer),t.addTarget=function(u,f){let m;const g=f.target;if(m=hg(g)?{documents:bN(u,g)}:{query:SN(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Vw(u,f.resumeToken);const y=dg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const y=dg(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=RN(this.serializer,e);a&&(t.labels=a),this.I_(t)}w_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.I_(t)}}class g2 extends Kw{constructor(e,t,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=wN(e.writeResults,e.commitTime),a=Hr(e.commitTime);return this.listener.v_(a,t)}C_(){const e={};e.database=pg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>TN(this.serializer,a))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{}class y2 extends p2{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,mg(t,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())})}Co(e,t,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,mg(t,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(Z.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class v2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(t),this.N_=!1):se("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class _2{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{Is(this)&&(se(ys,"Restarting streams for network reachability change."),await async function(g){const y=Ae(g);y.W_.add(4),await Ou(y),y.j_.set("Unknown"),y.W_.delete(4),await of(y)}(this))})}),this.j_=new v2(a,o)}}async function of(r){if(Is(r))for(const e of r.G_)await e(!0)}async function Ou(r){for(const e of r.G_)await e(!1)}function Ww(r,e){const t=Ae(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ap(t)?ip(t):Yo(t).c_()&&rp(t,e))}function np(r,e){const t=Ae(r),a=Yo(t);t.U_.delete(e),a.c_()&&Qw(t,e),t.U_.size===0&&(a.c_()?a.P_():Is(t)&&t.j_.set("Unknown"))}function rp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(r).y_(e)}function Qw(r,e){r.H_.Ne(e),Yo(r).w_(e)}function ip(r){r.H_=new dN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.j_.B_()}function ap(r){return Is(r)&&!Yo(r).u_()&&r.U_.size>0}function Is(r){return Ae(r).W_.size===0}function $w(r){r.H_=void 0}async function E2(r){r.j_.set("Online")}async function T2(r){r.U_.forEach((e,t)=>{rp(r,e)})}async function w2(r,e){$w(r),ap(r)?(r.j_.q_(e),ip(r)):r.j_.set("Unknown")}async function b2(r,e,t){if(r.j_.set("Online"),e instanceof Pw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(a){se(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ih(r,a)}else if(e instanceof uh?r.H_.We(e):e instanceof kw?r.H_.Ze(e):r.H_.je(e),!t.isEqual(we.min()))try{const a=await Gw(r.localStore);t.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),Qw(u,g);const b=new pa(E.target,g,y,E.sequenceNumber);rp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(a){se(ys,"Failed to raise snapshot:",a),await Ih(r,a)}}async function Ih(r,e,t){if(!Go(e))throw e;r.W_.add(1),await Ou(r),r.j_.set("Offline"),t||(t=()=>Gw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{se(ys,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await of(r)})}function Xw(r,e){return e().catch(t=>Ih(r,t,e))}async function lf(r){const e=Ae(r),t=Ra(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Bg;for(;S2(e);)try{const o=await a2(e.localStore,a);if(o===null){e.K_.length===0&&t.P_();break}a=o.batchId,A2(e,o)}catch(o){await Ih(e,o)}Zw(e)&&Jw(e)}function S2(r){return Is(r)&&r.K_.length<10}function A2(r,e){r.K_.push(e);const t=Ra(r);t.c_()&&t.S_&&t.b_(e.mutations)}function Zw(r){return Is(r)&&!Ra(r).u_()&&r.K_.length>0}function Jw(r){Ra(r).start()}async function R2(r){Ra(r).C_()}async function D2(r){const e=Ra(r);for(const t of r.K_)e.b_(t.mutations)}async function I2(r,e,t){const a=r.K_.shift(),o=Qg.from(a,e,t);await Xw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await lf(r)}async function C2(r,e){e&&Ra(r).S_&&await async function(a,o){if(function(f){return cN(f)&&f!==Z.ABORTED}(o.code)){const u=a.K_.shift();Ra(a).h_(),await Xw(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await lf(a)}}(r,e),Zw(r)&&Jw(r)}async function cE(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),se(ys,"RemoteStore received new credentials");const a=Is(t);t.W_.add(3),await Ou(t),a&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await of(t)}async function O2(r,e){const t=Ae(r);e?(t.W_.delete(2),await of(t)):e||(t.W_.add(2),await Ou(t),t.j_.set("Unknown"))}function Yo(r){return r.J_||(r.J_=function(t,a,o){const u=Ae(t);return u.M_(),new m2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:E2.bind(null,r),No:T2.bind(null,r),Lo:w2.bind(null,r),p_:b2.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),ap(r)?ip(r):r.j_.set("Unknown")):(await r.J_.stop(),$w(r))})),r.J_}function Ra(r){return r.Y_||(r.Y_=function(t,a,o){const u=Ae(t);return u.M_(),new g2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:R2.bind(null,r),Lo:C2.bind(null,r),D_:D2.bind(null,r),v_:I2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await lf(r)):(await r.Y_.stop(),r.K_.length>0&&(se(ys,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const f=Date.now()+a,m=new sp(e,t,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(Ii("AsyncQueue",`${e}: ${r}`),Go(r))return new me(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||pe.comparator(t.key,a.key):(t,a)=>pe.comparator(t.key,a.key),this.keyedMap=tu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Do;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.Z_=new pt(pe.comparator)}track(e){const t=e.doc.key,a=this.Z_.get(t);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(t):e.type===1&&a.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,a)=>{e.push(a)}),e}}class Lo{constructor(e,t,a,o,u,f,m,g,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new Lo(e,t,Do.emptySet(t),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class M2{constructor(){this.queries=fE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,a){const o=Ae(t),u=o.queries;o.queries=fE(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function fE(){return new Rs(r=>Ew(r),ef)}async function k2(r,e){const t=Ae(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new N2,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=op(f,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&lp(t)}async function P2(r,e){const t=Ae(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function V2(r,e){const t=Ae(r);let a=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&lp(t)}function x2(r,e,t){const a=Ae(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(t);a.queries.delete(e)}function lp(r){r.ia.forEach(e=>{e.next()})}var _g,dE;(dE=_g||(_g={}))._a="default",dE.Cache="cache";class L2{constructor(e,t,a){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const a=t!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class U2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=Tw(e),this.wa=new Do(this.ya)}get Sa(){return this.fa}ba(e,t){const a=t?t.Da:new hE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const O=o.get(E),V=tf(this.query,b)?b:null,F=!!O&&this.mutatedKeys.has(O.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;O&&V?O.data.isEqual(V.data)?F!==K&&(a.track({type:3,doc:V}),q=!0):this.va(O,V)||(a.track({type:2,doc:V}),q=!0,(g&&this.ya(V,g)>0||y&&this.ya(V,y)<0)&&(m=!0)):!O&&V?(a.track({type:0,doc:V}),q=!0):O&&!V&&(a.track({type:1,doc:O}),q=!0,(g||y)&&(m=!0)),q&&(V?(f=f.add(V),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(V,F){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return K(V)-K(F)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(a),o=o!=null&&o;const m=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Lo(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const t=[];return e.forEach(a=>{this.pa.has(a)||t.push(new tb(a))}),this.pa.forEach(a=>{e.has(a)||t.push(new eb(a))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const up="SyncEngine";class j2{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class z2{constructor(e){this.key=e,this.Ba=!1}}class B2{constructor(e,t,a,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Rs(m=>Ew(m),ef),this.qa=new Map,this.Qa=new Set,this.$a=new pt(pe.comparator),this.Ka=new Map,this.Ua=new Zg,this.Wa={},this.Ga=new Map,this.za=xo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function q2(r,e,t=!0){const a=ob(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await nb(a,e,t,!0),o}async function H2(r,e){const t=ob(r);await nb(t,e,!0,!1)}async function nb(r,e,t,a){const o=await s2(r.localStore,Br(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let m;return a&&(m=await F2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&Ww(r.remoteStore,o),m}async function F2(r,e,t,a,o){r.Ha=(b,O,V)=>async function(K,q,re,Y){let J=q.view.ba(re);J.ls&&(J=await aE(K.localStore,q.query,!1).then(({documents:k})=>q.view.ba(k,J)));const ce=Y&&Y.targetChanges.get(q.targetId),ue=Y&&Y.targetMismatches.get(q.targetId)!=null,ye=q.view.applyChanges(J,K.isPrimaryClient,ce,ue);return gE(K,q.targetId,ye.Ma),ye.snapshot}(r,b,O,V);const u=await aE(r.localStore,e,!0),f=new U2(e,u.gs),m=f.ba(u.documents),g=Cu.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);gE(r,t,y.Ma);const E=new j2(e,t,f);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function G2(r,e,t){const a=Ae(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!ef(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await yg(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&np(a.remoteStore,o.targetId),Eg(a,o.targetId)}).catch(Fo)):(Eg(a,o.targetId),await yg(a.localStore,o.targetId,!0))}async function Y2(r,e){const t=Ae(r),a=t.ka.get(e),o=t.qa.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),np(t.remoteStore,a.targetId))}async function K2(r,e,t){const a=eM(r);try{const o=await function(f,m){const g=Ae(f),y=Bt.now(),E=m.reduce((V,F)=>V.add(F.key),Pe());let b,O;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let F=Ci(),K=Pe();return g.ds.getEntries(V,E).next(q=>{F=q,F.forEach((re,Y)=>{Y.isValidDocument()||(K=K.add(re))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,F)).next(q=>{b=q;const re=[];for(const Y of m){const J=aN(Y,b.get(Y.key).overlayedDocument);J!=null&&re.push(new Ds(Y.key,J,dw(J.value.mapValue),qr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,re,m)}).next(q=>{O=q;const re=q.applyToLocalDocumentSet(b,K);return g.documentOverlayCache.saveOverlays(V,q.batchId,re)})}).then(()=>({batchId:O.batchId,changes:bw(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new pt(xe)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(a,o.batchId,t),await Nu(a,o.changes),await lf(a.remoteStore)}catch(o){const u=op(o,"Failed to persist write");t.reject(u)}}async function rb(r,e){const t=Ae(r);try{const a=await r2(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await Nu(t,a,e)}catch(a){await Fo(a)}}function mE(r,e,t){const a=Ae(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach((E,b)=>{for(const O of b.ta)O.sa(m)&&(y=!0)}),y&&lp(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function W2(r,e,t){const a=Ae(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new pt(pe.comparator);f=f.insert(u,fn.newNoDocument(u,we.min()));const m=Pe().add(u),g=new af(we.min(),new Map,new pt(xe),f,m);await rb(a,g),a.$a=a.$a.remove(u),a.Ka.delete(e),cp(a)}else await yg(a.localStore,e,!1).then(()=>Eg(a,e,t)).catch(Fo)}async function Q2(r,e){const t=Ae(r),a=e.batch.batchId;try{const o=await n2(t.localStore,e);ab(t,a,null),ib(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Nu(t,o)}catch(o){await Fo(o)}}async function $2(r,e,t){const a=Ae(r);try{const o=await function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>($e(b!==null),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(a.localStore,e);ab(a,e,t),ib(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Nu(a,o)}catch(o){await Fo(o)}}function ib(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function ab(r,e,t){const a=Ae(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function Eg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),t&&r.La.Ja(a,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(a=>{r.Ua.containsKey(a)||sb(r,a)})}function sb(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(np(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),cp(r))}function gE(r,e,t){for(const a of t)a instanceof eb?(r.Ua.addReference(a.key,e),X2(r,a)):a instanceof tb?(se(up,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,e),r.Ua.containsKey(a.key)||sb(r,a.key)):Ee()}function X2(r,e){const t=e.key,a=t.path.canonicalString();r.$a.get(t)||r.Qa.has(a)||(se(up,"New document in limbo: "+t),r.Qa.add(a),cp(r))}function cp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new pe(ht.fromString(e)),a=r.za.next();r.Ka.set(a,new z2(t)),r.$a=r.$a.insert(t,a),Ww(r.remoteStore,new pa(Br(Yg(t.path)),a,"TargetPurposeLimboResolution",$h.ae))}}async function Nu(r,e,t){const a=Ae(r),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,t).then(y=>{var E;if((y||t)&&a.isPrimaryClient){const b=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=ep.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Q.forEach(y,O=>Q.forEach(O.Hi,V=>E.persistence.referenceDelegate.addReference(b,O.targetId,V)).next(()=>Q.forEach(O.Ji,V=>E.persistence.referenceDelegate.removeReference(b,O.targetId,V)))))}catch(b){if(!Go(b))throw b;se(tp,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const V=E.Ts.get(O),F=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(F);E.Ts=E.Ts.insert(O,K)}}}(a.localStore,u))}async function Z2(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){se(up,"User change. New user:",e.toKey());const a=await Fw(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new me(Z.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Nu(t,a.Rs)}}function J2(r,e){const t=Ae(r),a=t.Ka.get(e);if(a&&a.Ba)return Pe().add(a.key);{let o=Pe();const u=t.qa.get(e);if(!u)return o;for(const f of u){const m=t.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function ob(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W2.bind(null,e),e.La.p_=V2.bind(null,e.eventManager),e.La.Ja=x2.bind(null,e.eventManager),e}function eM(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return t2(this.persistence,new ZN,e.initialUser,this.serializer)}Xa(e){return new Hw(Jg.ri,this.serializer)}Za(e){return new l2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class tM extends Ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Dh);const a=this.persistence.referenceDelegate.garbageCollector;return new LN(a,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Hw(a=>Dh.ri(a,t),this.serializer)}}class Tg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>mE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M2}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),a=function(u){return new d2(u)}(e.databaseInfo);return function(u,f,m,g){return new y2(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,u,f,m){return new _2(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>mE(this.syncEngine,t,0),function(){return lE.D()?new lE:new u2}())}createSyncEngine(e,t){return function(o,u,f,m,g,y,E){const b=new B2(o,u,f,m,g,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ae(o);se(ys,"RemoteStore shutting down."),u.W_.add(5),await Ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class rM{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{se(Da,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(se(Da,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=op(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),se(Da,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Fw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function pE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await iM(r);se(Da,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>cE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>cE(e.remoteStore,o)),r._onlineComponents=e}async function iM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Da,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),await Pm(r,new Ch)}}else se(Da,"Using default OfflineComponentProvider"),await Pm(r,new tM(void 0));return r._offlineComponents}async function lb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Da,"Using user provided OnlineComponentProvider"),await pE(r,r._uninitializedComponentsProvider._online)):(se(Da,"Using default OnlineComponentProvider"),await pE(r,new Tg))),r._onlineComponents}function aM(r){return lb(r).then(e=>e.syncEngine)}async function yE(r){const e=await lb(r),t=e.eventManager;return t.onListen=q2.bind(null,e.syncEngine),t.onUnlisten=G2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Y2.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sM(r,e,t,a){if(e===!0&&a===!0)throw new me(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function _E(r){if(!pe.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(pe.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Io(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(r);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firestore.googleapis.com",TE=!0;class wE{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=TE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VN)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new hO;switch(a.type){case"firstParty":return new gO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=vE.get(t);a&&(se("ComponentProvider","Removing Datastore"),vE.delete(t),a.terminate())}(this),Promise.resolve()}}function oM(r,e,t,a={}){var o;const u=(r=Io(r,uf))._getSettings(),f=`${e}:${t}`;if(u.host!==hb&&u.host!==f&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),a.mockUserToken){let m,g;if(typeof a.mockUserToken=="string")m=a.mockUserToken,g=hn.MOCK_USER;else{m=jI(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!y)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hn(y)}r._authCredentials=new fO(new nw(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new cf(this.firestore,e,this._query)}}class or{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class Ea extends cf{constructor(e,t,a){super(e,t,Yg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new pe(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function bE(r,e,...t){if(r=mn(r),cb("collection","path",e),r instanceof uf){const a=ht.fromString(e,...t);return EE(a),new Ea(r,null,a)}{if(!(r instanceof or||r instanceof Ea))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...t));return EE(a),new Ea(r.firestore,null,a)}}function fb(r,e,...t){if(r=mn(r),arguments.length===1&&(e=rw.newId()),cb("doc","path",e),r instanceof uf){const a=ht.fromString(e,...t);return _E(a),new or(r,null,new pe(a))}{if(!(r instanceof or||r instanceof Ea))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...t));return _E(a),new or(r.firestore,r instanceof Ea?r.converter:null,new pe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class AE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Yw(this,"async_queue_retry"),this.Su=()=>{const a=km();a&&se(SE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const t=km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Go(e))throw e;se(SE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=t,t}enqueueAfterDelay(e,t,a){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=sp.createAndSchedule(this,e,t,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function RE(r){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Eu extends uf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new AE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function lM(r,e){const t=typeof r=="object"?r:jg(),a=typeof r=="string"?r:Eh,o=Ss(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=LI("firestore");u&&oM(o,...u)}return o}function db(r){if(r._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uM(r),r._firestoreClient}function uM(r){var e,t,a;const o=r._freezeSettings(),u=function(m,g,y,E){return new CO(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ub(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(rn.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^__.*__$/;class hM{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}function gb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class gp{constructor(e,t,a,o,u,f){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gb(this.Lu)&&cM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class fM{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||sf(e)}ju(e,t,a,o=!1){return new gp({Lu:e,methodName:t,zu:a,path:nn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dM(r){const e=r._freezeSettings(),t=sf(r._databaseId);return new fM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mM(r,e,t,a,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,t,o);_b("Data must be an object, but it was:",f,a);const m=yb(a,f);let g,y;if(u.merge)g=new yr(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const O=gM(e,b,t);if(!f.contains(O))throw new me(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);yM(E,O)||E.push(O)}g=new yr(E),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new hM(new ar(m),g,y)}function pb(r,e){if(vb(r=mn(r)))return _b("Unsupported field value:",e,r),yb(r,e);if(r instanceof mb)return function(a,o){if(!gb(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=pb(m,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=mn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return JO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Bt.fromDate(a);return{timestampValue:Rh(o.serializer,u)}}if(a instanceof Bt){const u=new Bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(a instanceof dp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Uo)return{bytesValue:Vw(o.serializer,a._byteString)};if(a instanceof or){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof mp)return function(f,m){return{mapValue:{fields:{[hw]:{stringValue:fw},[Th]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Kg(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${hp(a)}`)}(r,e)}function yb(r,e){const t={};return aw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(a,o)=>{const u=pb(o,e.qu(a));u!=null&&(t[a]=u)}),{mapValue:{fields:t}}}function vb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Bt||r instanceof dp||r instanceof Uo||r instanceof or||r instanceof mb||r instanceof mp)}function _b(r,e,t){if(!vb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=hp(t);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function gM(r,e,t){if((e=mn(e))instanceof fp)return e._internalPath;if(typeof e=="string")return Eb(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,t)}const pM=new RegExp("[~\\*/\\[\\]]");function Eb(r,e,t){if(e.search(pM)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fp(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Oh(r,e,t,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new me(Z.INVALID_ARGUMENT,m+r+g)}function yM(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vM extends Tb{data(){return super.data()}}function wb(r,e){return typeof e=="string"?Eb(r,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EM{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return As(e,(o,u)=>{a[o]=this.convertValue(u,t)}),a}convertVectorValue(e){var t,a,o;const u=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Th].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Rt(f.doubleValue));return new mp(u)}convertGeoPoint(e){return new dp(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Zh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const t=ba(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ht.fromString(e);$e(Bw(a));const o=new pu(a.get(1),a.get(3)),u=new pe(a.popFirst(5));return o.isEqual(t)||Ii(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(r,e,t){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bb extends Tb{constructor(e,t,a,o,u,f){super(e,t,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(wb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class ch extends bb{data(e={}){return super.data(e)}}class wM{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new ch(this._firestore,this._userDataWriter,a.key,a,new ru(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:bM(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Sb extends EM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function SM(r){return Ab(Io(r.firestore,Eu),[new Wg(r._key,qr.none())])}function AM(r,e){const t=Io(r.firestore,Eu),a=fb(r),o=TM(r.converter,e);return Ab(t,[mM(dM(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,qr.exists(!1))]).then(()=>a)}function RM(r,...e){var t,a,o;r=mn(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||RE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(RE(e[f])){const b=e[f];e[f]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[f+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,y,E;if(r instanceof or)y=Io(r.firestore,Eu),E=Yg(r._key.path),g={next:b=>{e[f]&&e[f](DM(y,r,b))},error:e[f+1],complete:e[f+2]};else{const b=Io(r,cf);y=Io(b.firestore,Eu),E=b._query;const O=new Sb(y);g={next:V=>{e[f]&&e[f](new wM(y,O,b,V))},error:e[f+1],complete:e[f+2]},_M(r._query)}return function(O,V,F,K){const q=new nM(K),re=new L2(V,q,F);return O.asyncQueue.enqueueAndForget(async()=>k2(await yE(O),re)),()=>{q.su(),O.asyncQueue.enqueueAndForget(async()=>P2(await yE(O),re))}}(db(y),E,m,g)}function Ab(r,e){return function(a,o){const u=new ms;return a.asyncQueue.enqueueAndForget(async()=>K2(await aM(a),o,u)),u.promise}(db(r),e)}function DM(r,e,t){const a=t.docs.get(e._key),o=new Sb(r);return new bb(r,o,e._key,a,new ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ho=o})(qo),Yr(new vr("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Eu(new dO(a.getProvider("auth-internal")),new pO(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),sr(O0,N0,e),sr(O0,N0,"esm2017")})();var IM="firebase",CM="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(IM,CM,"app");function pp(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function Rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OM=Rb,Db=new bs("auth","Firebase",Rb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Qh("@firebase/auth");function NM(r,...e){Nh.logLevel<=ke.WARN&&Nh.warn(`Auth (${qo}): ${r}`,...e)}function hh(r,...e){Nh.logLevel<=ke.ERROR&&Nh.error(`Auth (${qo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,...e){throw yp(r,...e)}function Fr(r,...e){return yp(r,...e)}function Ib(r,e,t){const a=Object.assign(Object.assign({},OM()),{[e]:t});return new bs("auth","Firebase",a).create(e,{appName:r.name})}function Ta(r){return Ib(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return Db.create(r,...e)}function _e(r,e,...t){if(!r)throw yp(e,...t)}function bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function Oi(r,e){r||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function MM(){return DE()==="http:"||DE()==="https:"}function DE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MM()||BT()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=zI()||HI()}get(){return kM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,e){Oi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Mu(3e4,6e4);function Cs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Oa(r,e,t,a,o={}){return Ob(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Du(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return qI()||(y.referrerPolicy="no-referrer"),Cb.fetch()(Nb(r,r.config.apiHost,t,m),y)})}async function Ob(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},VM),e);try{const o=new UM(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw rh(r,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ib(r,E,y);_r(r,E)}}catch(o){if(o instanceof Er)throw o;_r(r,"network-request-failed",{message:String(o)})}}async function hf(r,e,t,a,o={}){const u=await Oa(r,e,t,a,o);return"mfaPendingCredential"in u&&_r(r,"multi-factor-auth-required",{_serverResponse:u}),u}function Nb(r,e,t,a){const o=`${e}${t}?${a}`;return r.config.emulator?vp(r.config,o):`${r.config.apiScheme}://${o}`}function LM(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Fr(this.auth,"network-request-failed")),xM.get())})}}function rh(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Fr(r,e,a);return o.customData._tokenResponse=t,o}function IE(r){return r!==void 0&&r.enterprise!==void 0}class jM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zM(r,e){return Oa(r,"GET","/v2/recaptchaConfig",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(r,e){return Oa(r,"POST","/v1/accounts:delete",e)}async function Mb(r,e){return Oa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qM(r,e=!1){const t=mn(r),a=await t.getIdToken(e),o=_p(a);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:lu(Vm(o.auth_time)),issuedAtTime:lu(Vm(o.iat)),expirationTime:lu(Vm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vm(r){return Number(r)*1e3}function _p(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=LT(t);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function CE(r){const e=_p(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Er&&HM(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function HM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){var e;const t=r.auth,a=await r.getIdToken(),o=await Tu(r,Mb(t,{idToken:a}));_e(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kb(u.providerUserInfo):[],m=YM(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new bg(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function GM(r){const e=mn(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YM(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function kb(r){return r.map(e=>{var{providerId:t}=e,a=pp(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(r,e){const t=await Ob(r,{},async()=>{const a=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=Nb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Cb.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WM(r,e){return Oa(r,"POST","/v2/accounts:revokeToken",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=CE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await KM(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,f=new Co;return a&&(_e(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,u=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bg(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qM(this,e)}reload(){return GM(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Mh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await Tu(this,BM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,u,f,m,g,y,E;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,O=(o=t.email)!==null&&o!==void 0?o:void 0,V=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,F=(f=t.photoURL)!==null&&f!==void 0?f:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,re=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:ce,isAnonymous:ue,providerData:ye,stsTokenManager:k}=t;_e(J&&k,e,"internal-error");const A=Co.fromJSON(this.name,k);_e(typeof J=="string",e,"internal-error"),ha(b,e.name),ha(O,e.name),_e(typeof ce=="boolean",e,"internal-error"),_e(typeof ue=="boolean",e,"internal-error"),ha(V,e.name),ha(F,e.name),ha(K,e.name),ha(q,e.name),ha(re,e.name),ha(Y,e.name);const S=new Si({uid:J,auth:e,email:O,emailVerified:ce,displayName:b,isAnonymous:ue,photoURL:F,phoneNumber:V,tenantId:K,stsTokenManager:A,createdAt:re,lastLoginAt:Y});return ye&&Array.isArray(ye)&&(S.providerData=ye.map(I=>Object.assign({},I))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,a=!1){const o=new Co;o.updateFromServerResponse(t);const u=new Si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Co;m.updateFromIdToken(a);const g=new Si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function Ai(r){Oi(r instanceof Function,"Expected a class definition");let e=OE.get(r);return e?(Oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,OE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Pb.type="NONE";const NE=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,e,t){return`firebase:${r}:${e}:${t}`}class Oo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Oo(Ai(NE),e,a);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ai(NE);const f=fh(a,e.config.apiKey,e.name);let m=null;for(const y of t)try{const E=await y._get(f);if(E){const b=Si._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Oo(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Oo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Bb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Lb(e))&&!e.includes("edge/"))return"Chrome";if(jb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Vb(r=dn()){return/firefox\//i.test(r)}function xb(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lb(r=dn()){return/crios\//i.test(r)}function Ub(r=dn()){return/iemobile/i.test(r)}function jb(r=dn()){return/android/i.test(r)}function zb(r=dn()){return/blackberry/i.test(r)}function Bb(r=dn()){return/webos/i.test(r)}function Ep(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QM(r=dn()){var e;return Ep(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $M(){return FI()&&document.documentMode===10}function qb(r=dn()){return Ep(r)||jb(r)||Bb(r)||zb(r)||/windows phone/i.test(r)||Ub(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r,e=[]){let t;switch(r){case"Browser":t=ME(dn());break;case"Worker":t=`${ME(dn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(r,e={}){return Oa(r,"GET","/v2/passwordPolicy",Cs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class ek{constructor(e){var t,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:JM,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mb(this,{idToken:e}),a=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Ta(this));const t=e?mn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZM(this),t=new ek(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bs("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await WM(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ai(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ko(r){return mn(r)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=XI(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nk(r){ff=r}function Fb(r){return ff.loadJS(r)}function rk(){return ff.recaptchaEnterpriseScript}function ik(){return ff.gapiScript}function ak(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sk{constructor(){this.enterprise=new ok}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ok{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lk="recaptcha-enterprise",Gb="NO_RECAPTCHA";class uk{constructor(e){this.type=lk,this.auth=Ko(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{zM(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new jM(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;IE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(Gb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sk().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!t&&IE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=rk();g.length!==0&&(g+=m),Fb(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function PE(r,e,t,a=!1,o=!1){const u=new uk(r);let f;if(o)f=Gb;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function VE(r,e,t,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await PE(r,e,t,t==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await PE(r,e,t,t==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(r,e){const t=Ss(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(fu(u,e??{}))return o;_r(o,"already-initialized")}return t.initialize({options:e})}function hk(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Ai);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function fk(r,e,t){const a=Ko(r);_e(a._canInitEmulator,a,"emulator-config-failed"),_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Yb(e),{host:f,port:m}=dk(e),g=m===null?"":`:${m}`;a.config.emulator={url:`${u}//${f}${g}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),mk()}function Yb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function dk(r){const e=Yb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:xE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:xE(f)}}}function xE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function mk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function gk(r,e){return Oa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(r,e){return hf(r,"POST","/v1/accounts:signInWithPassword",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(r,e){return hf(r,"POST","/v1/accounts:signInWithEmailLink",Cs(r,e))}async function vk(r,e){return hf(r,"POST","/v1/accounts:signInWithEmailLink",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Tp{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new wu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,t,"signInWithPassword",pk);case"emailLink":return yk(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,a,"signUpPassword",gk);case"emailLink":return vk(e,{idToken:t,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,e){return hf(r,"POST","/v1/accounts:signInWithIdp",Cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="http://localhost";class vs extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,u=pp(t,["providerId","signInMethod"]);if(!a||!o)return null;const f=new vs(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,No(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:_k,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tk(r){const e=Zl(Jl(r)).link,t=e?Zl(Jl(e)).deep_link_id:null,a=Zl(Jl(r)).deep_link_id;return(a?Zl(Jl(a)).link:null)||a||t||e||r}class wp{constructor(e){var t,a,o,u,f,m;const g=Zl(Jl(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(a=g.oobCode)!==null&&a!==void 0?a:null,b=Ek((o=g.mode)!==null&&o!==void 0?o:null);_e(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Tk(e);try{return new wp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=wp.parseLink(t);return _e(a,"argument-error"),wu._fromEmailAndCode(e,a.code,a.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Kb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends ku{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vs._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return da.credential(t,a)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends ku{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends ku{constructor(){super("twitter.com")}static credential(e,t){return vs._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ga.credential(t,a)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await Si._fromIdTokenResponse(e,a,o),f=LE(a);return new jo({user:u,providerId:f,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=LE(a);return new jo({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function LE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Er{constructor(e,t,a,o){var u;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new kh(e,t,a,o)}}function Wb(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(r,u,e,a):u})}async function wk(r,e,t=!1){const a=await Tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return jo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(r,e,t=!1){const{auth:a}=r;if(pr(a.app))return Promise.reject(Ta(a));const o="reauthenticate";try{const u=await Tu(r,Wb(a,o,e,r),t);_e(u.idToken,a,"internal-error");const f=_p(u.idToken);_e(f,a,"internal-error");const{sub:m}=f;return _e(r.uid===m,a,"user-mismatch"),jo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&_r(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(r,e,t=!1){if(pr(r.app))return Promise.reject(Ta(r));const a="signIn",o=await Wb(r,a,e),u=await jo._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function Sk(r,e){return Qb(Ko(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(r){const e=Ko(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Rk(r,e,t){return pr(r.app)?Promise.reject(Ta(r)):Sk(mn(r),Wo.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Ak(r),a})}function Dk(r,e,t,a){return mn(r).onIdTokenChanged(e,t,a)}function Ik(r,e,t){return mn(r).beforeAuthStateChanged(e,t)}function Ck(r){return mn(r).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=1e3,Nk=10;class Xb extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!t&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);$M()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Nk):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},Ok)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xb.type="LOCAL";const Mk=Xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zb.type="SESSION";const Jb=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new df(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),g=await kk(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=bp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(O.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function Vk(r){Gr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function xk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lk(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Uk(){return eS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebaseLocalStorageDb",jk=1,Vh="firebaseLocalStorage",nS="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mf(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function zk(){const r=indexedDB.deleteDatabase(tS);return new Pu(r).toPromise()}function Sg(){const r=indexedDB.open(tS,jk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Vh,{keyPath:nS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Vh)?e(a):(a.close(),await zk(),e(await Sg()))})})}async function UE(r,e,t){const a=mf(r,!0).put({[nS]:e,value:t});return new Pu(a).toPromise()}async function Bk(r,e){const t=mf(r,!1).get(e),a=await new Pu(t).toPromise();return a===void 0?null:a.value}function jE(r,e){const t=mf(r,!0).delete(e);return new Pu(t).toPromise()}const qk=800,Hk=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>Hk)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(Uk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xk(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await UE(e,Ph,"1"),await jE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>UE(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>Bk(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mf(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const Fk=rS;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(r,e){return e?Ai(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Yk(r){return Qb(r.auth,new Sp(r),r.bypassAuthState)}function Kk(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),bk(t,new Sp(r),r.bypassAuthState)}async function Wk(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),wk(t,new Sp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yk;case"linkViaPopup":case"linkViaRedirect":return Wk;case"reauthViaPopup":case"reauthViaRedirect":return Kk;default:_r(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Mu(2e3,1e4);class Ao extends iS{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qk.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="pendingRedirect",dh=new Map;class Xk extends iS{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const a=await Zk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zk(r,e){const t=tP(e),a=eP(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function Jk(r,e){dh.set(r._key(),e)}function eP(r){return Ai(r._redirectPersistence)}function tP(r){return fh($k,r.config.apiKey,r.name)}async function nP(r,e,t=!1){if(pr(r.app))return Promise.reject(Ta(r));const a=Ko(r),o=Gk(a,e),f=await new Xk(a,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=10*60*1e3;class iP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!aS(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rP&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(e))}saveEventToCache(e){this.cachedEventUids.add(zE(e)),this.lastProcessedEventTime=Date.now()}}function zE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function aS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(r,e={}){return Oa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lP=/^https?/;async function uP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await sP(r);for(const t of e)try{if(cP(t))return}catch{}_r(r,"unauthorized-domain")}function cP(r){const e=wg(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===a}if(!lP.test(t))return!1;if(oP.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Mu(3e4,6e4);function BE(){const r=Gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function fP(r){return new Promise((e,t)=>{var a,o,u;function f(){BE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BE(),t(Fr(r,"network-request-failed"))},timeout:hP.get()})}if(!((o=(a=Gr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Gr().gapi)===null||u===void 0)&&u.load)f();else{const m=ak("iframefcb");return Gr()[m]=()=>{gapi.load?f():t(Fr(r,"network-request-failed"))},Fb(`${ik()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw mh=null,e})}let mh=null;function dP(r){return mh=mh||fP(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Mu(5e3,15e3),gP="__/auth/iframe",pP="emulator/auth/iframe",yP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _P(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?vp(e,pP):`https://${r.config.authDomain}/${gP}`,a={apiKey:e.apiKey,appName:r.name,v:qo},o=vP.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Du(a).slice(1)}`}async function EP(r){const e=await dP(r),t=Gr().gapi;return _e(t,r,"internal-error"),e.open({where:document.body,url:_P(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yP,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Fr(r,"network-request-failed"),m=Gr().setTimeout(()=>{u(f)},mP.get());function g(){Gr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wP=500,bP=600,SP="_blank",AP="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(r,e,t,a=wP,o=bP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},TP),{width:a.toString(),height:o.toString(),top:u,left:f}),y=dn().toLowerCase();t&&(m=Lb(y)?SP:t),Vb(y)&&(e=e||AP,g.scrollbars="yes");const E=Object.entries(g).reduce((O,[V,F])=>`${O}${V}=${F},`,"");if(QM(y)&&m!=="_self")return DP(e||"",m),new qE(null);const b=window.open(e||"",m,E);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new qE(b)}function DP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="__/auth/handler",CP="emulator/auth/handler",OP=encodeURIComponent("fac");async function HE(r,e,t,a,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:qo,eventId:o};if(e instanceof Kb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",$I(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof ku){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${OP}=${encodeURIComponent(g)}`:"";return`${NP(r)}?${Du(m).slice(1)}${y}`}function NP({config:r}){return r.emulator?vp(r,CP):`https://${r.authDomain}/${IP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class MP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=nP,this._overrideRedirectResult=Jk}async _openPopup(e,t,a,o){var u;Oi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await HE(e,t,a,wg(),o);return RP(e,f,bp())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await HE(e,t,a,wg(),o);return Vk(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Oi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await EP(e),a=new iP(e);return t.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xm,{type:xm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[xm];f!==void 0&&t(!!f),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qb()||xb()||Ep()}}const kP=MP;var FE="@firebase/auth",GE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(r){Yr(new vr("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(r)},y=new tk(a,o,u,g);return hk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Yr(new vr("auth-internal",e=>{const t=Ko(e.getProvider("auth").getImmediate());return(a=>new PP(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(FE,GE,VP(r)),sr(FE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=5*60,UP=zT("authIdTokenMaxAge")||LP;let YE=null;const jP=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>UP)return;const o=t==null?void 0:t.token;YE!==o&&(YE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zP(r=jg()){const e=Ss(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ck(r,{popupRedirectResolver:kP,persistence:[Fk,Mk,Jb]}),a=zT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=jP(u.toString());Ik(t,f,()=>f(t.currentUser)),Dk(t,m=>f(m))}}const o=UT("auth");return o&&fk(t,`http://${o}`),t}function BP(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}nk({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Fr("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",BP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");const sS="@firebase/installations",Ap="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1e4,lS=`w:${Ap}`,uS="FIS_v2",qP="https://firebaseinstallations.googleapis.com/v1",HP=60*60*1e3,FP="installations",GP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_s=new bs(FP,GP,YP);function cS(r){return r instanceof Er&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS({projectId:r}){return`${qP}/projects/${r}/installations`}function fS(r){return{token:r.token,requestStatus:2,expiresIn:WP(r.expiresIn),creationTime:Date.now()}}async function dS(r,e){const a=(await e.json()).error;return _s.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function mS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function KP(r,{refreshToken:e}){const t=mS(r);return t.append("Authorization",QP(e)),t}async function gS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function WP(r){return Number(r.replace("s","000"))}function QP(r){return`${uS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const a=hS(r),o=mS(r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:t,authVersion:uS,appId:r.appId,sdkVersion:lS},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await gS(()=>fetch(a,m));if(g.ok){const y=await g.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:fS(y.authToken)}}else throw await dS("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^[cdef][\w-]{21}$/,Ag="";function JP(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=eV(r);return ZP.test(t)?t:Ag}catch{return Ag}}function eV(r){return XP(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;function vS(r,e){const t=gf(r);_S(t,e),tV(t,e)}function _S(r,e){const t=yS.get(r);if(t)for(const a of t)a(e)}function tV(r,e){const t=nV();t&&t.postMessage({key:r,fid:e}),rV()}let hs=null;function nV(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=r=>{_S(r.data.key,r.data.fid)}),hs}function rV(){yS.size===0&&hs&&(hs.close(),hs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="firebase-installations-database",aV=1,Es="firebase-installations-store";let Lm=null;function Rp(){return Lm||(Lm=YT(iV,aV,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Es)}}})),Lm}async function xh(r,e){const t=gf(r),o=(await Rp()).transaction(Es,"readwrite"),u=o.objectStore(Es),f=await u.get(t);return await u.put(e,t),await o.done,(!f||f.fid!==e.fid)&&vS(r,e.fid),e}async function ES(r){const e=gf(r),a=(await Rp()).transaction(Es,"readwrite");await a.objectStore(Es).delete(e),await a.done}async function pf(r,e){const t=gf(r),o=(await Rp()).transaction(Es,"readwrite"),u=o.objectStore(Es),f=await u.get(t),m=e(f);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!f||f.fid!==m.fid)&&vS(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(r){let e;const t=await pf(r.appConfig,a=>{const o=sV(a),u=oV(r,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Ag?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function sV(r){const e=r||{fid:JP(),registrationStatus:0};return TS(e)}function oV(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(_s.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=lV(r,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uV(r)}:{installationEntry:e}}async function lV(r,e){try{const t=await $P(r,e);return xh(r.appConfig,t)}catch(t){throw cS(t)&&t.customData.serverCode===409?await ES(r.appConfig):await xh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function uV(r){let e=await KE(r.appConfig);for(;e.registrationStatus===1;)await pS(100),e=await KE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await Dp(r);return a||t}return e}function KE(r){return pf(r,e=>{if(!e)throw _s.create("installation-not-found");return TS(e)})}function TS(r){return cV(r)?{fid:r.fid,registrationStatus:0}:r}function cV(r){return r.registrationStatus===1&&r.registrationTime+oS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV({appConfig:r,heartbeatServiceProvider:e},t){const a=fV(r,t),o=KP(r,t),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:lS,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await gS(()=>fetch(a,m));if(g.ok){const y=await g.json();return fS(y)}else throw await dS("Generate Auth Token",g)}function fV(r,{fid:e}){return`${hS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(r,e=!1){let t;const a=await pf(r.appConfig,u=>{if(!wS(u))throw _s.create("not-registered");const f=u.authToken;if(!e&&gV(f))return u;if(f.requestStatus===1)return t=dV(r,e),u;{if(!navigator.onLine)throw _s.create("app-offline");const m=yV(u);return t=mV(r,m),m}});return t?await t:a.authToken}async function dV(r,e){let t=await WE(r.appConfig);for(;t.authToken.requestStatus===1;)await pS(100),t=await WE(r.appConfig);const a=t.authToken;return a.requestStatus===0?Ip(r,e):a}function WE(r){return pf(r,e=>{if(!wS(e))throw _s.create("not-registered");const t=e.authToken;return vV(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mV(r,e){try{const t=await hV(r,e),a=Object.assign(Object.assign({},e),{authToken:t});return await xh(r.appConfig,a),t}catch(t){if(cS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await ES(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xh(r.appConfig,a)}throw t}}function wS(r){return r!==void 0&&r.registrationStatus===2}function gV(r){return r.requestStatus===2&&!pV(r)}function pV(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+HP}function yV(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function vV(r){return r.requestStatus===1&&r.requestTime+oS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(r){const e=r,{installationEntry:t,registrationPromise:a}=await Dp(e);return a?a.catch(console.error):Ip(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(r,e=!1){const t=r;return await TV(t),(await Ip(t,e)).token}async function TV(r){const{registrationPromise:e}=await Dp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(r){if(!r||!r.options)throw Um("App Configuration");if(!r.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Um(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Um(r){return _s.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="installations",bV="installations-internal",SV=r=>{const e=r.getProvider("app").getImmediate(),t=wV(e),a=Ss(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},AV=r=>{const e=r.getProvider("app").getImmediate(),t=Ss(e,bS).getImmediate();return{getId:()=>_V(t),getToken:o=>EV(t,o)}};function RV(){Yr(new vr(bS,SV,"PUBLIC")),Yr(new vr(bV,AV,"PRIVATE"))}RV();sr(sS,Ap);sr(sS,Ap,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="analytics",DV="firebase_id",IV="origin",CV=60*1e3,OV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new Qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new bs("analytics","Analytics",NV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(r){if(!r.startsWith(Cp)){const e=Un.create("invalid-gtag-resource",{gtagURL:r});return Rn.warn(e.message),""}return r}function SS(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function kV(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function PV(r,e){const t=kV("firebase-js-sdk-policy",{createScriptURL:MV}),a=document.createElement("script"),o=`${Cp}?l=${r}&id=${e}`;a.src=t?t==null?void 0:t.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function VV(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function xV(r,e,t,a,o,u){const f=a[o];try{if(f)await e[f];else{const g=(await SS(t)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){Rn.error(m)}r("config",o,u)}async function LV(r,e,t,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await SS(t);for(const g of f){const y=m.find(b=>b.measurementId===g),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){Rn.error(u)}}function UV(r,e,t,a){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await LV(r,e,t,m,g)}else if(u==="config"){const[m,g]=f;await xV(r,e,t,a,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,y]=f;r("get",m,g,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){Rn.error(m)}}return o}function jV(r,e,t,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=UV(u,r,e,t),{gtagCore:u,wrappedGtag:window[o]}}function zV(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=30,qV=1e3;class HV{constructor(e={},t=qV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AS=new HV;function FV(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function GV(r){var e;const{appId:t,apiKey:a}=r,o={method:"GET",headers:FV(a)},u=OV.replace("{app-id}",t),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const g=await f.json();!((e=g.error)===null||e===void 0)&&e.message&&(m=g.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function YV(r,e=AS,t){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw Un.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Un.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new QV;return setTimeout(async()=>{m.abort()},CV),RS({appId:a,apiKey:o,measurementId:u},f,m,e)}async function RS(r,{throttleEndTimeMillis:e,backoffCount:t},a,o=AS){var u;const{appId:f,measurementId:m}=r;try{await KV(a,e)}catch(g){if(m)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw g}try{const g=await GV(r);return o.deleteThrottleMetadata(f),g}catch(g){const y=g;if(!WV(y)){if(o.deleteThrottleMetadata(f),m)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw g}const E=Number((u=y==null?void 0:y.customData)===null||u===void 0?void 0:u.httpStatus)===503?E0(t,o.intervalMillis,BV):E0(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(f,b),Rn.debug(`Calling attemptFetch again in ${E} millis`),RS(r,b,a,o)}}function KV(r,e){return new Promise((t,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(u),a(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WV(r){if(!(r instanceof Er)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class QV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $V(r,e,t,a,o){if(o&&o.global){r("event",t,a);return}else{const u=await e,f=Object.assign(Object.assign({},a),{send_to:u});r("event",t,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(){if(qT())try{await HT()}catch(r){return Rn.warn(Un.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Rn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZV(r,e,t,a,o,u,f){var m;const g=YV(r);g.then(V=>{t[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>Rn.error(V)),e.push(g);const y=XV().then(V=>{if(V)return a.getId()}),[E,b]=await Promise.all([g,y]);zV(u)||PV(u,E.measurementId),o("js",new Date);const O=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return O[IV]="firebase",O.update=!0,b!=null&&(O[DV]=b),o("config",E.measurementId,O),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.app=e}_delete(){return delete uu[this.app.options.appId],Promise.resolve()}}let uu={},QE=[];const $E={};let jm="dataLayer",ex="gtag",XE,DS,ZE=!1;function tx(){const r=[];if(BT()&&r.push("This is a browser extension environment."),YI()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Rn.warn(t.message)}}function nx(r,e,t){tx();const a=r.options.appId;if(!a)throw Un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(uu[a]!=null)throw Un.create("already-exists",{id:a});if(!ZE){VV(jm);const{wrappedGtag:u,gtagCore:f}=jV(uu,QE,$E,jm,ex);DS=u,XE=f,ZE=!0}return uu[a]=ZV(r,QE,$E,e,XE,jm,t),new JV(r)}function rx(r=jg()){r=mn(r);const e=Ss(r,Lh);return e.isInitialized()?e.getImmediate():ix(r)}function ix(r,e={}){const t=Ss(r,Lh);if(t.isInitialized()){const o=t.getImmediate();if(fu(e,t.getOptions()))return o;throw Un.create("already-initialized")}return t.initialize({options:e})}function ax(r,e,t,a){r=mn(r),$V(DS,uu[r.app.options.appId],e,t,a).catch(o=>Rn.error(o))}const JE="@firebase/analytics",eT="0.10.11";function sx(){Yr(new vr(Lh,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return nx(a,o,t)},"PUBLIC")),Yr(new vr("analytics-internal",r,"PRIVATE")),sr(JE,eT),sr(JE,eT,"esm2017");function r(e){try{const t=e.getProvider(Lh).getImmediate();return{logEvent:(a,o,u)=>ax(t,a,o,u)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}sx();const ox={apiKey:"AIzaSyDSSyF-cGxonY0aAaTvdm5VYqrKWKOt818",authDomain:"TU_AUTH_DOMAIN",projectId:"agendacmm",storageBucket:"agendacmm.appspot.com",messagingSenderId:"338906345791",appId:"1:338906345791:web:b8c46839caffeefdbf638a",measurementId:"G-00XDMCSBT2"},Op=KT(ox),Np=zP(Op);rx(Op);const zm=lM(Op),Bm=[{name:"Masajes reductores",detail:"Masaje de 30 minutos",price:2650},{name:"Drenaje linfatico",detail:"Masaje de 60 minutos",price:4e3},{name:"Maderoterapia",detail:"Masaje de 60 minutos",price:5040},{name:"Electrodos",detail:"Maquina para tonificar 30 min",price:2250},{name:"Radiofrecuencia",detail:"Maquina 30/40 minutos",price:5e3},{name:"Ultracavitacion",detail:"Maquina 30 minutos",price:2250},{name:"Truflex",detail:"Maquina 60 minutos",price:3e3},{name:"Trufat",detail:"Maquina 60 minutos",price:3e3},{name:"Depilacion Completa",detail:"Jornada Completa",price:3e4},{name:"Depilacion Semi",detail:"Jornada Semi-completa",price:15e3},{name:"Exilis",detail:"Maquina 30 min",price:3e3}],lx=()=>{const[r,e]=Ye.useState([]),[t,a]=Ye.useState(new Date),[o,u]=Ye.useState(""),[f,m]=Ye.useState(Bm[0]),[g,y]=Ye.useState(null),[E,b]=Ye.useState(!1);Ye.useEffect(()=>{const Y=RM(bE(zm,"events"),J=>{const ce=J.docs.map(ue=>({...ue.data(),id:ue.id}));e(ce)});return()=>Y()},[]);const O=async Y=>{if(o==="")return;const J={date:Y.toISOString(),title:o,service:f};try{const ce=await AM(bE(zm,"events"),J);e([...r,{...J,id:ce.id}]),u("")}catch(ce){console.error("Error al agregar el evento: ",ce)}},V=async Y=>{try{const J=fb(zm,"events",Y);await SM(J),console.log("Evento eliminado de Firestore"),e(r.filter(ce=>ce.id!==Y))}catch(J){console.error("Error al eliminar el evento de Firestore: ",J)}},F=Y=>r.some(J=>new Date(J.date).toDateString()===Y.toDateString()),K=Y=>Y.charAt(0).toUpperCase()+Y.slice(1),q=()=>{const Y=r.filter(J=>new Date(J.date).toDateString()===t.toDateString()).reduce((J,ce)=>J+ce.service.price,0);y(Y)},re=()=>{const Y=gs(t,{weekStartsOn:1}),J=l0(Y,4),ce=r.filter(ue=>{const ye=new Date(ue.date);return p0(ye,{start:Y,end:J})}).reduce((ue,ye)=>ue+ye.service.price,0);y(ce),b(ue=>!ue)};return ee.jsxs("div",{className:ir.calendarContainer,children:[ee.jsx(LR,{onChange:a,value:t,locale:"es-ES",formatMonthYear:(Y,J)=>K(g0(J,"MMMM yyyy",{locale:y0})),tileClassName:({date:Y})=>F(Y)?ir.eventDay:""}),ee.jsxs("div",{className:ir.eventForm,children:[ee.jsx("input",{type:"text",placeholder:"Agregar Turno",value:o,onChange:Y=>u(Y.target.value)}),ee.jsx("select",{className:ir.selectStyled,value:f.name,onChange:Y=>m(Bm.find(J=>J.name===Y.target.value)),children:Bm.map((Y,J)=>ee.jsxs("option",{value:Y.name,children:[Y.name," - $",Y.price]},J))}),ee.jsx("button",{onClick:()=>O(t),children:"Agregar Turno"})]}),ee.jsxs("div",{className:ir.eventsList,children:[ee.jsx("h3",{children:g0(t,"EEEE dd 'de' MMMM 'de' yyyy",{locale:y0}).normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\b\w/g,Y=>Y.toUpperCase())}),ee.jsx("ul",{children:r.filter(Y=>new Date(Y.date).toDateString()===t.toDateString()).map((Y,J)=>ee.jsxs("li",{className:ir.eventItem,children:[Y.title," - ",Y.service.name," ($",Y.service.price,")",ee.jsx("button",{onClick:()=>V(Y.id),style:{marginLeft:"10px",color:"red"},children:"Eliminar"})]},J))})]}),ee.jsxs("div",{className:ir.totalContainer,children:[ee.jsx("button",{className:ir.totalButton,onClick:q,children:"Calcular Total Día"}),ee.jsx("button",{className:ir.totalButton,onClick:re,children:"Calcular Total Semana (Lun-Vie)"}),g!==null&&ee.jsxs("p",{className:ir.totalDisplay,children:["Total: $",g]})]}),E&&ee.jsxs("div",{className:`${ir.weekDetail} ${E?ir.show:""}`,children:[ee.jsx("h4",{children:"Resumen de la Semana (Lunes a Viernes)"}),ee.jsx("ul",{children:r.filter(Y=>{const J=gs(t,{weekStartsOn:1}),ce=l0(J,4),ue=new Date(Y.date);return p0(ue,{start:J,end:ce})}).map((Y,J)=>ee.jsxs("li",{children:[Y.title," - ",Y.service.name," ($",Y.service.price,")"]},J))})]})]})},ux=()=>{const[r,e]=Ye.useState(""),[t,a]=Ye.useState(""),[o,u]=Ye.useState(""),f=async m=>{m.preventDefault();try{await Rk(Np,r,t)}catch{u("Correo o contraseña incorrectos.")}};return ee.jsx("div",{className:"loginContainer",children:ee.jsxs("form",{className:"loginForm",onSubmit:f,children:[ee.jsx("h2",{children:"Iniciar sesión"}),ee.jsx("input",{type:"email",className:"inputField",placeholder:"Correo electrónico",value:r,onChange:m=>e(m.target.value),required:!0}),ee.jsx("input",{type:"password",className:"inputField",placeholder:"Contraseña",value:t,onChange:m=>a(m.target.value),required:!0}),o&&ee.jsx("p",{className:"error",children:o}),ee.jsx("button",{type:"submit",className:"loginButton",children:"Iniciar sesión"})]})})},cx=()=>{const r=async()=>{try{await Ck(Np)}catch(e){console.error("Error al cerrar sesión",e.message)}};return ee.jsx("div",{children:ee.jsx("button",{onClick:r,children:"Cerrar sesión"})})};var IS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tT=fs.createContext&&fs.createContext(IS),hx=["attr","size","title"];function fx(r,e){if(r==null)return{};var t=dx(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function dx(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function Uh(){return Uh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Uh.apply(this,arguments)}function nT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function jh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(t),!0).forEach(function(a){mx(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nT(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function mx(r,e,t){return e=gx(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gx(r){var e=px(r,"string");return typeof e=="symbol"?e:e+""}function px(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function CS(r){return r&&r.map((e,t)=>fs.createElement(e.tag,jh({key:t},e.attr),CS(e.child)))}function OS(r){return e=>fs.createElement(yx,Uh({attr:jh({},r.attr)},e),CS(r.child))}function yx(r){var e=t=>{var{attr:a,size:o,title:u}=r,f=fx(r,hx),m=o||t.size||"1em",g;return t.className&&(g=t.className),r.className&&(g=(g?g+" ":"")+r.className),fs.createElement("svg",Uh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,f,{className:g,style:jh(jh({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&fs.createElement("title",null,u),r.children)};return tT!==void 0?fs.createElement(tT.Consumer,null,t=>e(t)):e(IS)}function vx(r){return OS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(r)}function _x(r){return OS({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(r)}const Ex=()=>{const[r,e]=Ye.useState(null),[t,a]=Ye.useState(localStorage.getItem("darkMode")==="true");return Ye.useEffect(()=>{const o=Np.onAuthStateChanged(e);return()=>o()},[]),Ye.useEffect(()=>{document.body.classList.toggle("dark",t),localStorage.setItem("darkMode",t)},[t]),ee.jsxs("div",{className:`App ${t?"dark":""}`,children:[ee.jsx("button",{className:"theme-toggle",onClick:()=>a(o=>!o),children:t?ee.jsx(_x,{}):ee.jsx(vx,{})}),ee.jsx("h1",{className:"appTitle",children:"¡Bienvenida a la mas Linda!"}),r?ee.jsxs(ee.Fragment,{children:[ee.jsx(lx,{}),ee.jsx(cx,{})]}):ee.jsx(ux,{})]})};c1.createRoot(document.getElementById("root")).render(ee.jsx(Ye.StrictMode,{children:ee.jsx(Ex,{})}));
